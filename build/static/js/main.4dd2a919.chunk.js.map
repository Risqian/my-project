{"version":3,"sources":["images/kb.png","pages/404/styles.js","pages/404/index.js","pages/login/styles.js","config/db.js","components/PouchDB/PouchDBProvider.js","components/AppLoading/styles.js","components/AppLoading/index.js","pages/login/index.js","pages/private/styles.js","pages/private/home/styles.js","components/PouchDB/DataSyncProvider.js","push-notification.js","types.js","UpdateAvailable.js","pages/private/home/index.js","components/AppPageLoading/styles.js","components/AppPageLoading/index.js","pages/private/list/styles.js","pages/private/list/index.js","pages/private/forms/styles/wilayah.js","components/ScrollToTop.js","pages/private/forms/wilayah.js","pages/private/forms/styles/keluarga.js","pages/private/forms/pk/validation.js","pages/private/forms/keluarga.js","pages/private/forms/kb/styles.js","pages/private/forms/kb/subforms/styles.js","pages/private/forms/kb/subforms/01.js","pages/private/forms/kb/subforms/02.js","pages/private/forms/kb/subforms/03.js","utils/generator.js","pages/private/forms/kb/subforms/04.js","pages/private/forms/kb/subforms/05.js","pages/private/forms/kb/index.js","pages/private/forms/kb/subforms/06.js","pages/private/forms/kb/subforms/07.js","pages/private/forms/kb/subforms/08.js","pages/private/forms/kb/subforms/09.js","pages/private/forms/pk/styles.js","pages/private/forms/pk/subforms/styles.js","pages/private/forms/pk/subforms/radio.js","pages/private/forms/pk/subforms/number.js","pages/private/forms/pk/subforms/number_26.js","pages/private/forms/pk/subforms/checkbox.js","pages/private/forms/pk/subforms/subformradio.js","pages/private/forms/pk/subforms/subformradio_18.js","pages/private/forms/pk/index.js","pages/private/forms/styles/finish.js","pages/private/forms/options.js","pages/private/forms/preview.js","pages/private/forms/finish.js","pages/private/forms/styles/index.js","pages/private/forms/index.js","pages/private/forms/kb/beauty.js","pages/private/forms/pk/beauty.js","pages/private/forms/edit.js","pages/private/definisi-op/styles.js","pages/private/definisi-op/index.js","components/Copyright.js","pages/private/index.js","components/PrivateRoute.js","config/theme.js","App.js","serviceWorker.js","reducerUpdate.js","storeUpdate.js","index.js","images/logo.png"],"names":["module","exports","useStyles","makeStyles","theme","paper","marginTop","spacing","padding","textAlign","NotFound","classes","Container","maxWidth","Paper","className","Typography","variant","component","Link","to","title","marginBottom","container","backgroundColor","buttons","forgotPassword","logo","height","textCenter","remotebase","remote","usermanagement","wilayah","data","users","data_kk","data_kb","data_pk","data_bkkbn","cloudant_url","local","PouchDB","plugin","PouchDBFind","PouchDBAuth","dataBkkbn","dataPK","dataKK","dataKB","dataFrontend","PouchDBContext","React","createContext","usePouchDB","useContext","createIndex","index","fields","a","put","PouchDBProvider","props","useState","isLoggedIn","loading","user","setUser","auth","setAuth","useEffect","get","localsession","authData","name","getSession","session","userCtx","getUser","metadata","_id","logoutAndClearLocal","logOut","remove","localStorage","removeItem","firebase","deleteToken","console","log","JSON","stringify","Provider","value","children","color","palette","primary","main","loadingBox","display","flexDirection","justifyContent","AppLoading","src","alt","LinearProgress","Login","location","username","password","form","setForm","error","setError","isSubmitting","setSubmitting","handleChange","e","target","validate","newError","handleSubmit","preventDefault","findErrors","Object","values","some","err","logIn","response","ok","message","redirecTo","state","from","pathname","Grid","item","xs","onSubmit","noValidate","TextField","id","type","margin","label","fullWidth","required","onChange","helperText","disabled","Button","size","Date","getFullYear","root","toolbar","paddingRight","toolbarIcon","alignItems","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","backgroundImage","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","overflow","paddingTop","paddingBottom","paddingLeft","fixedHeight","fontSize","lineHeight","buttonToolbar","textTransform","iconLeft","menuIcon","footer","search","borderRadius","shape","fade","common","white","searchIcon","pointerEvents","inputRoot","inputInput","orangeAvatar","deepOrange","border","avatar","iconColor","space","searchMobile","inputInputMobile","syncing","notifItem","iconRight","imgResponsive","progressKerja","green","wilayahKerja","red","floatRightIcon","float","blueGreyBackground","blueGrey","DataSyncContext","useDataSync","DataSyncProvider","syncKK","syncKB","syncPK","syncBkkbn","statusNotif","count","isSyncing","setSyncing","didCancel","messages","date","getDate","getMonth","getHours","getMinutes","replicate","filter","query_params","on","sync","live","retry","info","statusOperasi","isDeleted","change","docs","_deleted","revSplit","parseInt","_rev","split","no_kk","data_nik","nama_anggotakel","status_sensus","infoBkkbn","errorBkkbn","status","cancel","askForPermissionToReceiveNotifications","pdb","messaging","requestPermission","then","navigator","geolocation","getCurrentPosition","getToken","token","Id","Token","fetch","method","headers","body","registrationToken","json","setItem","catch","code","SW_INIT","SW_UPDATE","Transition","forwardRef","ref","Slide","direction","UpdateAvailable","open","setOpen","isServiceWorkerUpdated","useSelector","serviceWorkerInitialized","serviceWorkerUpdated","serviceWorkerRegistration","Dialog","TransitionComponent","keepMounted","aria-labelledby","aria-describedby","DialogContent","DialogContentText","Version","version","DialogActions","onClick","registrationWaiting","waiting","postMessage","addEventListener","window","reload","Home","history","wilayahkerja","setWilayahKerja","targetkk","setTragetKK","totalDataKK","setTotalDataKK","pouchDB","currentPathname","listen","newLocation","action","push","go","getItem","tingkatwilayahid","rws","wil_rw","map","nama_rw","counttargetkk","reduce","total","current","wil_kelurahan","nama_kelurahan","join","length","rts","wil_rt","nama_rt","find","selector","user_name","$eq","query","getAllDataKK","sm","elevation","ButtonBase","CircularProgress","textLeft","match","dataBkkbnDocs","setDataBkkbnDocs","isFetching","setFetching","isDeleting","setDeleting","kepalaKels","setKepalaKels","setStatus","enqueueSnackbar","useSnackbar","statusSensus","setStatusSensus","useParams","getAllDataBkkbn","queryParams","qs","parse","kepalas","kkDoc","findKepala","sts_hubungan","kepala","toLowerCase","includes","AppPageLoading","handleSensus","event","oldValue","md","lg","FormControl","Select","displayEmpty","MenuItem","Divider","List","ListItem","divider","key","ListItemText","secondary","nik","ListItemSecondaryAction","IconButton","edge","aria-label","confirm","kbQuery","bulkDocs","doc","pkQuery","respone","userDelete","statusData","ScrollToTopWithoutRouter","scrollTo","ScrollToTop","useLocation","Wilayah","setWilayah","handleNext","mode","setKeluarga","keluarga","nextRef","useRef","isSomethingChange","setSomethingChange","hasOwnProperty","id_rw","id_rt","no_rmh","isInt","no_urutkel","jumlah_keluarga","alamat","errorValues","id_rw_bkkbn","rw","id_rt_bkkbn","rt","wil_provinsi","id_provinsi_depdagri","wil_kabupaten","id_kabupaten_depdagri","wil_kecamatan","id_kecamatan_depdagri","id_kelurahan_depdagri","trackMouse","onSwipedLeft","click","nama_provinsi","nama_kabupaten","nama_kecamatan","FormHelperText","placeholder","inputProps","min","maxLength","no_telepon","multiline","rows","rowsMax","countAge","tgl_lahir","days","differenceInCalendarDays","parseDate","formatString","haveChildren","haveWifeOrHusband","haveChildrenUnder5","haveChildrenUnder6","haveChildrenFrom10To24","years","haveFamilyMember60","haveMarriedMember","sts_kawin","haveChildrenFrom0To17","haveChildrenWithSingelParent","kd_ibukandung","PeopleInHome","keberadaan","Keluarga","handleBack","formIndex","backRef","itemHubungan","selectedKeluarga","cekKepalaKeluarga","kel","no_urutnik","cekIstri","jenis_kelamin","sts_akta","usia_kawin","jns_pendidikan","jns_asuransi","id_agama","id_pekerjaan","umurnikah","onSwipedRight","no_anggotakel","DatePicker","autoOk","format","disableFuture","inputVariant","emptyLabel","newDate","formatDate","max","prevState","val","keys","slideContent","minHeight","card","minWidth","wordWrap","backgroundClip","cardHeader","borderBottom","cardBody","flex","badge","fontWeight","verticalAlign","inputMini","inputAdornmentNoWrap","radioGroup","radioSection","flexWrap","SubForm01","setValue","saveValue","pertanyaan","kelahiran","isNumeric","lahir_hidup_laki_laki","lahir_hidup_perempuan","masih_hidup_laki_laki","masih_hidup_perempuan","normalizeValue","Pertanyaan","Jawaban_H1","Jawaban_H2","Jawaban_HDate1","Jawaban_HDate2","No_Pertanyaan","No_KK","Periode_Sensus","answer","No_Jawaban","Jawaban_D1","Jawaban_D2","Jawab_D3","Jawab_D4","pilihankb","Lainnya","paragraph","InputProps","endAdornment","InputAdornment","startAdornment","SubForm02","jumlah_anak","SubForm03","sedang_hamil","usia_kehamilan","sedang_hamil_ingin","ingin_anak","RadioGroup","FormControlLabel","control","Radio","InputLabelProps","shrink","generateYears","startYear","currentYear","reverse","generateMonths","month","months","SubForm04","kb","handleNextSub","navigationMode","handleBackSub","notPregnant","setNotPregnant","menggunakan_kontrasepsi","pernah_menggunakan_kontrasepsi","bulan_pakai","tahun_pakai","year","tahun_mulai","subforms","dontUseContrasep","setDontUseContrasep","bulan_mulai","bulan_berhenti","tahun_berhenti","alasan_tidak_kb","alasan_tidak_kb_lainnya","useContrasep","setUseContrasep","jenis_kontrasepsi","useModernContrasep","setUseModernContrasep","tempat_pelayanan","tempat_pelayanan_lainnya","info_jenis_kb","info_efek_samping_kb","info_jika_mengalami_efek","row","labelPlacement","KB","mainSlide","setKB","setNormalizeKB","wifeExists","setWifeExists","subformIndex","setSubFormIndex","in","slide","setSlide","setNavigationMode","findWife","k","age","initialKB","sfKeys","i","ckb","setTimeout","no","SubForm","inputan","normalizeKB","SubFormRadio","isSingle","setIsSingle","berlaku","setBerlaku","dependencies","valuesKel","cekberlaku","dep","validation","jawaban","lain","options","jawaban_lainnya","kondisi","Jawab_Pilih","option","SubFormNumber","unit","jumlahKeluarga","SubFormCheckbox","pk","show","setShow","show_if","cekShow","isChecked","option_no","indexOf","chunk_options_keys","chunk","options_chunk","FormGroup","keys_group","intKey","Checkbox","checked","selected","selectedIndex","newSelected","concat","slice","pertanyaanA","pertanyaanB","pertanyaanC","pertanyaanD","jawabanA","jawabanB","jawabanC","jawabanD","pilihanpk","PK","setPK","setNormalizePK","initialPK","cpk","normalizePK","tipe","heading","typography","pxToRem","fontWeightRegular","btnWrap","buttonProgress","top","left","renderDataKK","renderDataNIK","Finish","resetForm","locationUser","setLocationUser","expanded","setExpanded","isSaved","setSaved","panel","isExpanded","coords","latitude","longitude","getTime","insertNotif","userInsert","updateNotif","userUpdate","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","dataKKUtama","now","toString","id_prov","id_provinsi","id_prov_depdagri","id_kab","id_kabupaten","id_kab_depdagri","id_kec","id_kecamatan","id_kec_depdagri","id_kel","id_kelurahan","id_kel_depdagri","lodashGet","umur","curr","dataBkkbnAll","periode_sensus","href","Form","forms","setForms","setFormIndex","done","setDone","newkeluarga","id_anggota_kel","currKeluarga","f","normalize","answer1","answer2","beauty","answer3","qid","answer4","EditForm","params","useHistory","fillForm","newkb","no_tes","beautyKB","newpk","newIndex","beautyPK","DefOP","Copyright","align","Private","queryString","anchorEl","setAnchorEl","anchorElSearch","setAnchorElSearch","handleCloseMenu","handleSignOut","openNotification","setOpenNotification","handleCloseNotification","handleClick","AppBar","Toolbar","Hidden","xsDown","InputBase","input","smUp","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","Boolean","onClose","autoFocus","Tooltip","render","online","Badge","badgeContent","contains","implementation","linkText","Menu","getContentAnchorEl","aria-haspopup","Avatar","firstName","charAt","lastName","ListItemIcon","exact","path","PrivateRoute","Component","restProps","createMuiTheme","blue","App","CssBaseline","ThemeProvider","maxSnack","autoHideDuration","utils","DateFnsUtils","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","rootReducer","payload","configureStore","store","createStore","ReactDOM","document","getElementById","URL","process","origin","contentType","ready","unregister","checkValidServiceWorker","dispatch","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","useServiceWorker","onMessage","notificationTitle","notificationOptions","icon","tag","link","showNotification"],"mappings":"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","file":"static/js/main.4dd2a919.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/kb.4a48f836.png\";","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    paper: {\n        marginTop: theme.spacing(8),\n        padding: theme.spacing(6),\n        textAlign:'center'\n    }\n}))\n\nexport default useStyles;","import React from 'react';\n\n// material-ui\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { Link } from 'react-router-dom';\n\n// styles\nimport useStyles from './styles';\n\nfunction NotFound() {\n\n    const classes = useStyles();\n    return (\n        <Container maxWidth=\"xs\">\n\n            <Paper className={classes.paper}>\n                <Typography variant=\"subtitle1\">Halaman Tidak Ditemukan</Typography>\n                <Typography variant=\"h3\">404</Typography>\n                <Typography component={Link} to=\"/\">Kembali ke Beranda</Typography>\n            </Paper>\n        </Container>\n    )\n}\n\nexport default NotFound;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        //color: theme.palette.primary.main\n        textAlign: 'center',\n        marginBottom: theme.spacing(1)\n    },\n    container: {\n        marginTop: theme.spacing(8),\n\n    },\n    paper: {\n        padding: theme.spacing(6),\n        backgroundColor: 'rgba(255,255,255,.3)'\n    },\n    buttons: {\n        marginTop: theme.spacing(2)\n    },\n    forgotPassword: {\n        marginTop: theme.spacing(3)\n    },\n    logo: {\n        height: 92\n    },\n    textCenter: {\n        textAlign: 'center'\n    }\n}))\n\n\nexport default useStyles;","const remotebase = \"https://dev2.multisoft.co.id:36984\";\n// const remotebase = \"http://35.201.183.73:5984\";\n// const remotebase = \"http://36.89.25.220:35984\";\n// const remotebase = \"http://localhost:5984\";\n// const remotebase = \"https://36.89.25.220:36984/\";\n// const remotebase = \"https://dev2.multisoft.co.id:36985\";\n\nexport const remote = {\n    usermanagement: `${remotebase}/usermanagement`,\n    wilayah: `${remotebase}/wilayah`,\n    data: `${remotebase}/data`,\n    users: `${remotebase}/_users`,\n    data_kk: `${remotebase}/data_kk`,\n    data_kb: `${remotebase}/data_kb`,\n    data_pk: `${remotebase}/data_pk`,\n    //05Des2019\n    data_bkkbn: `${remotebase}/data_bkkbn`,\n    cloudant_url: `${remotebase}`\n}\n\nexport const local = {\n    data_kk: 'data_kk',\n    data_kb: 'data_kb',\n    data_pk: 'data_pk',\n    //05Des2019\n    data_bkkbn: `data_bkkbn`\n}\n","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport PouchDB from 'pouchdb-browser';\r\nimport PouchDBFind from 'pouchdb-find';\r\nimport PouchDBAuth from 'pouchdb-authentication';\r\nimport { remote, local } from '../../config/db';\r\n// import { useSnackbar } from 'notistack';\r\n\r\n//localforage\r\n//import localforage from 'localforage';\r\n\r\n// Firebase\r\nimport * as firebase from 'firebase';\r\n\r\nPouchDB.plugin(PouchDBFind);\r\nPouchDB.plugin(PouchDBAuth);\r\n\r\n// db 05Des2019\r\nconst dataBkkbn = {\r\n    local: new PouchDB(local.data_bkkbn),\r\n    remote: new PouchDB(remote.data_bkkbn)\r\n}\r\n\r\n// db \r\nconst dataPK = {\r\n    local: new PouchDB(local.data_pk),\r\n    remote: new PouchDB(remote.data_pk)\r\n}\r\n\r\nconst dataKK = {\r\n    local: new PouchDB(local.data_kk),\r\n    remote: new PouchDB(remote.data_kk)\r\n}\r\n\r\nconst dataKB = {\r\n    local: new PouchDB(local.data_kb),\r\n    remote: new PouchDB(remote.data_kb)\r\n}\r\n\r\nconst dataFrontend = new PouchDB('frontend');\r\n\r\n\r\n\r\nconst PouchDBContext = React.createContext();\r\n\r\n//create indexes 05Des2019\r\ndataBkkbn.local.createIndex({\r\n    index: {\r\n        fields: ['No_KK']\r\n    }\r\n});\r\n\r\n// //create indexes\r\ndataKK.local.createIndex({\r\n    index: {\r\n        fields: ['user_name', 'no_kk']\r\n    }\r\n});\r\ndataKB.local.createIndex({\r\n    index: {\r\n        fields: ['No_KK']\r\n    }\r\n});\r\n\r\ndataPK.local.createIndex({\r\n    index: {\r\n        fields: ['No_KK']\r\n    }\r\n});\r\n\r\n// create filter\r\n(async () => {\r\n    try {\r\n        await dataBkkbn.local.put({\r\n            \"_id\": \"_design/app\",\r\n            \"filters\": {\r\n                \"by_user_name\": \"function(doc, req) {return doc.user_name === req.query.user_name;}\"\r\n            }\r\n        })\r\n\r\n        await dataKK.local.put({\r\n            \"_id\": \"_design/app\",\r\n            \"filters\": {\r\n                \"by_user_name\": \"function(doc, req) {return doc.user_name === req.query.user_name;}\"\r\n            }\r\n        })\r\n\r\n        await dataPK.local.put({\r\n            \"_id\": \"_design/app\",\r\n            \"filters\": {\r\n                \"by_user_name\": \"function(doc, req) {return doc.user_name === req.query.user_name;}\"\r\n            }\r\n        })\r\n\r\n        await dataKB.local.put({\r\n            \"_id\": \"_design/app\",\r\n            \"filters\": {\r\n                \"by_user_name\": \"function(doc, req) {return doc.user_name === req.query.user_name;}\"\r\n            }\r\n        })\r\n    } catch (e) {\r\n\r\n    }\r\n})();\r\n\r\n\r\n\r\nexport function usePouchDB() {\r\n\r\n    return useContext(PouchDBContext);\r\n}\r\n\r\n\r\nfunction PouchDBProvider(props) {\r\n\r\n    const [user, setUser] = useState({\r\n        isLoggedIn: false,\r\n        loading: true\r\n    })\r\n    const [auth, setAuth] = useState({})\r\n    // const { enqueueSnackbar } = useSnackbar();\r\n\r\n    //console.log(user)\r\n    // auth\r\n    useEffect(() => {\r\n\r\n        const auth = new PouchDB(remote.users);\r\n        setAuth(auth);\r\n        const getSession = async () => {\r\n            setUser(user => ({ ...user, loading: true }))\r\n\r\n            try {\r\n\r\n                const localsession = await dataFrontend.get('auth');\r\n                // console.log(localsession)\r\n                setUser(localsession.authData)\r\n\r\n\r\n            } catch (e) {\r\n                // console.log(e.message)\r\n                // console.log(e)\r\n                if (e.name === 'not_found') {\r\n                    try {\r\n                        const session = await auth.getSession();\r\n                        // console.log(session)\r\n\r\n                        if (session.userCtx.name) {\r\n\r\n                            const metadata = await auth.getUser(session.userCtx.name)\r\n                            setUser(user => ({\r\n                                ...user,\r\n                                ...session,\r\n                                isLoggedIn: true,\r\n                                metadata,\r\n                            }))\r\n\r\n                            const authData = {\r\n                                ...session,\r\n                                isLoggedIn: true,\r\n                                metadata\r\n                            }\r\n                            await dataFrontend.put({\r\n                                _id: 'auth',\r\n                                authData\r\n                            })\r\n\r\n\r\n\r\n\r\n                        } else {\r\n                            setUser({\r\n\r\n                                isLoggedIn: false,\r\n                                loading: false\r\n                            })\r\n                        }\r\n                    } catch (e) {\r\n                        setUser({\r\n\r\n                            isLoggedIn: false,\r\n                            loading: false\r\n                        })\r\n                    }\r\n                } else {\r\n                    setUser({\r\n\r\n                        isLoggedIn: false,\r\n                        loading: false\r\n                    })\r\n                }\r\n            }\r\n\r\n            setUser(user => ({ ...user, loading: false }))\r\n        }\r\n\r\n        getSession()\r\n\r\n\r\n    }, [user.isLoggedIn])\r\n\r\n    const logoutAndClearLocal = async () => {\r\n        try {\r\n            await auth.logOut()\r\n            const localsession = await dataFrontend.get('auth')\r\n            await dataFrontend.remove(localsession);\r\n            await localStorage.removeItem('notification-token')\r\n            await firebase.messaging().deleteToken();\r\n\r\n            setUser(user => ({ ...user, isLoggedIn: false }))\r\n        } catch (e) {\r\n            console.log(JSON.stringify(e))\r\n            if (e.name === 'not_found') {\r\n                setUser(user => ({ ...user, isLoggedIn: false }))\r\n                // } else if (e.name === 'unknown') {\r\n                //     enqueueSnackbar('Anda sedang offline, logout hanya bisa dilakukan saat anda online', { variant: 'error' })\r\n                // } else {\r\n                //     enqueueSnackbar('Terjadi kesalahan silahkan coba lagi', { variant: 'error' })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return <PouchDBContext.Provider value={{\r\n        logoutAndClearLocal,\r\n        auth,\r\n        user,\r\n        setUser,\r\n        dataKK,\r\n        dataPK,\r\n        dataKB,\r\n        dataBkkbn,\r\n        PouchDB\r\n    }}>\r\n        {props.children}\r\n    </PouchDBContext.Provider>\r\n\r\n}\r\n\r\nexport default PouchDBProvider;\r\n\r\n","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    title: {\n        color: theme.palette.primary.main,\n        textAlign: 'center'\n    },\n\n    loadingBox: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        height: '100vh'\n    },\n    logo: {\n        height: 65\n    },\n    textCenter: {\n        textAlign: 'center'\n    }\n\n\n}))\n\n\nexport default useStyles;","import React from 'react';\n\n\n// material-ui\n\nimport Container from '@material-ui/core/Container'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\n\n\nimport useStyles from './styles';\nimport logo from '../../images/logo.png';\n\nfunction AppLoading() {\n\n    const classes = useStyles();\n\n\n    return (\n        <Container maxWidth=\"xs\">\n            <div className={classes.loadingBox}>\n                <div className={classes.textCenter}>\n                    <img src={logo} alt=\"logo\" className={classes.logo} />\n                    <Typography\n                        variant=\"h6\"\n                        component=\"h2\"\n                        className={classes.title}\n                    >\n                        BKKBN\n                </Typography>\n                </div>\n                <LinearProgress />\n            </div>\n        </Container>\n    )\n}\n\nexport default AppLoading;","import React, { useState } from 'react';\n\n// import komponen material-ui\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\n// import styles\nimport useStyles from './styles';\n\n// react router dom\nimport { Redirect } from 'react-router-dom';\n\n// pouchdb hook\nimport { usePouchDB } from '../../components/PouchDB/PouchDBProvider';\n\n// app components\nimport AppLoading from '../../components/AppLoading';\n\nimport logo from '../../images/logo.png';\n// import { useSnackbar } from 'notistack';\n\nfunction Login(props) {\n    const { location } = props;\n    const classes = useStyles();\n    // const { enqueueSnackbar } = useSnackbar();\n    const [form, setForm] = useState({\n        username: '',\n        password: ''\n    });\n\n    const [error, setError] = useState({\n        username: '',\n        password: ''\n    })\n    const [isSubmitting, setSubmitting] = useState(false);\n\n    const { auth, user, setUser } = usePouchDB();\n\n    const handleChange = e => {\n\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        })\n        setError({\n            ...error,\n            [e.target.name]: ''\n        })\n    }\n\n    const validate = () => {\n\n        const newError = { ...error };\n\n        if (!form.username) {\n            newError.username = 'User wajib diisi';\n        }\n\n        if (!form.password) {\n            newError.password = 'Password wajib diisi';\n        }\n\n\n        return newError;\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const findErrors = validate();\n\n        if (Object.values(findErrors).some(err => err !== '')) {\n            setError(findErrors);\n\n        } else {\n            try {\n                setSubmitting(true);\n                const response = await auth.logIn(form.username, form.password);\n\n                const { ok, ...userCtx } = response;\n                if (ok) {\n                    // const metadata = await auth.getUser(userCtx.name);\n                    setUser(user => ({\n                        ...user,\n                        isLoggedIn: true,\n                        userCtx,\n                        // metadata\n                    }))\n                }\n\n            } catch (e) {\n                console.log(e.name, e.message, JSON.stringify(e))\n\n                const newError = {};\n\n                if (e.name === 'unauthorized' || e.name === 'forbidden') {\n                    // name or password incorrect\n                    newError.password = \"User atau Password salah\"\n                } else if (e.name === 'not_found') {\n                    newError.password = \"User tidak ditemukan\"\n                // } else if (e.name === 'unknown') {\n                //     enqueueSnackbar('Anda sedang offline, login hanya bisa dilakukan saat anda online', { variant: 'error' })\n                // } else {\n                //     enqueueSnackbar('Terjadi kesalahan silahkan coba lagi', { variant: 'error' })\n                }\n\n                setError(newError);\n                setSubmitting(false);\n\n            }\n\n        }\n    }\n\n\n    if (user.loading) {\n\n        return <AppLoading />\n    }\n    if (user.isLoggedIn) {\n        const redirecTo = location.state && location.state.from && location.state.from.pathname ? location.state.from.pathname : '/';\n        return <Redirect to={redirecTo} />\n    }\n\n\n    return <Container maxWidth=\"xs\" className={classes.container}>\n        <Grid container spacing={1}>\n            <Grid item xs={12} className={classes.textCenter}>\n                <img src={logo} className={classes.logo} alt=\"logo\" />\n            </Grid>\n            <Grid item xs={12}>\n                <Paper className={classes.paper}>\n\n                    <Typography\n                        variant=\"h5\"\n                        component=\"h1\"\n                        className={classes.title}>Login</Typography>\n\n                    <form onSubmit={handleSubmit} noValidate>\n                        <TextField\n                            variant=\"outlined\"\n                            id=\"username\"\n                            type=\"username\"\n                            name=\"username\"\n                            margin=\"normal\"\n                            label=\"Username\"\n                            fullWidth\n                            required\n                            value={form.username}\n                            onChange={handleChange}\n                            helperText={error.username}\n                            error={error.username ? true : false}\n                            disabled={isSubmitting}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            id=\"password\"\n                            type=\"password\"\n                            name=\"password\"\n                            margin=\"normal\"\n                            label=\"Password\"\n                            fullWidth\n                            required\n                            value={form.password}\n                            onChange={handleChange}\n                            helperText={error.password}\n                            error={error.password ? true : false}\n                            disabled={isSubmitting}\n                        />\n\n\n                        <Grid container className={classes.buttons}>\n                            <Grid item xs={12}>\n                                <Button\n                                    fullWidth\n                                    disabled={isSubmitting}\n                                    type=\"submit\" color=\"primary\" variant=\"contained\"\n                                    size=\"large\"\n                                >Login</Button>\n                            </Grid>\n\n                        </Grid>\n\n\n\n\n                    </form>\n\n                </Paper>\n            </Grid>\n            <Grid item xs={12} className={classes.textCenter}>\n                <Typography>&copy; {new Date().getFullYear()} BKKBN</Typography>\n            </Grid>\n        </Grid>\n    </Container>\n}\n\nexport default Login;","\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport deepOrange from '@material-ui/core/colors/blue';\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    toolbar: {\r\n        paddingRight: 24, // keep right padding when drawer closed\r\n\r\n    },\r\n    toolbarIcon: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        padding: '0 8px',\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        backgroundImage: \"linear-gradient(to right, #fff, #2699FB)\",\r\n        padding: \".5rem 1rem\"\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n        display: 'none',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        color: \"rgba(0, 0, 0, 0.87)\"\r\n    },\r\n    drawerPaper: {\r\n        position: 'relative',\r\n        whiteSpace: 'nowrap',\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerPaperClose: {\r\n        overflowX: 'hidden',\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        width: theme.spacing(7),\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(9),\r\n        },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingTop: theme.spacing(4),\r\n        paddingBottom: theme.spacing(4),\r\n        paddingLeft: theme.spacing(1),\r\n        paddingRight: theme.spacing(1)\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 240,\r\n    },\r\n    logo: {\r\n\r\n        height: 65,\r\n        display: 'inline-block',\r\n        paddingTop: '.3125rem',\r\n        paddingBottom: '.3125rem',\r\n        marginRight: '1rem',\r\n        fontSize: '1.25rem',\r\n        lineHeight: 'inherit',\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    buttonToolbar: {\r\n        textTransform: 'none',\r\n        margin: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    menuIcon: {\r\n        fontSize: '2.5rem'\r\n    },\r\n    footer: {\r\n        padding: theme.spacing(2),\r\n        marginTop: 'auto',\r\n\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: 120,\r\n            '&:focus': {\r\n                width: 200,\r\n            },\r\n        },\r\n    },\r\n    orangeAvatar: {\r\n\r\n        color: '#fff',\r\n        backgroundColor: deepOrange[500],\r\n        border: \"solid 2px\"\r\n    },\r\n    avatar: {\r\n        marginLeft: theme.spacing(2)\r\n    },\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconColor: {\r\n        color: \"#fff\"\r\n    },\r\n    space: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    searchMobile: {\r\n        flexGrow: 1\r\n    },\r\n    inputInputMobile: {\r\n        padding: 10,\r\n    },\r\n    syncing: {\r\n        fontSize: 14\r\n    },\r\n    notifItem: {\r\n        whiteSpace: 'normal'\r\n    }\r\n\r\n}));\r\n\r\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\r\nimport green from '@material-ui/core/colors/green';\r\nimport red from '@material-ui/core/colors/red';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport blueGrey from '@material-ui/core/colors/blueGrey';\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    container: {\r\n        // marginTop: theme.spacing(8),\r\n        padding: theme.spacing(2),\r\n        //  textAlign: 'center'\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    imgResponsive: {\r\n        width: \"100%\"\r\n    },\r\n    progressKerja: {\r\n        backgroundColor: green[500],\r\n        padding: \"1.25rem\",\r\n        color: \"#fff\"\r\n    },\r\n    wilayahKerja: {\r\n        backgroundColor: red[500],\r\n        padding: \"1.25rem\",\r\n        color: \"#fff\"\r\n    },\r\n    floatRightIcon: {\r\n        float: 'right'\r\n    },\r\n    blueGreyBackground: {\r\n        backgroundColor: blueGrey[500],\r\n        padding: \"1.25rem\",\r\n        color: \"#fff\",\r\n        textAlign: 'center',\r\n        width: \"100%\"\r\n    },\r\n\r\n    fullWidth: {\r\n        width: \"100%\"\r\n    }\r\n\r\n}))\r\n\r\nexport default useStyles;","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport { usePouchDB } from './PouchDBProvider';\r\nimport { addHours } from 'date-fns';\r\n\r\nconst DataSyncContext = React.createContext();\r\n\r\n\r\nexport function useDataSync() {\r\n    return useContext(DataSyncContext);\r\n}\r\n\r\nexport default function DataSyncProvider(props) {\r\n\r\n    const { user: { metadata }, dataKK, dataPK, dataKB, dataBkkbn } = usePouchDB();\r\n\r\n    const [isSyncing, setSyncing] = useState({\r\n        syncKK: false,\r\n        syncKB: false,\r\n        syncPK: false,\r\n        syncBkkbn: false,\r\n        statusNotif: { count: 0, message: [] }\r\n    })\r\n\r\n    useEffect(() => {\r\n\r\n        let didCancel = false;\r\n        let syncKK;\r\n        let syncKB;\r\n        let syncPK;\r\n        let syncBkkbn;\r\n        let count = 0;\r\n        let messages = [];\r\n\r\n        let tanggal = new Date().getDate();\r\n        let bulan = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];\r\n        let now = new Date();\r\n        let thisBulan = bulan[now.getMonth()];\r\n        let tahun = new Date().getFullYear();\r\n        let date = tanggal + \"/\" + thisBulan + \"/\" + tahun;\r\n\r\n        let jam = new Date().getHours();\r\n        let menit = new Date().getMinutes();\r\n        let time = jam + ':' + menit;\r\n\r\n        dataBkkbn.local.replicate.from(dataBkkbn.remote, {\r\n            filter: 'app/by_user_name',\r\n            query_params: { \"user_name\": metadata.name }\r\n        }).on('complete', () => {\r\n            console.log(\"Replicating local to remote is complete\");\r\n            console.log(\"Syncing local to remote on... \");\r\n            syncBkkbn = dataBkkbn.local.sync(dataBkkbn.remote, {\r\n                live: true,\r\n                retry: true,\r\n                filter: 'app/by_user_name',\r\n                query_params: { \"user_name\": metadata.name }\r\n            }).on('change', (info) => {\r\n                // handle change\r\n\r\n                if (!didCancel) {\r\n                    let statusOperasi = 'Tambah Data'\r\n                    let isDeleted = info.change.docs[0]._deleted\r\n                    let revSplit = parseInt(info.change.docs[0]._rev.split(\"-\")[0])\r\n                    if (revSplit > 3) {\r\n                        if (isDeleted) {\r\n                            statusOperasi = 'Hapus Data'\r\n                        } else {\r\n                            statusOperasi = 'Ubah Data'\r\n                        }\r\n                    }\r\n\r\n                    if(revSplit % 3 == 1){\r\n                        messages = [...messages, { 'content': 'Tanggal: ' + date + ', isi: ' + statusOperasi + ' pada no. KK: ' + info.change.docs[0].no_kk + ' a.n.: ' + info.change.docs[0].data_nik[0].nama_anggotakel }];\r\n                    }\r\n                    else if(isDeleted){\r\n                        messages = [...messages, { 'content': 'Tanggal: ' + date + ', isi: ' + statusOperasi + ' pada no. KK: ' + info.change.docs[0].no_kk + ' a.n.: ' + info.change.docs[0].data_nik[0].nama_anggotakel }];\r\n                    }\r\n                    else {\r\n                        messages = [...messages, { 'content': 'Tanggal: ' + date + ', ' + 'status: ' + info.change.docs[0].status_sensus + ', isi: ' + statusOperasi + ' pada no. KK: ' + info.change.docs[0].no_kk + ' a.n.: ' + info.change.docs[0].data_nik[0].nama_anggotakel }];\r\n                    }\r\n\r\n                    //messages = [...messages, { 'content': 'Tanggal: ' + date + ', ' + 'status: ' + info.change.docs[0].status_sensus + ', isi: ' + statusOperasi + ' pada no. KK: ' + info.change.docs[0].no_kk + ' a.n.: ' + info.change.docs[0].data_nik[0].nama_anggotakel }];\r\n\r\n                    // Notif lonceng\r\n                    // let itemSplits = info.change.docs[0]._rev.split(\"-\")\r\n                    // let statusMessages = parseInt(itemSplits[0]) > 1 ? \"Ubah Data \" : \"Tambah Data\"\r\n                    // messages = [...messages, { 'content': 'Tanggal: ' + date + ' at ' + time + ', ' + statusMessages + info.change.docs[0].status_sensus + ' pada NIK: ' + info.change.docs[0].data_nik[0].nik + ' a.n: ' + info.change.docs[0].data_nik[0].nama_anggotakel }];\r\n                    count = count + 1;\r\n                    setSyncing(isSyncing => ({ ...isSyncing, syncBkkbn: true, infoBkkbn: info, statusNotif: { count: count, message: messages } }));\r\n                }\r\n            }).on('paused', (err) => {\r\n                // replication paused (e.g. replication up to date, user went offline)\r\n                if (!didCancel)\r\n                    setSyncing(isSyncing => ({ ...isSyncing, syncBkkbn: false, errorBkkbn: err }));\r\n            }).on('active', () => {\r\n                // replicate resumed (e.g. new changes replicating, user went back online)\r\n                if (!didCancel)\r\n                    setSyncing(isSyncing => ({ ...isSyncing, syncBkkbn: true }));\r\n            }).on('denied', (err) => {\r\n                // a document failed to replicate (e.g. due to permissions)\r\n                if (!didCancel)\r\n                    setSyncing(isSyncing => ({ ...isSyncing, syncBkkbn: false, errorBkkbn: err }));\r\n            }).on('complete', (info) => {\r\n                // handle complete\r\n                if (!didCancel)\r\n                    setSyncing(isSyncing => ({ ...isSyncing, syncBkkbn: false, infoBkkbn: info }));\r\n            }).on('error', (err) => {\r\n                // handle error\r\n                console.log(\"Come Error in 1\" + err);\r\n\r\n                if (!didCancel)\r\n                    setSyncing(isSyncing => ({ ...isSyncing, syncBkkbn: false, errorBkkbn: err }));\r\n            });\r\n        }).on('error', (err) => {\r\n            console.log(\"Come Error in 2\" + err);\r\n\r\n            if (err.status === 404) {\r\n                console.log(\"Come Error in 2 is 404 next action replicate!!\");\r\n                // dataBkkbn.local.replicate.from(dataBkkbn.remote, {\r\n                //     filter: 'app/by_user_name',\r\n                //     query_params: { \"user_name\": metadata.name }\r\n                // }).on('error', (err) => {\r\n                //     console.log(\"Come Error in 3 .. \" + err);\r\n                // });\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            didCancel = true;\r\n            if (syncKK)\r\n                syncKK.cancel();\r\n            if (syncKB)\r\n                syncKB.cancel();\r\n            if (syncPK)\r\n                syncPK.cancel();\r\n            if (syncBkkbn)\r\n                syncBkkbn.cancel();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    // console.log(isSyncing)\r\n\r\n    return <DataSyncContext.Provider\r\n        value={{\r\n            isSyncing\r\n        }}\r\n    >{props.children}</DataSyncContext.Provider>\r\n}\r\n\r\n","import React from 'react';\r\nimport * as firebase from 'firebase';\r\nimport { usePouchDB } from './components/PouchDB/PouchDBProvider';\r\n\r\nexport const initializeFirebase = () => {\r\n\tconst config = {\r\n\t\tapiKey: \"AIzaSyCoZQsfuMIf6M8GOBqDC3aExvDtiMvhMfc\",\r\n\t\tauthDomain: \"web-push-notification-7ca2b.firebaseapp.com\",\r\n\t\tdatabaseURL: \"https://web-push-notification-7ca2b.firebaseio.com\",\r\n\t\tprojectId: \"web-push-notification-7ca2b\",\r\n\t\tstorageBucket: \"web-push-notification-7ca2b.appspot.com\",\r\n\t\tmessagingSenderId: \"204164476841\",\r\n\t\tappId: \"1:204164476841:web:f89fc19db348fabb0b1eb8\",\r\n\t\tmeasurementId: \"G-CPRNNER1V7\"\r\n\t};\r\n\r\n\tfirebase.initializeApp(config);\r\n\r\n\tif ('serviceWorker' in navigator) {\r\n\t\twindow.addEventListener('load', async () => {\r\n\t\t\tconst registration = await navigator.serviceWorker.register('/assets/firebase-messaging-sw.js');\r\n\r\n\t\t\tconst messaging = firebase.messaging();\r\n\t\t\tmessaging.useServiceWorker(registration);\r\n\t\t\tmessaging.onMessage((payload) => {\r\n\t\t\t\tconsole.log('[firebase-messaging-sw.js] Received background message ', payload);\r\n\t\t\t\t// Customize notification here\r\n\t\t\t\tconst notificationTitle = payload.data.title;\r\n\t\t\t\tconst notificationOptions = {\r\n\t\t\t\t\tbody: payload.data.body,\r\n\t\t\t\t\ticon: payload.data.icon,\r\n\t\t\t\t\ttag: payload.data.tag,\r\n\t\t\t\t\tdata: payload.data.link\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn registration.showNotification(notificationTitle,\r\n\t\t\t\t\tnotificationOptions);\r\n\t\t\t});\r\n\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const askForPermissionToReceiveNotifications = async (pdb) => {\r\n\ttry {\r\n\t\tconst messaging = firebase.messaging();\r\n\t\tawait messaging.requestPermission()\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log('Have Permission');\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition(function (position) {\r\n\r\n\t\t\t\t});\r\n\t\t\t\treturn messaging.getToken();\r\n\t\t\t})\r\n\t\t\t.then(token => {\r\n\t\t\t\tconsole.log('FCM Token: ', token);\r\n\t\t\t\tconst { user: { metadata } } = pdb;\r\n\t\t\t\tlet Id = metadata.name;\r\n\t\t\t\t// let Id = 2;\r\n\t\t\t\tlet Token = token;\r\n\t\t\t\tfetch('https://demo-bkkbn-notif.herokuapp.com/api/v1/register', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: { 'Content-type': 'application/json' },\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tusername: Id,\r\n\t\t\t\t\t\tregistrationToken: Token,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tresponse.json()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tlocalStorage.setItem('notification-token', token);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => console.error(e))\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tif (error.code === 'messaging/permission-blocked') {\r\n\t\t\t\t\tconsole.log('Please Unblock Notification Request Manually');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n\r\n};","export const SW_INIT = 'SW_INIT';\r\nexport const SW_UPDATE = 'SW_UPDATE';","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Version from '../package.json';\r\n\r\nimport { SW_INIT, SW_UPDATE } from './types';\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction UpdateAvailable() {\r\n    // getModalStyle is not a pure function, we roll the style only on the first render\r\n    const [open, setOpen] = React.useState(true);\r\n    const isServiceWorkerInitialized = useSelector(\r\n        state => state.serviceWorkerInitialized,\r\n    );\r\n    const isServiceWorkerUpdated = useSelector(\r\n        state => state.serviceWorkerUpdated,\r\n    );\r\n    const serviceWorkerRegistration = useSelector(\r\n        state => state.serviceWorkerRegistration,\r\n    );\r\n    const updateServiceWorker = () => {\r\n        const registrationWaiting = serviceWorkerRegistration.waiting;\r\n        if (registrationWaiting) {\r\n            registrationWaiting.postMessage({ type: 'SKIP_WAITING' });\r\n            registrationWaiting.addEventListener('statechange', e => {\r\n                if (e.target.state === 'activated') {\r\n                    setOpen(false);\r\n                    window.location.reload();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            {isServiceWorkerUpdated && (\r\n                <Dialog\r\n                    type={SW_UPDATE}\r\n                    open={open}\r\n                    TransitionComponent={Transition}\r\n                    keepMounted\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogContent>\r\n                        <DialogContentText id=\"alert-dialog-slide-description\">\r\n                            Versi {Version.version}\r\n                    </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                            onClick={updateServiceWorker} color=\"primary\">\r\n                            Update\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            )\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UpdateAvailable;","import React, { useEffect, useState } from 'react';\r\n\r\n// material-ui\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n//icons\r\nimport People from '@material-ui/icons/People';\r\nimport BarChart from '@material-ui/icons/BarChart';\r\nimport Map from '@material-ui/icons/Map';\r\nimport Create from '@material-ui/icons/Create';\r\nimport Book from '@material-ui/icons/Book';\r\n\r\n// app components\r\nimport { usePouchDB } from '../../../components/PouchDB/PouchDBProvider';\r\n\r\n//utils\r\n//import uuidv1 from 'uuid/v1';\r\n// styles\r\nimport useStyles from './styles';\r\n\r\n// images\r\nimport kb from '../../../images/kb.png';\r\nimport { useDataSync } from '../../../components/PouchDB/DataSyncProvider';\r\n\r\n// Firebase\r\nimport * as firebase from 'firebase';\r\n\r\nimport { askForPermissionToReceiveNotifications } from '../../../push-notification';\r\nimport Update from '../../../UpdateAvailable';\r\n\r\nfunction Home({ history }) {\r\n\r\n    const classes = useStyles();\r\n    const { user, dataBkkbn } = usePouchDB();\r\n    const { isSyncing } = useDataSync();\r\n    const metadata = user.metadata;\r\n    const [wilayahkerja, setWilayahKerja] = useState('');\r\n    const [targetkk, setTragetKK] = useState(0);\r\n    const [totalDataKK, setTotalDataKK] = useState(0);\r\n    const [pouchDB, setPouchDB] = useState(usePouchDB())\r\n    //console.log(metadata)\r\n    const createForm = (e) => {\r\n        history.push(`/form`);\r\n    }\r\n\r\n    let currentPathname = null\r\n    let currentSearch = null\r\n\r\n    useEffect(() => {\r\n        history.listen((newLocation, action) => {\r\n            if (action === \"PUSH\") {\r\n                if (\r\n                    newLocation.pathname !== currentPathname\r\n                ) {\r\n                    // simpan new location\r\n                    currentPathname = newLocation.pathname\r\n                    currentSearch = newLocation.search\r\n\r\n                    // clone location object and push it to history\r\n                    history.push({\r\n                        pathname: newLocation.pathname,\r\n                        search: newLocation.search\r\n                    })\r\n\r\n                }\r\n            } else {\r\n                // send user back  if they try  to navigate back\r\n                history.go(1)\r\n            }\r\n        })\r\n\r\n        //  if (!isSyncing.syncKK) {\r\n        if (!localStorage.getItem('notification-token')) {\r\n            askForPermissionToReceiveNotifications(pouchDB);\r\n\r\n\r\n        }\r\n\r\n        if (parseInt(metadata.tingkatwilayahid) === 5) {\r\n            //console.log('rw')\r\n            const rws = metadata.wil_rw.map(wil_rw => wil_rw.nama_rw);\r\n            const counttargetkk = metadata.wil_rw.reduce((total, current) => {\r\n\r\n                return total + parseInt(current.targetkk);\r\n            }, 0)\r\n            setTragetKK(counttargetkk)\r\n            setWilayahKerja(`${metadata.wil_kelurahan.nama_kelurahan} RW:${rws.join()}`)\r\n\r\n        } else if (parseInt(metadata.tingkatwilayahid) === 6) {\r\n\r\n            if (metadata.wil_rw.length > 0) {\r\n                const wil_rw = metadata.wil_rw[0];\r\n                const rts = wil_rw.wil_rt.map(wil_rt => wil_rt.nama_rt);\r\n                const counttargetkk = wil_rw.wil_rt.reduce((total, current) => {\r\n\r\n                    return total + parseInt(current.targetkk);\r\n                }, 0)\r\n                setTragetKK(counttargetkk)\r\n                setWilayahKerja(`${metadata.wil_kelurahan.nama_kelurahan} RW:${wil_rw.nama_rw} RT:${rts.join()}`)\r\n            }\r\n\r\n        }\r\n        //}\r\n    }, [metadata])\r\n    useEffect(() => {\r\n        let didCancel = false;\r\n        const getAllDataKK = async () => {\r\n\r\n            const query = await dataBkkbn.local.find({\r\n                selector: {\r\n                    user_name: { $eq: metadata.name }\r\n                }\r\n            });\r\n\r\n\r\n            // console.log(query, await dataKK.local.allDocs())\r\n\r\n\r\n            if (!didCancel)\r\n                setTotalDataKK(query.docs.length)\r\n        }\r\n\r\n        getAllDataKK();\r\n\r\n\r\n        return () => {\r\n            didCancel = true\r\n        }\r\n    }, [metadata, dataBkkbn.local])\r\n\r\n    return (\r\n        <Container maxWidth=\"md\" className={classes.container}>\r\n\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                    <Paper className={classes.progressKerja} elevation={0}>\r\n                        <div className={classes.floatRightIcon}>\r\n                            <BarChart fontSize=\"large\" />\r\n                        </div>\r\n                        <Typography variant=\"h5\" >Progress Kerja</Typography>\r\n                        <Typography variant=\"subtitle1\" >{totalDataKK} dari {targetkk} Keluarga</Typography>\r\n                    </Paper>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <Paper className={classes.wilayahKerja} elevation={0}>\r\n                        <div className={classes.floatRightIcon}>\r\n                            <Map fontSize=\"large\" />\r\n                        </div>\r\n                        <Typography variant=\"h5\" >Wilayah Kerja</Typography>\r\n                        <Typography variant=\"subtitle1\" >{wilayahkerja}</Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <ButtonBase className={classes.fullWidth} onClick={createForm}>\r\n                        <Paper className={classes.blueGreyBackground} elevation={0}>\r\n                            <Create />\r\n                            <Typography>\r\n                                Tambah Data</Typography>\r\n                        </Paper>\r\n                    </ButtonBase>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <ButtonBase className={classes.fullWidth} onClick={() => {\r\n                        history.push('/list')\r\n                    }}>\r\n                        <Paper className={classes.blueGreyBackground} elevation={0}>\r\n                            <People />\r\n                            <Typography>\r\n                                Daftar Keluarga</Typography>\r\n                        </Paper>\r\n                    </ButtonBase>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <ButtonBase onClick={() => {\r\n                        history.push('/definisi-operasional')\r\n                    }} className={classes.fullWidth}>\r\n                        <Paper className={classes.blueGreyBackground} elevation={0}>\r\n                            <Book />\r\n                            <Typography>\r\n                                Definisi Operasional</Typography>\r\n                        </Paper>\r\n                    </ButtonBase>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* <img src={kb} alt=\"kb\" className={classes.imgResponsive} />\r\n          \r\n            <Button\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={createForm}\r\n            >\r\n                <Person className={classes.iconLeft} />\r\n                Isi Form Pendataan Keluarga\r\n                </Button> */}\r\n\r\n            <Update />\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nexport default Home;","import { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n\n    loadingBox: {\n        display:'flex',\n        alignItems:'center',\n        justifyContent:'center',\n        height:'50vh'\n    }\n\n}))\n\n\nexport default useStyles;","import React from 'react';\n\n\n// material-ui\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport useStyles from './styles';\n\nfunction AppLoading() {\n\n    const classes = useStyles();\n\n\n    return (\n\n        <div className={classes.loadingBox}>\n            <CircularProgress />\n        </div>\n\n    )\n}\n\nexport default AppLoading;","import { makeStyles } from '@material-ui/core/styles';\r\nimport green from '@material-ui/core/colors/green';\r\nimport red from '@material-ui/core/colors/red';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport blueGrey from '@material-ui/core/colors/blueGrey';\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    container: {\r\n        // marginTop: theme.spacing(8),\r\n        padding: theme.spacing(2),\r\n        //  textAlign: 'center'\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    imgResponsive: {\r\n        width: \"100%\"\r\n    },\r\n    progressKerja: {\r\n        backgroundColor: green[500],\r\n        padding: \"1.25rem\",\r\n        color: \"#fff\"\r\n    },\r\n    wilayahKerja: {\r\n        backgroundColor: red[500],\r\n        padding: \"1.25rem\",\r\n        color: \"#fff\"\r\n    },\r\n    floatRightIcon: {\r\n        float: 'right'\r\n    },\r\n    blueGreyBackground: {\r\n        backgroundColor: blueGrey[500],\r\n        padding: \"1.25rem\",\r\n        color: \"#fff\",\r\n        textAlign: 'center',\r\n        width: \"100%\"\r\n    },\r\n\r\n    fullWidth: {\r\n        width: \"100%\"\r\n    },\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    textLeft: {\r\n        textAlign: 'left'\r\n    }\r\n\r\n}))\r\n\r\nexport default useStyles;","import React, { useEffect, useState } from 'react';\r\n\r\n// material-ui\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\n//icons\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\n\r\n// app components\r\nimport { usePouchDB } from '../../../components/PouchDB/PouchDBProvider';\r\nimport AppPageLoading from '../../../components/AppPageLoading';\r\n//utils\r\n//import uuidv1 from 'uuid/v1';\r\n// styles\r\nimport useStyles from './styles';\r\n\r\n// images\r\nimport kb from '../../../images/kb.png';\r\n\r\n//utils \r\nimport qs from 'query-string';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useSnackbar } from 'notistack';\r\nimport { FormControl, Select, MenuItem } from '@material-ui/core';\r\n\r\n\r\nfunction Home({ history, match, location }) {\r\n\r\n    const classes = useStyles();\r\n    const { user: { metadata }, dataKK, dataKB, dataPK, dataBkkbn } = usePouchDB();\r\n    const [dataBkkbnDocs, setDataBkkbnDocs] = useState([]);\r\n    const [isFetching, setFetching] = useState(true);\r\n    const [isDeleting, setDeleting] = useState(false);\r\n    const [kepalaKels, setKepalaKels] = useState([])\r\n    const [status, setStatus] = useState([])\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const [statusSensus, setStatusSensus] = useState('');\r\n    const params = useParams();\r\n\r\n    useEffect(() => {\r\n        let didCancel = false;\r\n        const getAllDataBkkbn = async () => {\r\n            setFetching(true)\r\n            try {\r\n                const query = await dataBkkbn.local.find({\r\n                    selector: {\r\n                        user_name: { $eq: metadata.name }\r\n                    }\r\n                });\r\n\r\n\r\n                if (!didCancel) {\r\n                    setDataBkkbnDocs(query.docs)\r\n                }\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n            if (!didCancel) {\r\n                setFetching(false);\r\n            }\r\n        }\r\n\r\n        getAllDataBkkbn();\r\n\r\n        return () => {\r\n            didCancel = true;\r\n        }\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const queryParams = qs.parse(location.search)\r\n        let kepalas = dataBkkbnDocs.filter(kkDoc => typeof kkDoc.data_nik !== 'undefined').map(kkDoc => {\r\n            let findKepala = kkDoc.data_nik.find(data_nik => data_nik.sts_hubungan);\r\n            if (!findKepala) {\r\n                findKepala = kkDoc.data_nik[0]\r\n            }\r\n            return {\r\n                ...findKepala,\r\n                // no_kk: kkDoc.no_kk,\r\n                status_sensus: kkDoc.status_sensus,\r\n                _id : kkDoc._id\r\n            }\r\n        })\r\n\r\n        // const statuss = async () => await dataBkkbn.local.find({\r\n        //     selector: {\r\n        //         user_name: { $eq: params.user_name }\r\n        //     },\r\n        //     fields: ['status_sensus']\r\n        // })\r\n        // const status = [... new Set(statuss.docs.map((val) => val.status_sensus))]\r\n        setStatus(status)\r\n\r\n        if (queryParams.query) {\r\n\r\n            kepalas = kepalas.filter(kepala => {\r\n                return kepala.nama_anggotakel.toLowerCase().includes(queryParams.query.toLowerCase());\r\n            })\r\n        }\r\n\r\n        setKepalaKels(kepalas);\r\n\r\n    }, [dataBkkbnDocs, location.search])\r\n\r\n\r\n\r\n    const deleteKel = _id => async (e) => {\r\n        if (!window.confirm(\"Kamu yakin ingin menghapus data ini?\")) {\r\n            return false\r\n        }\r\n        setDeleting(true)\r\n        try {\r\n            //remove from local\r\n            const kkDoc = await dataBkkbn.local.get(_id);\r\n            await dataBkkbn.local.put({ ...kkDoc, _deleted: true });\r\n\r\n            const kbQuery = await dataBkkbn.local.find({\r\n                selector: {\r\n                    _id: { $eq: _id }\r\n                }\r\n            })\r\n            if (kbQuery.docs.length > 0)\r\n                await dataBkkbn.local.bulkDocs(kbQuery.docs.map(doc => ({ ...doc, _deleted: true })))\r\n\r\n\r\n            const pkQuery = await dataBkkbn.local.find({\r\n                selector: {\r\n                    _id: { $eq: _id }\r\n                }\r\n            })\r\n            if (pkQuery.docs.length > 0)\r\n                await dataBkkbn.local.bulkDocs(pkQuery.docs.map(doc => ({ ...doc, _deleted: true })))\r\n\r\n\r\n            // // remove data from remote\r\n            // const kkDocR = await dataKK.remote.get(no_kk);\r\n            // await dataKK.remote.put({ ...kkDocR, _deleted: true });\r\n\r\n            // const kbQueryR = await dataKB.remote.find({\r\n            //     selector: {\r\n            //         No_KK: { $eq: no_kk }\r\n            //     }\r\n            // })\r\n            // if (kbQueryR.docs.length > 0)\r\n            //     await dataKB.remote.bulkDocs(kbQueryR.docs.map(doc => ({ ...doc, _deleted: true })))\r\n\r\n\r\n            // const pkQueryR = await dataPK.remote.find({\r\n            //     selector: {\r\n            //         No_KK: { $eq: no_kk }\r\n            //     }\r\n            // })\r\n            // if (pkQueryR.docs.length > 0)\r\n            //     await dataPK.remote.bulkDocs(pkQueryR.docs.map(doc => ({ ...doc, _deleted: true })))\r\n\r\n\r\n            enqueueSnackbar(\"Data berhasil dihapus\", { variant: \"success\" })\r\n            const query = await dataBkkbn.local.find({\r\n                selector: {\r\n                    user_name: { $eq: metadata.name }\r\n                }\r\n            });\r\n            setDataBkkbnDocs(query.docs)\r\n            let id = _id;\r\n\r\n            // API DELETE\r\n            fetch('http://dev2.multisoft.co.id:10008/api/v1/delete?_id=' + _id, {\r\n                method: 'DELETE'\r\n            })\r\n            .then(respone => {\r\n                respone.json()\r\n            })\r\n            .then(data => {\r\n            })\r\n            .catch(e => console.error(e))\r\n\r\n            let userDelete = metadata.name;\r\n            let userDataDelete = 9;\r\n            \r\n            fetch('https://demo-bkkbn-notif.herokuapp.com/api/v1/pushnotification', {\r\n                method: 'POST',\r\n                headers: { 'Content-type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    _id: id,\r\n                    username: userDelete,\r\n                    statusData: userDataDelete,\r\n                })\r\n            })\r\n                .then(respone => {\r\n                    respone.json()\r\n                })\r\n                .then(data => {\r\n                })\r\n                .catch(e => console.error(e))\r\n        } catch (e) {\r\n\r\n            console.log(e);\r\n            enqueueSnackbar(\"Gagal menghapus data: \" + e.message, { variant: \"error\" })\r\n\r\n        }\r\n        setDeleting(false)\r\n\r\n    }\r\n\r\n\r\n    if (isFetching) {\r\n        return <AppPageLoading />\r\n    }\r\n\r\n    const handleSensus = async (event) => {\r\n        const {value} = event.target\r\n        setStatusSensus((oldValue) => oldValue === value ? oldValue:value);\r\n        if (value === \"all\") {\r\n            const getAllDataBkkbn = async () => {\r\n                const query = await dataBkkbn.local.find({\r\n                    selector: {\r\n                        user_name: { $eq: metadata.name }\r\n                    }\r\n                });\r\n                setDataBkkbnDocs(query.docs)\r\n            }\r\n            getAllDataBkkbn();\r\n        } else {\r\n            const query = await dataBkkbn.local.find({\r\n                selector: {\r\n                    user_name: { $eq: metadata.name },\r\n                    status_sensus: event.target.value\r\n                }\r\n            });\r\n            setDataBkkbnDocs(query.docs)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"md\" className={classes.container}>\r\n\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} className={classes.textCenter}>\r\n                    <Typography variant=\"h5\" component=\"h1\">Daftar Keluarga</Typography>\r\n\r\n                </Grid>\r\n                <Grid item xs={6} md={3} lg={3} className={classes.textLeft}>\r\n                    <FormControl\r\n                        variant=\"outlined\" fullWidth>\r\n\r\n                        <Select\r\n                            id=\"sts_hubungan\"\r\n                            value={statusSensus}\r\n                            name=\"status_sensus\"\r\n                            onChange={handleSensus}\r\n                            displayEmpty\r\n                        >\r\n                            <MenuItem value=\"\"> Status Sensus </MenuItem>\r\n                            <MenuItem value=\"all\"> All </MenuItem>\r\n                            <MenuItem value=\"Valid\"> Valid </MenuItem>\r\n                            <MenuItem value=\"NotValid\"> Not Valid </MenuItem>\r\n                            <MenuItem value=\"Anomali\"> Anomali </MenuItem>\r\n\r\n                            {/* {\r\n                                resultStatus.map((result) => {\r\n                                    return (<MenuItem value={result} key={result}>\r\n                                        {result}\r\n                                    </MenuItem>)\r\n                                })\r\n                            } */}\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Divider />\r\n                </Grid>\r\n                {\r\n                    kepalaKels.length <= 0 &&\r\n                    <Grid item xs={12} className={classes.textCenter}>\r\n\r\n                        <Typography>Data tidak ditemukan!</Typography>\r\n                    </Grid>\r\n                }\r\n                <Grid item xs={12} >\r\n                    <List>\r\n                        {kepalaKels.map((kepala) => {\r\n                            return <ListItem divider key={kepala._id}>\r\n                                {/* {\r\n                                    statusSensus == \"valid\" &&\r\n                                } */}\r\n                                <ListItemText\r\n                                    primary={kepala.nama_anggotakel}\r\n                                    // secondary={`NIK.${kepala.nik}\r\n                                    // Status Sensus.${kepala.status_sensus}`}\r\n                                    secondary={\r\n                                        <div>\r\n                                            <div>{`NIK:${kepala.nik}`}</div>\r\n                                            <div>{`Status: ${kepala.status_sensus}`}</div>\r\n                                        </div>\r\n                                    }\r\n                                />\r\n                                <ListItemSecondaryAction>\r\n                                    <IconButton\r\n                                        disabled={isDeleting}\r\n                                        component={Link} to={`form/edit/${kepala._id}`} edge=\"end\" aria-label=\"edit\">\r\n                                        <EditIcon />\r\n                                    </IconButton>\r\n                                    <IconButton\r\n                                        disabled={isDeleting}\r\n                                        edge=\"end\" aria-label=\"delete\"\r\n                                        onClick={deleteKel(kepala._id)}\r\n                                    >\r\n                                        <DeleteIcon />\r\n                                    </IconButton>\r\n                                </ListItemSecondaryAction>\r\n                            </ListItem>\r\n\r\n                        })}\r\n                    </List>\r\n\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nexport default Home;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    }\r\n}))\r\n\r\n\r\nexport default useStyles;","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport function ScrollToTopWithoutRouter() {\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, []);\n\n    return null;\n}\n\nexport default function ScrollToTop() {\n    const { pathname } = useLocation();\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, [pathname]);\n\n    return null;\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// material ui components\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n//icons\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\n\r\n//styles\r\nimport useStyles from './styles/wilayah';\r\n\r\n// //hooks\r\nimport { usePouchDB } from '../../../components/PouchDB/PouchDBProvider';\r\nimport { useSnackbar } from 'notistack';\r\n\r\n//app components\r\nimport { ScrollToTopWithoutRouter } from '../../../components/ScrollToTop';\r\n\r\nimport { Swipeable } from 'react-swipeable';\r\n\r\nimport isInt from 'validator/lib/isInt';\r\n\r\n// redux implementation\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { connect } from \"react-redux\";\r\n// import { setKeluarga } from \"../../../actions/keluarga\";\r\nimport { compose } from \"redux\";\r\n\r\nfunction Wilayah({ wilayah, setWilayah, handleNext, mode, setKeluarga, keluarga, history }) {\r\n    const classes = useStyles();\r\n    const nextRef = useRef(null)\r\n    const { user: { metadata } } = usePouchDB();\r\n    //console.log(user)\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [error, setError] = useState({\r\n\r\n    })\r\n\r\n    const [isSomethingChange, setSomethingChange] = useState(false);\r\n\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    // PERUBAHAN AMBIL YANG RT RW BKKBN\r\n    useEffect(() => {\r\n        if (!wilayah.hasOwnProperty('no_kk')) {\r\n            setWilayah({\r\n                ...wilayah,\r\n                // ['no_kk'] : Date.now().toString()\r\n                // ['no_kk'] : `${metadata.wil_provinsi.id_provinsi}${metadata.wil_kabupaten.id_kabupaten}${metadata.wil_kecamatan.id_kecamatan}${metadata.wil_kelurahan.id_kelurahan}`\r\n            })\r\n        }\r\n\r\n    }, []);\r\n    // END PERUBAHAN AMBIL YANG RT RW BKKBN\r\n\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\") {\r\n            if (parseInt(e.target.value) < 0)\r\n                return false;\r\n\r\n            // if (e.target.name === \"no_kk\" && e.target.value.length > 16) {\r\n            //     return false;\r\n            // }\r\n\r\n            if (e.target.name === \"no_urutkel\" && e.target.value.length > 3) {\r\n                return false;\r\n            }\r\n\r\n            if (e.target.name === \"no_rmh\" && e.target.value.length > 3) {\r\n                return false;\r\n            }\r\n\r\n            if (e.target.name === \"no_telepon\" && e.target.value.length > 13) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        setWilayah({\r\n            ...wilayah,\r\n            [e.target.name]: e.target.value\r\n        })\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!wilayah.id_rw) {\r\n            newError.id_rw = \"RW/Dusun wajib diisi\";\r\n        }\r\n\r\n        if (!wilayah.id_rt) {\r\n            newError.id_rt = \"RT wajib diisi\";\r\n        }\r\n        if (!wilayah.no_rmh) {\r\n            newError.no_rmh = \"No. Rumah wajib diisi\";\r\n        } else if (wilayah.no_rmh.length < 3) {\r\n            newError.no_rmh = \"No. Rumah harus 3 digit\"\r\n        }\r\n        else if (!isInt(wilayah.no_rmh) || parseInt(wilayah.no_rmh) <= 0) {\r\n            newError.no_rmh = \"No. Rumah tidak valid\";\r\n        }\r\n\r\n        if (!wilayah.no_urutkel) {\r\n            newError.no_urutkel = \"No. Urut Keluarga wajib diisi\";\r\n        } else if (!isInt(wilayah.no_urutkel) || parseInt(wilayah.no_urutkel) <= 0) {\r\n            newError.no_urutkel = \"No. Urut Keluarga tidak valid\";\r\n        } else if (wilayah.no_urutkel.length < 3) {\r\n            newError.no_urutkel = \"No. Urut Keluarga harus 3 digit\"\r\n        }\r\n        // if (!wilayah.no_kk) {\r\n        //     newError.no_kk = \"No. Kartu Keluarga (KK) wajib diisi\";\r\n        // } else if (wilayah.no_kk.length !== 16) {\r\n        //     newError.no_kk = \"No. Kartu Keluarga (KK) harus 16 digit\";\r\n        // }\r\n\r\n        if (!wilayah.jumlah_keluarga) {\r\n            newError.jumlah_keluarga = \"Jumlah Anggota Keluarga wajib diisi\";\r\n        } else if (!isInt(wilayah.jumlah_keluarga) || parseInt(wilayah.jumlah_keluarga) <= 0) {\r\n            newError.jumlah_keluarga = \"Jumlah Anggota Keluarga tidak valid\";\r\n        }\r\n\r\n        if (!wilayah.alamat) {\r\n            newError.alamat = \"Alamat wajib diisi\";\r\n        }\r\n\r\n        return newError;\r\n\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n            if (!isSomethingChange) {\r\n                return handleNext()\r\n            }\r\n\r\n            //simpan ke db local\r\n            setSubmitting(true);\r\n            try {\r\n                // setKeluarga('keluarga submit');\r\n                // const existing = await dataKK.local.get(wilayah.no_kk)\r\n\r\n\r\n                // await dataKK.local.put({\r\n                //     _id: wilayah.no_kk,\r\n                //     _rev: existing._rev,\r\n                //     type: 'utama',\r\n                //     ...wilayah\r\n                // })\r\n\r\n                // init rw and rt\r\n                let id_rw_bkkbn = metadata.wil_rw.find(rw => parseInt(rw.id_rw) === parseInt(wilayah.id_rw)).id_rw_bkkbn\r\n                let id_rt_bkkbn = metadata.wil_rw.find(rw => parseInt(rw.id_rw) === parseInt(wilayah.id_rw)).wil_rt.find(rt => parseInt(rt.id_rt) === parseInt(wilayah.id_rt)).id_rt_bkkbn\r\n\r\n                setWilayah({\r\n                    ...wilayah,\r\n                    ['id_rw_bkkbn'] : `${id_rw_bkkbn}`,\r\n                    ['id_rt_bkkbn'] : `${id_rt_bkkbn}`,\r\n                    ['no_kk']: `${metadata.wil_provinsi.id_provinsi_depdagri}${metadata.wil_kabupaten.id_kabupaten_depdagri}${metadata.wil_kecamatan.id_kecamatan_depdagri}${metadata.wil_kelurahan.id_kelurahan_depdagri}${id_rw_bkkbn}${id_rt_bkkbn}${wilayah.no_rmh}${wilayah.no_urutkel}`\r\n                })\r\n\r\n                console.log(wilayah.no_kk)\r\n\r\n                setSomethingChange(false);\r\n                handleNext()\r\n\r\n            } catch (e) {\r\n\r\n                setSubmitting(false);\r\n                if (e.name === 'not_found') {\r\n                    try {\r\n                        // await dataKK.local.put({\r\n                        //     _id: wilayah.no_kk,\r\n                        //     type: 'utama',\r\n                        //     ...wilayah\r\n                        // })\r\n\r\n                        setSomethingChange(false);\r\n                        handleNext()\r\n                    } catch (e) {\r\n                        enqueueSnackbar(e.message, { variant: 'error' })\r\n                    }\r\n\r\n\r\n                } else {\r\n                    enqueueSnackbar(e.message, { variant: 'error' })\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        console.log(wilayah);\r\n        console.log(wilayah.no_kk)\r\n    }\r\n\r\n    return (\r\n        <Swipeable\r\n            trackMouse={true}\r\n\r\n            onSwipedLeft={(e) => {\r\n                console.log('selanjutnya')\r\n                if (nextRef) {\r\n\r\n                    nextRef.current.click();\r\n                }\r\n            }}\r\n        >\r\n            <form onSubmit={handleSubmit} className={classes.form}>\r\n                <ScrollToTopWithoutRouter />\r\n                <Grid container spacing={3}>\r\n\r\n                    <Grid item xs={12} className={classes.textCenter}>\r\n                        <Typography variant=\"h5\" component=\"h1\">{mode === 'edit' ? `Edit Form Data Kependudukan` : 'Form Data Kependudukan'}</Typography>\r\n                        {/* {mode === 'edit' && <Typography>No KK: {wilayah.no_kk}</Typography>} */}\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Divider />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <Typography>Provinsi: {metadata.wil_provinsi.nama_provinsi}</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <Typography>Kabupaten/Kota: {metadata.wil_kabupaten.nama_kabupaten}</Typography>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <Typography>Kecamatan: {metadata.wil_kecamatan.nama_kecamatan}</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <Typography>Desa/Kel: {metadata.wil_kelurahan.nama_kelurahan}</Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <Divider />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.id_rw ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"id_rw\"\r\n                                value={wilayah.id_rw || ''}\r\n                                onChange={handleChange}\r\n                                name=\"id_rw\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Pilih RW/Dusun</MenuItem>\r\n\r\n                                {metadata.wil_rw.map(rw => <MenuItem key={rw.id_rw} value={rw.id_rw}>{rw.nama_rw}</MenuItem>)}\r\n                            </Select>\r\n                            <FormHelperText>{error.id_rw}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting || !wilayah.id_rw}\r\n                            variant=\"outlined\" fullWidth error={error.id_rt ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"id_rt\"\r\n                                value={wilayah.id_rt || ''}\r\n                                onChange={handleChange}\r\n                                name=\"id_rt\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Pilih RT</MenuItem>\r\n                                {wilayah.id_rw &&\r\n                                    metadata.wil_rw.find(rw => parseInt(rw.id_rw) === parseInt(wilayah.id_rw)).wil_rt.map(rt => <MenuItem key={rt.id_rt} value={rt.id_rt}>{rt.nama_rt}</MenuItem>)}\r\n\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.id_rt}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"No. Rumah\"\r\n                            value={wilayah.no_rmh || ''}\r\n                            name=\"no_rmh\"\r\n                            id=\"no_rmh\"\r\n                            // type=\"number\"\r\n                            type=\"number\"\r\n                            inputProps={{\r\n\r\n                                min: 0,\r\n                                maxLength: 3\r\n                            }}\r\n                            onChange={handleChange}\r\n                            error={error.no_rmh ? true : false}\r\n                            helperText={error.no_rmh}\r\n                        />\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"No. Urut Keluarga\"\r\n                            value={wilayah.no_urutkel || ''}\r\n                            name=\"no_urutkel\"\r\n                            id=\"no_urutkel\"\r\n                            type=\"number\"\r\n                            inputProps={{\r\n\r\n                                min: 0,\r\n                                maxLength: 3\r\n                            }}\r\n                            onChange={handleChange}\r\n                            error={error.no_urutkel ? true : false}\r\n                            helperText={error.no_urutkel}\r\n                        />\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"No. Telepon/Hp\"\r\n                            value={wilayah.no_telepon || ''}\r\n                            name=\"no_telepon\"\r\n                            id=\"no_telepon\"\r\n                            type=\"number\"\r\n                            inputProps={{\r\n\r\n                                min: 0,\r\n                                maxLength: 13\r\n                            }}\r\n                            onChange={handleChange}\r\n                        />\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Jumlah Anggota Keluarga\"\r\n                            value={wilayah.jumlah_keluarga || ''}\r\n                            name=\"jumlah_keluarga\"\r\n                            id=\"jumlah_keluarga\"\r\n                            type=\"number\"\r\n                            inputProps={{\r\n\r\n                                min: 0\r\n                            }}\r\n                            onChange={handleChange}\r\n                            error={error.jumlah_keluarga ? true : false}\r\n                            helperText={error.jumlah_keluarga}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} >\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Alamat\"\r\n                            multiline\r\n                            rows={2}\r\n                            rowsMax={2}\r\n                            value={wilayah.alamat || ''}\r\n                            name=\"alamat\"\r\n                            id=\"alamat\"\r\n\r\n                            onChange={handleChange}\r\n                            error={error.alamat ? true : false}\r\n                            helperText={error.alamat}\r\n                        />\r\n                    </Grid>\r\n                    {/* <Grid item xs={12} md={6}>\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Alamat 2\"\r\n                            multiline\r\n                            rows={2}\r\n                            rowsMax={2}\r\n                            value={wilayah.alamat_2 || ''}\r\n                            name=\"alamat_2\"\r\n                            id=\"alamat_2\"\r\n\r\n                            onChange={handleChange}\r\n                            error={error.alamat_2 ? true : false}\r\n                            helperText={error.alamat_2}\r\n                        />\r\n                    </Grid> */}\r\n                    <Grid item xs>\r\n\r\n\r\n                    </Grid>\r\n                    <Grid item >\r\n                        {isSubmitting && <CircularProgress size={14} />}\r\n                        <Button\r\n                            ref={nextRef}\r\n                            disabled={isSubmitting}\r\n                            type=\"submit\">Selanjutnya <ChevronRight className={classes.iconRight} /></Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            </form>\r\n        </Swipeable>\r\n    )\r\n}\r\n\r\n\r\nWilayah.propTypes = {\r\n    wilayah: PropTypes.any.isRequired,\r\n    setWilayah: PropTypes.func.isRequired\r\n}\r\n\r\n// export default compose(connect(\r\n//     ({ keluarga }) => ({\r\n//         keluarga\r\n//     }),\r\n//     { setKeluarga }\r\n// ), withRouter)\r\n//     (Wilayah);\r\n//\r\n\r\nexport default Wilayah;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    }\r\n}))\r\n\r\n\r\nexport default useStyles;","import differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\r\n\r\nimport parseDate from 'date-fns/parse';\r\n\r\nimport { formatString } from '../keluarga';\r\n\r\nexport function countAge(tgl_lahir) {\r\n\r\n    const days = differenceInCalendarDays(new Date(), parseDate(tgl_lahir, formatString, new Date()));\r\n\r\n    const years = days / 365;\r\n    return parseInt(years);\r\n}\r\n\r\nfunction haveChildren(keluarga) {\r\n\r\n    return keluarga.some((value) => {\r\n        return value.sts_hubungan === \"3\";\r\n    })\r\n\r\n}\r\n\r\nfunction haveChildrenWithSingelParent(keluarga) {\r\n\r\n    return keluarga.some((value) => {\r\n        if (value.sts_hubungan === \"3\") {\r\n            // if(value.sts_kawin === \"2\"){\r\n            //     return true\r\n            // }\r\n            // if (value.sts_kawin === \"1\" ) {\r\n            //     return false;\r\n            // }else{\r\n            //     return true\r\n            // }\r\n            if (value.kd_ibukandung != \"2\") {\r\n                return false\r\n            } else {\r\n                return true\r\n            }\r\n        }\r\n    })\r\n\r\n}\r\n\r\nfunction haveWifeOrHusband(keluarga) {\r\n    return keluarga.some((value) => {\r\n        return value.sts_hubungan === \"2\";\r\n    })\r\n}\r\n\r\nfunction haveChildrenUnder5(keluarga) {\r\n    return keluarga.some((value) => {\r\n\r\n        // if (value.sts_hubungan === \"3\") {\r\n\r\n            // const days = differenceInCalendarDays(new Date(), new Date(value.tgl_lahir));\r\n\r\n            const years = countAge(value.tgl_lahir);//days / 365;\r\n\r\n            if (years <= 5) {\r\n                return true;\r\n            }\r\n        // }\r\n\r\n        // return false;\r\n    })\r\n}\r\nfunction haveChildrenUnder6(keluarga) {\r\n    return keluarga.some((value) => {\r\n\r\n        //if (value.sts_hubungan === \"3\") {\r\n\r\n            // const days = differenceInCalendarDays(new Date(), new Date(value.tgl_lahir));\r\n\r\n            const years = countAge(value.tgl_lahir);//days / 365;\r\n\r\n            if (years <= 6) {\r\n                return true;\r\n            }\r\n        //}\r\n\r\n        //return false;\r\n    })\r\n}\r\nfunction haveChildrenFrom10To24(keluarga) {\r\n    return keluarga.some((value) => {\r\n\r\n        if (value.sts_hubungan === \"3\") {\r\n\r\n            // const days = differenceInCalendarDays(new Date(), new Date(value.tgl_lahir));\r\n\r\n            const years = countAge(value.tgl_lahir);//days / 365;\r\n            //console.log(years);\r\n\r\n            if (years >= 10 && years <= 24) {\r\n                //console.log('true')\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    })\r\n}\r\n\r\nfunction haveFamilyMember60(keluarga) {\r\n    return keluarga.some((value) => {\r\n\r\n\r\n\r\n        // const days = differenceInCalendarDays(new Date(), new Date(value.tgl_lahir));\r\n\r\n        const years = countAge(value.tgl_lahir);//days / 365;\r\n\r\n        if (years >= 60) {\r\n            return true;\r\n        }\r\n\r\n\r\n        return false;\r\n    })\r\n}\r\n\r\nfunction haveMarriedMember(keluarga) {\r\n    return keluarga.some((value) => {\r\n        return value.sts_kawin === \"2\";\r\n    })\r\n}\r\n\r\nfunction haveChildrenFrom0To17(keluarga) {\r\n    return keluarga.some((value) => {\r\n\r\n        if (value.sts_hubungan === \"3\") {\r\n\r\n            // const days = differenceInCalendarDays(new Date(), new Date(value.tgl_lahir));\r\n\r\n            const years = countAge(value.tgl_lahir);//days / 365;\r\n\r\n            if (years >= 0 && years <= 17) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    })\r\n}\r\n\r\nfunction PeopleInHome(keluarga) {\r\n    return keluarga.some((value) => {\r\n        if (value.keberadaan === \"1\") {\r\n\r\n        }\r\n        return false;\r\n    })\r\n}\r\n\r\nexport default {\r\n    haveChildren,\r\n    haveWifeOrHusband,\r\n    haveChildrenUnder5,\r\n    haveChildrenUnder6,\r\n    haveChildrenFrom10To24,\r\n    haveFamilyMember60,\r\n    haveMarriedMember,\r\n    haveChildrenFrom0To17,\r\n    haveChildrenWithSingelParent,\r\n    PeopleInHome\r\n\r\n\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// material ui components\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\n\r\n\r\nimport { Swipeable } from 'react-swipeable';\r\n//icons\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\n//styles\r\nimport useStyles from './styles/keluarga';\r\n\r\n// //hooks\r\n// import { usePouchDB } from '../../../components/PouchDB/PouchDBProvider';\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\n//app components\r\nimport { ScrollToTopWithoutRouter } from '../../../components/ScrollToTop';\r\n\r\n//date utils\r\nimport formatDate from 'date-fns/format';\r\nimport parseDate from 'date-fns/parse';\r\nimport { countAge } from './pk/validation';\r\n\r\nexport const formatString = \"dd-MM-yyyy\";\r\n\r\nfunction Keluarga({ wilayah, id, keluarga, setKeluarga, handleNext, handleBack, formIndex, mode }) {\r\n    const classes = useStyles();\r\n    const nextRef = useRef(null);\r\n    const backRef = useRef(null);\r\n    // const { dataKK } = usePouchDB();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [error, setError] = useState({\r\n\r\n    })\r\n\r\n    const [isSomethingChange, setSomethingChange] = useState(false);\r\n\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    const itemHubungan = ['Anak', 'Lainnya']\r\n\r\n    const itemKeberadaan = ['Di Dalam Rumah', 'Di Luar Rumah', 'Di Luar Negeri']\r\n\r\n    //reset error\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [id])\r\n\r\n    const handleChange = (e) => {\r\n        const { type, name, value } = e.target\r\n        if (type === \"number\") {\r\n            if (parseInt(value) < 0)\r\n                return false;\r\n\r\n            if (name === \"nik\" && value.length > 16) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        setKeluarga({\r\n            ...keluarga,\r\n            [id]: {\r\n                ...keluarga[id],\r\n                [name]: value\r\n            }\r\n        })\r\n\r\n        setError({\r\n            ...error,\r\n            [name]: \"\"\r\n        })\r\n\r\n        setSomethingChange(true)\r\n    }\r\n\r\n    const handleChangeStsAkta = (e) => {\r\n        const { type, name, value } = e.target\r\n        if (type === \"number\") {\r\n            if (parseInt(value) < 0)\r\n                return false;\r\n\r\n            if (name === \"nik\" && value.length > 16) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // set object Keluarga sts_hubungan == kepala keluarga\r\n        // kondisi ini dijalanlan saat form keluarga yang pertama atau index 0\r\n\r\n        if (id === \"01\") {\r\n            setKeluarga({\r\n                ...keluarga,\r\n                [id]: {\r\n                    ...keluarga[id],\r\n                    [\"sts_hubungan\"]: \"1\"\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n        if (keluarga[\"01\"].jenis_kelamin === \"1\" && keluarga[\"01\"].sts_kawin === \"2\" && id === \"02\") {\r\n            setKeluarga({\r\n                ...keluarga,\r\n                [id]: {\r\n                    ...keluarga[id],\r\n                    [\"sts_hubungan\"]: \"2\"\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n        setKeluarga((prevState) => ({\r\n            ...prevState,\r\n            [id]: {\r\n                ...prevState[id],\r\n                [name]: value\r\n            }\r\n        }))\r\n\r\n        setError({\r\n            ...error,\r\n            [name]: \"\"\r\n        })\r\n\r\n        setSomethingChange(true)\r\n    }\r\n\r\n    const handleChangeJnsAsuransi = (e) => {\r\n        const { type, name, value } = e.target\r\n        if (type === \"number\") {\r\n            if (parseInt(value) < 0)\r\n                return false;\r\n\r\n            if (name === \"nik\" && value.length > 16) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        //jika hanya 1 orang langsung default keberadaan di dalam rumah\r\n        if (id === \"01\" && wilayah.jumlah_keluarga === \"1\") {\r\n            setKeluarga({\r\n                ...keluarga,\r\n                [id]: {\r\n                    ...keluarga[id],\r\n                    [\"keberadaan\"]: \"1\"\r\n                }\r\n            })\r\n        }\r\n\r\n        setKeluarga((prevState) => ({\r\n            ...prevState,\r\n            [id]: {\r\n                ...prevState[id],\r\n                [name]: value\r\n            }\r\n        }))\r\n\r\n        setError({\r\n            ...error,\r\n            [name]: \"\"\r\n        })\r\n\r\n        setSomethingChange(true)\r\n    }\r\n\r\n    const handleChangeHubungan = (e) => {\r\n        const { type, name, value } = e.target\r\n        if (type === \"number\") {\r\n            if (parseInt(value) < 0)\r\n                return false;\r\n\r\n            if (name === \"nik\" && value.length > 16) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        //kondisi jika memilih sts_hubungan anak dan tidak memiliki ibu maka value default 0\r\n        if (keluarga['01'].sts_hubungan == \"1\" && (keluarga['01'].sts_kawin == \"3\" || keluarga['01'].sts_kawin == \"4\") && keluarga['01'].jenis_kelamin == \"1\") {\r\n            setKeluarga({\r\n                ...keluarga,\r\n                [id]: {\r\n                    ...keluarga[id],\r\n                    [\"kd_ibukandung\"]: \"0\"\r\n                }\r\n            })\r\n        }\r\n\r\n        setKeluarga((prevState) => ({\r\n            ...prevState,\r\n            [id]: {\r\n                ...prevState[id],\r\n                [name]: value\r\n            }\r\n        }))\r\n\r\n        setError({\r\n            ...error,\r\n            [name]: \"\"\r\n        })\r\n\r\n        setSomethingChange(true)\r\n    }\r\n\r\n\r\n    const handleDateChange = name => newDate => {\r\n\r\n        const value = formatDate(newDate, formatString)\r\n\r\n        handleChange({ target: { value, name } })\r\n    }\r\n\r\n\r\n    const selectedKeluarga = keluarga[id];\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!selectedKeluarga.nama_anggotakel) {\r\n            newError.nama_anggotakel = \"Nama Lengkap wajib diisi\";\r\n        }\r\n        else if (!selectedKeluarga.nama_anggotakel.match(/^[a-zA-Z\\.\\ ]+$/)) {\r\n            newError.nama_anggotakel = \"Nama tidak boleh mengandung Angka & Symbol\";\r\n        }\r\n\r\n        if (!selectedKeluarga.nik) {\r\n            newError.nik = \"NIK wajib diisi\";\r\n        }\r\n        else if (selectedKeluarga.nik.length !== 16) {\r\n            newError.nik = \"NIK harus 16 digit\";\r\n        }\r\n\r\n        if (!selectedKeluarga.sts_hubungan) {\r\n            newError.sts_hubungan = \"Hubungan dengan Kepala Keluarga wajib diisi\";\r\n        }\r\n        else if (selectedKeluarga.sts_hubungan === \"1\") {\r\n            const cekKepalaKeluarga = Object.values(keluarga).find(kel => kel.sts_hubungan === \"1\");\r\n            if (cekKepalaKeluarga && cekKepalaKeluarga.no_urutnik !== selectedKeluarga.no_urutnik) {\r\n                newError.sts_hubungan = \"Hanya boleh ada satu Kepala Keluarga\";\r\n            }\r\n        }\r\n        else if (selectedKeluarga.sts_hubungan === \"2\") {\r\n            const cekIstri = Object.values(keluarga).find(kel => kel.sts_hubungan === \"2\")\r\n\r\n            if (cekIstri && cekIstri.no_urutnik !== selectedKeluarga.no_urutnik) {\r\n                newError.sts_hubungan = \"Hanya boleh ada satu Istri\";\r\n            }\r\n        }\r\n\r\n        if (!selectedKeluarga.jenis_kelamin) {\r\n            newError.jenis_kelamin = \"Jenis Kelamin wajib diisi\";\r\n        }\r\n        else if (selectedKeluarga.jenis_kelamin !== \"2\" && selectedKeluarga.sts_hubungan === \"2\") {\r\n            newError.jenis_kelamin = \"Istri harus berjenis kelamin perempuan\";\r\n        }\r\n\r\n        // form kode ibu kandung\r\n        if (selectedKeluarga.sts_hubungan === \"3\") {\r\n            if (!selectedKeluarga.kd_ibukandung) {\r\n                newError.kd_ibukandung = \"Kode Ibu Kandung wajib diisi\";\r\n            } else {\r\n\r\n                const cekIstri = Object.values(keluarga).find(kel => kel.no_urutnik === selectedKeluarga.kd_ibukandung);\r\n                // if (cekIstri && cekIstri.sts_hubungan !== \"2\") {\r\n                //     newError.kd_ibukandung = \"Kode Ibu Kandung harus istri dari kepala keluarga atau wanita dengan status kepala keluarga\";\r\n                // }\r\n                if (cekIstri && ['1', '3', '4'].includes(cekIstri.sts_hubungan) && cekIstri.jenis_kelamin === \"1\") {\r\n                    newError.kd_ibukandung = \"Kode Ibu Kandung harus istri dari kepala keluarga\";\r\n                }\r\n                else if (cekIstri && ['3', '4'].includes(cekIstri.sts_hubungan) && cekIstri.jenis_kelamin === \"2\") {\r\n                    newError.kd_ibukandung = \"Kode Ibu Kandung harus istri dari kepala keluarga\";\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (!selectedKeluarga.sts_akta) {\r\n            newError.sts_akta = \"Status Akta Lahir wajib diisi\";\r\n        }\r\n        if (!selectedKeluarga.tgl_lahir) {\r\n            newError.tgl_lahir = \"Tanggal Lahir wajib diisi\";\r\n        }\r\n        else if (selectedKeluarga.sts_hubungan === \"1\" && countAge(selectedKeluarga.tgl_lahir) < 10) {\r\n            newError.tgl_lahir = \"Umur Kepala Keluarga tidak boleh < 10 Tahun\"\r\n        }\r\n\r\n        if (!selectedKeluarga.sts_kawin) {\r\n            newError.sts_kawin = \"Status Perkawinan wajib diisi\";\r\n        }\r\n        else if (selectedKeluarga.sts_hubungan === \"2\" && selectedKeluarga.sts_kawin !== \"2\") {\r\n            newError.sts_kawin = \"Istri harus berstatus Kawin\";\r\n        }\r\n        else if (selectedKeluarga.sts_hubungan === \"3\" && selectedKeluarga.sts_kawin !== \"1\") {\r\n            newError.sts_kawin = \"Anak tidak boleh berstatus Kawin/Cerai\";\r\n        }\r\n        else if (selectedKeluarga.sts_hubungan === \"4\" && selectedKeluarga.sts_kawin === \"2\") {\r\n            newError.sts_kawin = \"Anggota keluarga lainnya tidak boleh berstatus Kawin\";\r\n        }\r\n        else if (selectedKeluarga.sts_kawin !== \"1\" && countAge(selectedKeluarga.tgl_lahir) < 10) {\r\n            newError.sts_kawin = \"Status Kawin, Cerai Hidup/Mati tidak boleh berusia < 10 Tahun\";\r\n        }\r\n\r\n        if (['2', '3', '4'].includes(selectedKeluarga.sts_kawin)) {\r\n\r\n            if (!selectedKeluarga.usia_kawin) {\r\n                newError.usia_kawin = \"Usia Kawin Pertama wajib diisi\";\r\n            } else if (parseInt(selectedKeluarga.usia_kawin) < 10) {\r\n                newError.usia_kawin = \"Usia Kawin Pertama tidak boleh diisi < 10\";\r\n            } else if (selectedKeluarga.tgl_lahir && parseInt(selectedKeluarga.usia_kawin) >= countAge(selectedKeluarga.tgl_lahir) + 2) {\r\n                newError.usia_kawin = \"Usia Kawin Pertama tidak boleh lebih besar dari umur+1\";\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        if (!selectedKeluarga.jns_pendidikan) {\r\n            newError.jns_pendidikan = \"Pendidikan wajib diisi\";\r\n        } else if ((countAge(selectedKeluarga.tgl_lahir) <= 7) && ['4', '5', '6', '7', '8', '9', '10'].includes(selectedKeluarga.jns_pendidikan)) {\r\n            newError.jns_pendidikan = \"usia harus > 7 tahun\";\r\n        }\r\n\r\n        if (!selectedKeluarga.jns_asuransi) {\r\n            newError.jns_asuransi = \"Kepesertaan JKN wajib diisi\";\r\n        }\r\n\r\n        if (!selectedKeluarga.id_agama) {\r\n            newError.id_agama = \"Agama wajib diisi\";\r\n        }\r\n\r\n        if (!selectedKeluarga.id_pekerjaan) {\r\n            newError.id_pekerjaan = \"Pekerjaan wajib diisi\";\r\n        }\r\n        else if (selectedKeluarga.id_pekerjaan !== \"1\" && countAge(selectedKeluarga.tgl_lahir) < 10) {\r\n            newError.id_pekerjaan = \"Usia pekerja tidak boleh < 10 tahun\";\r\n        }\r\n\r\n        if (wilayah.jumlah_keluarga !== \"1\") {\r\n            if (!selectedKeluarga.keberadaan) {\r\n                newError.keberadaan = \"Keberadaan Anggota Keluarga wajib diisi\";\r\n            }\r\n        }\r\n\r\n        return newError;\r\n\r\n    }\r\n\r\n    const umurnikah = countAge(selectedKeluarga.tgl_lahir) + 1;\r\n\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n\r\n\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        //jika jumlah keluarga nya hanya 1 orang maka langsung default di dalam rumah\r\n        if (wilayah.jumlah_keluarga === \"1\") {\r\n            setKeluarga({\r\n                ...keluarga,\r\n                [id]: {\r\n                    ...keluarga[id],\r\n                    [\"keberadaan\"]: \"1\"\r\n                }\r\n            })\r\n        }\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n            if (!isSomethingChange) {\r\n                return handleNext()\r\n            }\r\n            //simpan ke db local\r\n            setSubmitting(true);\r\n            try {\r\n\r\n                setSubmitting(false)\r\n                setSomethingChange(false);\r\n                handleNext()\r\n            } catch (e) {\r\n                setSubmitting(false);\r\n                if (e.name === 'not_found') {\r\n                    try {\r\n                        // await dataKK.local.put({\r\n                        //     _id: id,\r\n                        //     type: 'anggota',\r\n                        //     ...selectedKeluarga\r\n                        // })\r\n\r\n                        setSomethingChange(false);\r\n                        handleNext()\r\n                    } catch (e) {\r\n                        enqueueSnackbar(e.message, { variant: 'error' })\r\n                    }\r\n                } else {\r\n                    enqueueSnackbar(e.message, { variant: 'error' })\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Swipeable\r\n            trackMouse={true}\r\n            onSwipedRight={(e) => {\r\n\r\n                if (backRef) {\r\n                    backRef.current.click()\r\n                }\r\n            }}\r\n            onSwipedLeft={(e) => {\r\n                if (nextRef) {\r\n\r\n                    nextRef.current.click();\r\n                }\r\n            }}\r\n        >\r\n            <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <ScrollToTopWithoutRouter />\r\n                <Grid container spacing={3}>\r\n\r\n                    <Grid item xs={12} className={classes.textCenter}>\r\n                        <Typography variant=\"h5\" component=\"h1\">{mode === 'edit' ? `Edit Form Data Kependudukan` : 'Form Data Kependudukan'}</Typography>\r\n                        {/* {mode === 'edit' && <Typography>No KK: {no_kk}</Typography>} */}\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Divider />\r\n                    </Grid>\r\n                    <Grid item xs={4} md={2}>\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder={`No.${id}`}\r\n                            name=\"no_anggotakel\"\r\n                            id=\"no_anggotakel\"\r\n\r\n                            onChange={handleChange}\r\n                            error={error.no_anggotakel ? true : false}\r\n                            helperText={error.no_anggotakel}\r\n                            disabled\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={8} md={5}>\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Nama Anggota Keluarga\"\r\n                            value={selectedKeluarga.nama_anggotakel || ''}\r\n                            name=\"nama_anggotakel\"\r\n                            id=\"nama_anggotakel\"\r\n\r\n                            onChange={handleChange}\r\n                            error={error.nama_anggotakel ? true : false}\r\n                            helperText={error.nama_anggotakel}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={5}>\r\n                        <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"NIK\"\r\n                            value={selectedKeluarga.nik || ''}\r\n                            name=\"nik\"\r\n                            id=\"nik\"\r\n                            type=\"number\"\r\n                            inputProps={{\r\n\r\n                                min: 0\r\n                            }}\r\n                            onChange={handleChange}\r\n                            error={error.nik ? true : false}\r\n                            helperText={error.nik}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.jenis_kelamin ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"jenis_kelamin\"\r\n                                value={selectedKeluarga.jenis_kelamin || ''}\r\n                                onChange={handleChange}\r\n                                name=\"jenis_kelamin\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Pilih Jenis Kelamin</MenuItem>\r\n                                <MenuItem value=\"1\">Laki Laki</MenuItem>\r\n                                <MenuItem value=\"2\">Perempuan</MenuItem>\r\n                            </Select>\r\n                            <FormHelperText>{error.jenis_kelamin}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n\r\n                        {/* <TextField\r\n                            disabled={isSubmitting}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Tanggal Lahir\"\r\n                            value={selectedKeluarga.tgl_lahir || ''}\r\n                            name=\"tgl_lahir\"\r\n                            id=\"tgl_lahir\"\r\n                            type=\"date\"\r\n                            onChange={handleChange}\r\n                            error={error.tgl_lahir ? true : false}\r\n                            helperText={error.tgl_lahir}\r\n                        /> */}\r\n                        <DatePicker\r\n                            autoOk\r\n                            fullWidth\r\n                            variant=\"inline\"\r\n                            format={formatString}\r\n                            // label=\"Tanggal Lahir\"\r\n                            // placeholder=\"Tanggal Lahir\"\r\n                            name=\"tgl_lahir\"\r\n                            id=\"tgl_lahir\"\r\n                            disableFuture\r\n                            inputVariant=\"outlined\"\r\n                            emptyLabel=\"Tanggal Lahir\"\r\n                            value={selectedKeluarga.tgl_lahir ? parseDate(selectedKeluarga.tgl_lahir, formatString, new Date()) : null}\r\n                            error={error.tgl_lahir ? true : false}\r\n                            helperText={error.tgl_lahir}\r\n                            //value={selectedDate}\r\n                            onChange={handleDateChange('tgl_lahir')}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.sts_kawin ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"sts_kawin\"\r\n                                value={selectedKeluarga.sts_kawin || ''}\r\n                                onChange={handleChange}\r\n                                name=\"sts_kawin\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Status Perkawinan</MenuItem>\r\n                                <MenuItem value=\"1\">Belum Kawin</MenuItem>\r\n                                <MenuItem value=\"2\">Kawin</MenuItem>\r\n                                <MenuItem value=\"3\">Cerai Hidup</MenuItem>\r\n                                <MenuItem value=\"4\">Cerai Mati</MenuItem>\r\n\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.sts_kawin}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n                        <TextField\r\n                            disabled={isSubmitting || !['2', '3', '4'].includes(selectedKeluarga.sts_kawin)}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            placeholder=\"Usia Kawin Pertama\"\r\n                            //value={selectedKeluarga.sts_kawin==\"1\" ? '' : selectedKeluarga.usia_kawin}\r\n                            value={selectedKeluarga.usia_kawin || ''}\r\n                            name=\"usia_kawin\"\r\n                            id=\"usia_kawin\"\r\n                            type=\"number\"\r\n                            inputProps={{\r\n\r\n                                min: 0,\r\n                                max: umurnikah\r\n                            }}\r\n                            onChange={handleChange}\r\n                            error={error.usia_kawin ? true : false}\r\n                            helperText={error.usia_kawin}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.sts_akta ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"sts_akta\"\r\n                                value={selectedKeluarga.sts_akta || ''}\r\n                                onChange={handleChangeStsAkta}\r\n                                name=\"sts_akta\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Memiliki Akta Lahir</MenuItem>\r\n                                <MenuItem value=\"1\">Ya</MenuItem>\r\n                                <MenuItem value=\"2\">Tidak</MenuItem>\r\n                            </Select>\r\n                            <FormHelperText>{error.sts_akta}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting || id === \"01\" || (keluarga[\"01\"].jenis_kelamin === \"1\" && keluarga[\"01\"].sts_kawin === \"2\" && id === \"02\")}\r\n                            variant=\"outlined\" fullWidth error={error.sts_hubungan ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"sts_hubungan\"\r\n                                value={(selectedKeluarga.sts_hubungan || (id === \"01\" && \"1\")) || (keluarga[\"01\"].jenis_kelamin === \"1\" && keluarga[\"01\"].sts_kawin === \"2\" && id === \"02\" && \"2\") || \"\"}\r\n                                onChange={handleChangeHubungan}\r\n                                name=\"sts_hubungan\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Hubungan Dengan Kepala Keluarga</MenuItem>\r\n                                {/* default halaman pertama kepalakeluarga */}\r\n                                {\r\n                                    id === \"01\" && <MenuItem value=\"1\">Kepala Keluarga</MenuItem>\r\n                                }\r\n\r\n                                {/* jika halaman pertamanya seorang laki2 dan berstatus kawin maka default halaman ke duanya harus istri */}\r\n                                {\r\n                                    keluarga[\"01\"].jenis_kelamin === \"1\" && keluarga[\"01\"].sts_kawin === \"2\" && id === \"02\" &&\r\n                                    <MenuItem value=\"2\">Istri</MenuItem>\r\n                                }\r\n\r\n                                {/* jika halaman keduanya default istri maka halaman seterusnya harus anak dan lain2 */}\r\n                                {\r\n                                    keluarga[\"01\"].jenis_kelamin === \"1\" && keluarga[\"01\"].sts_kawin === \"2\" && id > \"02\" &&\r\n                                    itemHubungan.map((val, index) => {\r\n                                        return (<MenuItem value={`${index + 3}`}>{val}</MenuItem>)\r\n                                    })\r\n                                }\r\n\r\n                                {/* jika halaman pertama seorang perempuan dan berstatus kawin halaman ke dua dan seterusnya harus anak dan lain2 */}\r\n                                {\r\n                                    keluarga[\"01\"].jenis_kelamin === \"2\" && keluarga[\"01\"].sts_kawin === \"2\" && id >= \"02\" &&\r\n                                    itemHubungan.map((val, index) => {\r\n                                        return (<MenuItem value={`${index + 3}`}>{val}</MenuItem>)\r\n                                    })\r\n                                }\r\n\r\n                                {/* jika halaman pertamanya cerai maka yg tampil di halaman ke dua dan seterusnya harus anak dan lain2 */}\r\n                                {\r\n                                    (keluarga[\"01\"].sts_kawin === \"3\" || keluarga[\"01\"].sts_kawin === \"4\") && id >= \"02\" &&\r\n                                    itemHubungan.map((val, index) => {\r\n                                        return (<MenuItem value={`${index + 3}`}>{val}</MenuItem>)\r\n                                    })\r\n                                }\r\n\r\n                                {/* jika halaman pertamanya belum kawin maka yg tampil di halaman ke dua dan seterusnya lain2 */}\r\n                                {\r\n                                    keluarga[\"01\"].sts_kawin === \"1\" && id >= \"02\" &&\r\n                                    <MenuItem value=\"4\">Lainnya</MenuItem>\r\n                                }\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.sts_hubungan}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    {/* <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting || selectedKeluarga.sts_hubungan !== \"3\"}\r\n                            variant=\"outlined\" fullWidth error={error.sts_hubanak_ibu ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"sts_hubanak_ibu\"\r\n                                value={selectedKeluarga.sts_hubanak_ibu || ''}\r\n                                onChange={handleChange}\r\n                                name=\"sts_hubanak_ibu\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Hubungan Anak Dengan Ibu</MenuItem>\r\n                                <MenuItem value=\"1\">Ibu Kandung</MenuItem>\r\n                                <MenuItem value=\"2\">Ibu Angkat</MenuItem>\r\n                                <MenuItem value=\"3\">Ibu Tiri</MenuItem>\r\n                                <MenuItem value=\"4\">Lainnya</MenuItem>\r\n\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.sts_hubanak_ibu}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid> */}\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting || selectedKeluarga.sts_hubungan !== \"3\"}\r\n                            variant=\"outlined\" fullWidth error={error.kd_ibukandung ? true : false}>\r\n\r\n                            <Select\r\n                                // disabled={isSubmitting || selectedKeluarga.sts_hubungan !== \"3\"}\r\n                                id=\"kd_ibukandung\"\r\n                                value={(selectedKeluarga.sts_hubungan == \"3\" && keluarga[\"02\"].sts_hubungan === \"2\") ?\r\n                                    selectedKeluarga.kd_ibukandung :\r\n                                    (selectedKeluarga.sts_hubungan == \"3\" && keluarga[\"01\"].jenis_kelamin === \"2\") ?\r\n                                        selectedKeluarga.kd_ibukandung :\r\n                                        (selectedKeluarga.sts_hubungan == \"3\" && keluarga[\"01\"].jenis_kelamin === \"1\") ?\r\n                                            '0' : ''\r\n                                }\r\n                                onChange={handleChange}\r\n                                name=\"kd_ibukandung\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Kode Ibu Kandung</MenuItem>\r\n\r\n                                {\r\n                                    Object.values(keluarga).map(kel => {\r\n                                        if (Object.keys(keluarga).length > 1) {\r\n                                            if (kel.sts_hubungan == \"1\" && kel.sts_kawin == \"2\" && kel.jenis_kelamin == \"1\")\r\n                                                return (\r\n                                                    <MenuItem key={keluarga['02'].no_urutnik} value={keluarga['02'].no_urutnik}>{keluarga['02'].no_urutnik} - {keluarga['02'].nama_anggotakel}</MenuItem>\r\n                                                )\r\n\r\n                                            if (kel.sts_hubungan == \"1\" && kel.sts_kawin !== \"2\" && kel.jenis_kelamin == \"2\")\r\n                                                return (\r\n                                                    <MenuItem key={keluarga['01'].no_urutnik} value={keluarga['01'].no_urutnik}>{keluarga['01'].no_urutnik} - {keluarga['01'].nama_anggotakel}</MenuItem>\r\n                                                )\r\n\r\n                                            if (kel.sts_hubungan == \"1\" && (kel.sts_kawin == \"3\" || kel.sts_kawin == \"4\") && kel.jenis_kelamin == \"1\")\r\n                                                return (\r\n                                                    <MenuItem value=\"0\">00</MenuItem>\r\n                                                )\r\n                                        }\r\n                                    })\r\n                                }\r\n                                <MenuItem value=\"0\">00</MenuItem>\r\n\r\n\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.kd_ibukandung}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n\r\n\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.id_agama ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"id_agama\"\r\n                                value={selectedKeluarga.id_agama || ''}\r\n                                onChange={handleChange}\r\n                                name=\"id_agama\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Agama</MenuItem>\r\n                                <MenuItem value=\"1\">Islam</MenuItem>\r\n                                <MenuItem value=\"2\">Kristen</MenuItem>\r\n                                <MenuItem value=\"3\">Katolik</MenuItem>\r\n                                <MenuItem value=\"4\">Hindu</MenuItem>\r\n                                <MenuItem value=\"5\">Budha</MenuItem>\r\n                                <MenuItem value=\"6\">Konghucu</MenuItem>\r\n                                <MenuItem value=\"7\">Penghayat Kepercayaan</MenuItem>\r\n                                <MenuItem value=\"8\">Lainnya</MenuItem>\r\n                            </Select>\r\n                            <FormHelperText>{error.id_agama}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={4}>\r\n\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.id_pekerjaan ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"id_pekerjaan\"\r\n                                value={selectedKeluarga.id_pekerjaan || ''}\r\n                                onChange={handleChange}\r\n                                name=\"id_pekerjaan\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Status Pekerjaan</MenuItem>\r\n                                <MenuItem value=\"1\">Tidak/Belum Bekerja</MenuItem>\r\n                                <MenuItem value=\"2\">Petani</MenuItem>\r\n                                <MenuItem value=\"3\">Nelayan</MenuItem>\r\n                                <MenuItem value=\"4\">Pedagang</MenuItem>\r\n                                <MenuItem value=\"5\">Pejabat Negara</MenuItem>\r\n                                <MenuItem value=\"6\">PNS/TNI/POLRI</MenuItem>\r\n                                <MenuItem value=\"7\">Pegawai Swasta</MenuItem>\r\n                                <MenuItem value=\"8\">Wiraswasta</MenuItem>\r\n                                <MenuItem value=\"9\">Pensiunan</MenuItem>\r\n                                <MenuItem value=\"10\">Pekerja Lepas</MenuItem>\r\n                            </Select>\r\n                            <FormHelperText>{error.id_pekerjaan}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.jns_pendidikan ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"jns_pendidikan\"\r\n                                value={selectedKeluarga.jns_pendidikan || ''}\r\n                                onChange={handleChange}\r\n                                name=\"jns_pendidikan\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Pendidikan</MenuItem>\r\n                                <MenuItem value=\"1\">Tidak/Belum Sekolah</MenuItem>\r\n                                <MenuItem value=\"2\">Tidak Tamat SD/Sederajat</MenuItem>\r\n                                <MenuItem value=\"3\">Masih SD/Sederajat</MenuItem>\r\n                                <MenuItem value=\"4\">Tamat SD/Sederajat</MenuItem>\r\n                                <MenuItem value=\"5\">Masih SLTP/Sederajat</MenuItem>\r\n                                <MenuItem value=\"6\">Tamat SLTP/Sederajat</MenuItem>\r\n                                <MenuItem value=\"7\">Masih SLTA/Sederajat</MenuItem>\r\n                                <MenuItem value=\"8\">Tamat SLTA/Sederajat</MenuItem>\r\n                                <MenuItem value=\"9\">Masih PT/Akademi</MenuItem>\r\n                                <MenuItem value=\"10\">Tamat PT/Akademi</MenuItem>\r\n\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.jns_pendidikan}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={4}>\r\n\r\n                        <FormControl\r\n                            disabled={isSubmitting}\r\n                            variant=\"outlined\" fullWidth error={error.jns_asuransi ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"jns_asuransi\"\r\n                                value={selectedKeluarga.jns_asuransi || ''}\r\n                                onChange={handleChangeJnsAsuransi}\r\n                                name=\"jns_asuransi\"\r\n                                displayEmpty\r\n                            >\r\n                                <MenuItem value=\"\">Kepesertaan JKN/Asurasnsi Kesehatan lainnya</MenuItem>\r\n                                <MenuItem value=\"1\">BPJS-PBI/Jamkesmas/Jamkesda</MenuItem>\r\n                                <MenuItem value=\"2\">BPJS-Non PBI</MenuItem>\r\n                                <MenuItem value=\"3\">Swasta</MenuItem>\r\n                                <MenuItem value=\"4\">Tidak Memiliki</MenuItem>\r\n                            </Select>\r\n                            <FormHelperText>{error.jns_asuransi}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            disabled={isSubmitting || wilayah.jumlah_keluarga === \"1\"}\r\n                            variant=\"outlined\" fullWidth error={error.keberadaan ? true : false}>\r\n\r\n                            <Select\r\n                                id=\"keberadaan\"\r\n                                value={((wilayah.jumlah_keluarga === \"1\" && \"1\")) || selectedKeluarga.keberadaan || \"\"}\r\n                                onChange={handleChange}\r\n                                name=\"keberadaan\"\r\n                                displayEmpty\r\n                            >\r\n                                {/* <MenuItem value=\"\">Keberadaan anggota keluarga</MenuItem>\r\n                                <MenuItem value=\"1\">Di Dalam Rumah</MenuItem>\r\n                                <MenuItem value=\"2\">Di Luar Rumah</MenuItem>\r\n                                <MenuItem value=\"3\">Di Luar Negeri</MenuItem> */}\r\n\r\n                                <MenuItem value=\"\">Keberadaan anggota keluarga</MenuItem>\r\n                                {\r\n                                    wilayah.jumlah_keluarga === \"1\" && <MenuItem value=\"1\">Di Dalam Rumah</MenuItem>\r\n                                }\r\n                                {\r\n                                    wilayah.jumlah_keluarga !== \"1\" &&\r\n                                    itemKeberadaan.map((val, index) => {\r\n                                        return (<MenuItem value={`${index + 1}`}>{val}</MenuItem>)\r\n                                    })\r\n                                }\r\n\r\n                            </Select>\r\n                            <FormHelperText>{error.keberadaan}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs>\r\n                        <Button\r\n                            ref={backRef}\r\n                            // disabled={!isSomethingChange || isSubmitting}\r\n                            onClick={() => {\r\n                                handleBack()\r\n                            }}><ChevronLeft className={classes.iconLeft} /> Sebelumnya </Button>\r\n\r\n                    </Grid>\r\n                    <Grid item>\r\n                        {isSubmitting && <CircularProgress size={14} />}\r\n                        <Button\r\n                            ref={nextRef}\r\n                            disabled={isSubmitting}\r\n                            type=\"submit\">Selanjutnya <ChevronRight className={classes.iconRight} /></Button>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            </form></Swipeable>\r\n    )\r\n}\r\n\r\n\r\nKeluarga.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    keluarga: PropTypes.object.isRequired,\r\n    setKeluarga: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Keluarga;\r\n//","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    },\r\n    slideContent: {\r\n        minHeight: 330\r\n    }\r\n}))\r\n\r\n\r\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    },\r\n\r\n\r\n    card: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        minWidth: 0,\r\n        wordWrap: 'break-word',\r\n        backgroundColor: 'rgba(0,0,0,.03)',\r\n        backgroundClip: 'border-box',\r\n        border: \"1px solid rgba(255,255,255,.125)\",\r\n        borderRadius: '.25rem'\r\n    },\r\n    cardHeader: {\r\n        padding: '12px 10px 5px 20px',\r\n        marginBottom: 0,\r\n        backgroundColor: 'rgba(0,0,0,.01)',\r\n        borderBottom: '1px solid rgba(0,0,0,.125)',\r\n        \"&:first-child\": {\r\n            borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\r\n        }\r\n    },\r\n\r\n    cardBody: {\r\n        flex: '1 1 auto',\r\n        padding: '.7rem 1.0rem',\r\n        backgroundColor: 'rgba(255,255,255,.2)'\r\n    },\r\n\r\n    badge: {\r\n        fontSize: '100%',\r\n        color: '#212529',\r\n        backgroundColor: '#ffc107',\r\n        paddingRight: '.6em',\r\n        paddingLeft: '.6em',\r\n        borderRadius: '10rem',\r\n        display: 'inline-block',\r\n        padding: '.25em .4em',\r\n\r\n        fontWeight: 700,\r\n        lineHeight: 1,\r\n        textAlign: 'center',\r\n        whiteSpace: 'nowrap',\r\n        verticalAlign: 'baseline',\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    inputMini: {\r\n        padding: \"10.5px 14px\"\r\n    },\r\n    inputAdornmentNoWrap: {\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    radioGroup: {\r\n        display: 'flex',\r\n        flexDirection: 'row !important'\r\n    },\r\n    radioSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexWrap: 'wrap',\r\n        flex: 1\r\n    }\r\n\r\n}))\r\n\r\n\r\nexport default useStyles;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n// validator\r\nimport isNumeric from 'validator/lib/isNumeric';\r\nimport useStyles from './styles';\r\n\r\nfunction SubForm01({ id, setValue, saveValue, value, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    const pertanyaan = \"Sudah berapa kali Ibu melahirkan ?\";\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\" && parseInt(e.target.value) < 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n        \r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.kelahiran) {\r\n            newError.kelahiran = \"Jumlah kelahiran wajib diisi\";\r\n        } else if (!isNumeric(value.kelahiran)) {\r\n            newError.kelahiran = \"Jumlah kelahiran tidak valid\";\r\n        }\r\n\r\n        if (!value.lahir_hidup_laki_laki) {\r\n            newError.lahir_hidup_laki_laki = \"Jumlah Laki-laki wajib diisi\";\r\n        } else if (!isNumeric(value.lahir_hidup_laki_laki)) {\r\n            newError.lahir_hidup_laki_laki = \"Jumlah Laki-laki tidak valid\";\r\n        }\r\n\r\n        if (!value.lahir_hidup_perempuan) {\r\n            newError.lahir_hidup_perempuan = \"Jumlah Perempuan wajib diisi\";\r\n        } else if (!isNumeric(value.lahir_hidup_perempuan)) {\r\n            newError.lahir_hidup_perempuan = \"Jumlah Perempuan tidak valid\";\r\n        }\r\n\r\n        if (!value.masih_hidup_laki_laki) {\r\n            newError.masih_hidup_laki_laki = \"Jumlah Laki-laki wajib diisi\";\r\n        } else if (!isNumeric(value.masih_hidup_laki_laki)) {\r\n            newError.masih_hidup_perempuan = \"Jumlah Perempuan tidak valid\"\r\n        }\r\n        else if (parseInt(value.masih_hidup_laki_laki) > parseInt(value.lahir_hidup_laki_laki)) {\r\n            newError.masih_hidup_laki_laki = \" Jumlah Laki-laki masih hidup tidak boleh lebih besar dari jumlah Laki-laki lahir hidup\";\r\n        }\r\n\r\n        if (!value.masih_hidup_perempuan) {\r\n            newError.masih_hidup_perempuan = \"Jumlah Perempuan wajib diisi\";\r\n        } else if (!isNumeric(value.masih_hidup_perempuan)) {\r\n            newError.masih_hidup_perempuan = \"Jumlah Perempuan tidak valid\";\r\n        } else if (parseInt(value.masih_hidup_perempuan) > parseInt(value.lahir_hidup_perempuan)) {\r\n            newError.masih_hidup_perempuan = \" Jumlah Perempuan masih hidup tidak boleh lebih besar dari Jumlah Perempuan lahir hidup\";\r\n        }\r\n\r\n        if (parseInt(value.lahir_hidup_laki_laki) + parseInt(value.lahir_hidup_perempuan) > parseInt(value.kelahiran) ) {\r\n            newError.kelahiran = \" Jumlah Laki-laki lahir hidup dan Jumlah Perempuan masih hidup tidak boleh lebih dari Jumlah Kelahiran\";\r\n        }\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: value.kelahiran,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 1,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: 1,\r\n                        Jawaban_D1: parseInt(value.lahir_hidup_laki_laki),\r\n                        Jawaban_D2: parseInt(value.lahir_hidup_perempuan),\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: 0,\r\n                        Lainnya: \"\"\r\n                    },\r\n                    {\r\n                        _id: `${no_kk}${id}02`,\r\n                        No_Jawaban: 2,\r\n                        Jawaban_D1: parseInt(value.masih_hidup_laki_laki),\r\n                        Jawaban_D2: parseInt(value.masih_hidup_perempuan),\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: 0,\r\n                        Lainnya: \"\"\r\n                    }\r\n                ]\r\n\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>01</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"kelahiran\"\r\n                            name=\"kelahiran\"\r\n                            value={value.kelahiran || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"end\">kelahiran</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0\r\n                            }}\r\n                            error={error.kelahiran ? true : false}\r\n                            helperText={error.kelahiran}\r\n\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>1. Berapa jumlah anak lahir hidup</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"lahir_hidup_laki_laki\"\r\n                            name=\"lahir_hidup_laki_laki\"\r\n                            value={value.lahir_hidup_laki_laki || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                startAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"start\">Laki-laki:</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0,\r\n                                max: value.kelahiran\r\n                            }}\r\n                            error={error.lahir_hidup_laki_laki ? true : false}\r\n                            helperText={error.lahir_hidup_laki_laki}\r\n                            disabled={value.kelahiran===\"0\"?true:false}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"lahir_hidup_perempuan\"\r\n                            name=\"lahir_hidup_perempuan\"\r\n                            value={value.lahir_hidup_perempuan || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                startAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n\r\n                                    position=\"start\">Perempuan:</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0,\r\n                                max: value.kelahiran\r\n                            }}\r\n                            error={error.lahir_hidup_perempuan ? true : false}\r\n                            helperText={error.lahir_hidup_perempuan}\r\n                            disabled={value.kelahiran===\"0\"?true:false}\r\n\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>2. Berapa jumlah anak masih hidup</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"masih_hidup_laki_laki\"\r\n                            name=\"masih_hidup_laki_laki\"\r\n                            value={value.masih_hidup_laki_laki || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                startAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"start\">{`Laki-laki:`}</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0,\r\n                                max: value.lahir_hidup_laki_laki\r\n                            }}\r\n\r\n                            error={error.masih_hidup_laki_laki ? true : false}\r\n                            helperText={error.masih_hidup_laki_laki}\r\n                            disabled={value.kelahiran===\"0\"?true:false}\r\n\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"masih_hidup_perempuan\"\r\n                            name=\"masih_hidup_perempuan\"\r\n                            value={value.masih_hidup_perempuan || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                startAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"start\">Perempuan:</InputAdornment>,\r\n\r\n                            }}\r\n                            type=\"number\"\r\n\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0,\r\n                                max: value.lahir_hidup_perempuan\r\n                            }}\r\n                            error={error.masih_hidup_perempuan ? true : false}\r\n                            helperText={error.masih_hidup_perempuan}\r\n                            disabled={value.kelahiran===\"0\"?true:false}\r\n                        />\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm01;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n// validator\r\nimport isNumeric from 'validator/lib/isNumeric';\r\nimport useStyles from './styles';\r\n\r\nfunction SubForm02({ id, setValue, saveValue, value, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    const pertanyaan = \"Menurut ibu, berapa jumlah anak ideal yang diinginkan\";\r\n    const handleChange = (e) => {\r\n\r\n\r\n        if (e.target.type === \"number\" && parseInt(e.target.value) < 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.jumlah_anak) {\r\n            newError.jumlah_anak = \"Jumlah Anak wajib diisi\";\r\n        } else if (!isNumeric(value.jumlah_anak)) {\r\n            newError.jumlah_anak = \"Jumlah Anak tidak valid\";\r\n        }\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: value.jumlah_anak,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 2,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n\r\n            }\r\n\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>02</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"jumlah_anak\"\r\n                            name=\"jumlah_anak\"\r\n                            value={value.jumlah_anak || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"end\">Anak</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0\r\n                            }}\r\n                            error={error.jumlah_anak ? true : false}\r\n                            helperText={error.jumlah_anak}\r\n\r\n                        />\r\n                    </Grid>\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm02;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport useStyles from './styles';\r\n\r\nimport isNumeric from 'validator/lib/isNumeric';\r\n\r\nfunction SubForm03({ id, setValue, saveValue, value, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    const pertanyaan = \"Apakah Ibu saat ini sedang hamil ?\";\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\" && parseInt(e.target.value) < 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.sedang_hamil) {\r\n            newError.sedang_hamil = \"Wajib diisi\";\r\n        }\r\n\r\n        if (value.sedang_hamil === \"1\") {\r\n            if (!value.usia_kehamilan) {\r\n                newError.usia_kehamilan = \"Usia kehamilan wajib diisi\";\r\n            } else if (!isNumeric(value.usia_kehamilan)) {\r\n                newError.usia_kehamilan = \"Usia kehamilan tidak valid\";\r\n            } else if (parseInt(value.usia_kehamilan) < 0 || parseInt(value.usia_kehamilan) > 45) {\r\n                newError.usia_kehamilan = \"Usia kehamilan tidak valid\";\r\n            }\r\n\r\n            if (!value.sedang_hamil_ingin) {\r\n                newError.sedang_hamil_ingin = \"Wajib diisi\";\r\n            }\r\n        } else if (value.sedang_hamil === \"2\") {\r\n            if (!value.ingin_anak) {\r\n                newError.ingin_anak = \"Wajib diisi\";\r\n            }\r\n        }\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n            //console.log(value)\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.sedang_hamil,\r\n            //     jawaban_2: value.usia_kehamilan ? value.usia_kehamilan : ''\r\n\r\n            // }\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 3,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n            }\r\n\r\n            if (value.sedang_hamil === \"1\") {\r\n                normalizeValue.answer = [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.sedang_hamil,\r\n                        Jawaban_D1: value.usia_kehamilan ? value.usia_kehamilan : 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: value.sedang_hamil_ingin ? value.sedang_hamil_ingin : 0,\r\n                        Lainnya: \"\"\r\n                    }\r\n\r\n                ]\r\n            } else if (value.sedang_hamil === \"2\") {\r\n                normalizeValue.answer = [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.sedang_hamil,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: value.ingin_anak ? value.ingin_anak : 0,\r\n                        Lainnya: \"\"\r\n                    }\r\n\r\n                ]\r\n            }\r\n\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>03</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={3}>\r\n                        <FormControl error={error.sedang_hamil ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.sedang_hamil || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"sedang_hamil\" name=\"sedang_hamil\">\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"1\"\r\n                                    label=\"Ya\" />\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"2\"\r\n                                    label=\"Tidak\" />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.sedang_hamil}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    {value.sedang_hamil === '1' &&\r\n                        <>\r\n                            <Grid item xs={12} md={3}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Usia Kehamilan\"\r\n                                    placeholder=\"1\"\r\n                                    variant=\"outlined\"\r\n                                    id=\"usia_kehamilan\"\r\n                                    name=\"usia_kehamilan\"\r\n                                    value={value.usia_kehamilan || ''}\r\n                                    onChange={handleChange}\r\n                                    InputProps={{\r\n\r\n                                        endAdornment: <InputAdornment\r\n                                            className={classes.inputAdornmentNoWrap}\r\n                                            position=\"end\">Minggu</InputAdornment>,\r\n                                    }}\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n\r\n                                        className: classes.inputMini,\r\n                                        min: 0,\r\n                                        max: 45\r\n                                    }}\r\n                                    InputLabelProps={{ shrink: true }}\r\n                                    error={error.usia_kehamilan ? true : false}\r\n                                    helperText={error.usia_kehamilan}\r\n\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Typography><strong>1.1 Jika YA, saat mulai hamil, apakah Ibu memang ingin hamil saat itu, ingin hamil nanti atau tidak ingin anak lagi?</strong></Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={4}>\r\n                                <FormControl\r\n                                    error={error.sedang_hamil_ingin ? true : false}\r\n                                    component=\"fieldset\">\r\n                                    <RadioGroup value={value.sedang_hamil_ingin || ''}\r\n                                        onChange={handleChange}\r\n                                        aria-label=\"sedang_hamil_ingin\" name=\"sedang_hamil_ingin\">\r\n                                        <FormControlLabel control={<Radio />}\r\n                                            value=\"1\"\r\n                                            label=\"Ya, ingin hamil saat itu\" />\r\n                                        <FormControlLabel control={<Radio />}\r\n                                            value=\"2\"\r\n                                            label=\"Ingin hamil nanti/kemudian\" />\r\n                                        <FormControlLabel control={<Radio />}\r\n                                            value=\"3\"\r\n                                            label=\"Tidak ingin anak lagi\" />\r\n                                    </RadioGroup>\r\n                                    <FormHelperText>{error.sedang_hamil_ingin}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </>\r\n                    }\r\n                    {\r\n                        value.sedang_hamil === \"2\" &&\r\n                        <>\r\n                            <Grid item xs={12}>\r\n                                <Typography><strong>2.1 Apakah Ibu menginginkan anak lagi?</strong></Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={4}>\r\n                                <FormControl\r\n                                    error={error.ingin_anak ? true : false}\r\n                                    component=\"fieldset\">\r\n                                    <RadioGroup value={value.ingin_anak || ''}\r\n                                        onChange={handleChange}\r\n                                        aria-label=\"ingin_anak\" name=\"ingin_anak\">\r\n                                        <FormControlLabel control={<Radio />}\r\n                                            value=\"1\"\r\n                                            label=\"Ya. Ingin anak segera\" />\r\n                                        <FormControlLabel control={<Radio />}\r\n                                            value=\"2\"\r\n                                            label=\"Ya. Ingin anak nanti/kemudian\" />\r\n                                        <FormControlLabel control={<Radio />}\r\n                                            value=\"3\"\r\n                                            label=\"Tidak ingin anak lagi\" />\r\n                                        {/* <FormControlLabel control={<Radio />}\r\n                                    value=\"4\"\r\n                                    label=\"Tidak dapat hamil\" /> */}\r\n                                    </RadioGroup>\r\n                                    <FormHelperText>{error.ingin_anak}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </>\r\n                    }\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm03;","\nexport const generateYears = (startYear) => {\n\n    const currentYear = new Date().getFullYear();\n    startYear = startYear || 1980;\n    let years = [];\n    while (startYear <= currentYear) {\n        years.push(startYear++);\n    }\n\n    return years.reverse()\n\n}\n\nexport const generateMonths = () => {\n    let month = 1;\n    let months = [];\n    while (month <= 12) {\n        months.push(month++)\n    }\n\n    return months;\n}","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport { generateYears, generateMonths } from '../../../../../utils/generator';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst years = generateYears(2019 - 30);\r\nconst months = generateMonths();\r\n\r\n\r\nfunction SubForm04({ id, setValue, saveValue, value, kb, handleNextSub, no_kk, navigationMode, handleBackSub }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n    const [notPregnant, setNotPregnant] = useState(false);\r\n    useEffect(() => {\r\n        setError({})\r\n        \r\n        // if (kb[\"0103\"].sedang_hamil === \"2\") {\r\n        //     setNotPregnant(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub()\r\n        //     }\r\n        // }\r\n        /* cek kondisi untuk semua form */\r\n        if(kb[\"0103\"].sedang_hamil===\"2\" && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"1\"){\r\n            setNotPregnant(true);\r\n        }else{\r\n            if(kb[\"0103\"].sedang_hamil===\"1\"){\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            \r\n\r\n            }else{\r\n                setNotPregnant(true);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    if (!notPregnant) {\r\n        return null\r\n    }\r\n\r\n    const pertanyaan = \"Apakah saat ini IBU atau SUAMI menggunakan alat/obat/cara KB (Kontrasepsi)?\";\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.menggunakan_kontrasepsi) {\r\n            newError.menggunakan_kontrasepsi = \"Wajib diisi\";\r\n        }\r\n\r\n        if (value.menggunakan_kontrasepsi === \"1\") {\r\n            if (!value.bulan_pakai) {\r\n                newError.bulan_pakai = \"Bulan wajib diisi\";\r\n            }\r\n\r\n            if (!value.tahun_pakai) {\r\n                newError.tahun_pakai = \"Tahun wajib diisi\";\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.menggunakan_kontrasepsi,\r\n\r\n            // }\r\n\r\n            let Jawaban_D1 = value.bulan_pakai || 0;\r\n            let Jawaban_D2 = value.tahun_pakai || 0;\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 4,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.menggunakan_kontrasepsi,\r\n                        Jawaban_D1,\r\n                        Jawaban_D2,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: 0,\r\n                        Lainnya: \"\"\r\n                    }\r\n\r\n                ]\r\n\r\n\r\n            }\r\n\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>04</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={4}>\r\n                        <FormControl\r\n                            error={error.menggunakan_kontrasepsi ? true : false}\r\n                            component=\"fieldset\">\r\n                            <RadioGroup value={value.menggunakan_kontrasepsi || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"menggunakan_kontrasepsi\" name=\"menggunakan_kontrasepsi\">\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"1\"\r\n                                    label=\"Ya\" />\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"2\"\r\n                                    label=\"Tidak\" />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.menggunakan_kontrasepsi}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    {value.menggunakan_kontrasepsi === '1' &&\r\n                        <>\r\n                            <Grid item xs={12}>\r\n                                <Typography>Kapan mulai menggunakan alat/obat KB (Kontrasepsi) yang dipakai saat ini?</Typography>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n\r\n                                <FormControl\r\n\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    error={error.bulan_pakai ? true : false}>\r\n\r\n                                    <Select\r\n                                        id=\"bulan_pakai\"\r\n                                        value={value.bulan_pakai || ''}\r\n                                        onChange={handleChange}\r\n                                        name=\"bulan_pakai\"\r\n                                        displayEmpty\r\n                                    >\r\n                                        <MenuItem value=\"\">Bulan</MenuItem>\r\n                                        {months.map(month => <MenuItem key={month} value={month}>{month}</MenuItem>)}\r\n                                    </Select>\r\n                                    <FormHelperText>{error.bulan_pakai}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n\r\n                                <FormControl\r\n\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    error={error.tahun_pakai ? true : false}>\r\n\r\n                                    <Select\r\n                                        id=\"tahun_mulai\"\r\n                                        value={value.tahun_pakai || ''}\r\n                                        onChange={handleChange}\r\n                                        name=\"tahun_pakai\"\r\n                                        displayEmpty\r\n                                    >\r\n                                        <MenuItem value=\"\">Tahun</MenuItem>\r\n                                        {years.map(year => <MenuItem key={year} value={year}>{year}</MenuItem>)}\r\n                                    </Select>\r\n                                    <FormHelperText>{error.tahun_mulai}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </>\r\n                    }\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm04;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\n//import TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport useStyles from './styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport { generateYears, generateMonths } from '../../../../../utils/generator';\r\nconst years = generateYears(2019 - 30);\r\nconst months = generateMonths();\r\n\r\nfunction SubForm05({ id, setValue, saveValue, value, kb, handleNextSub, navigationMode, handleBackSub, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n    const [dontUseContrasep, setDontUseContrasep] = useState(false);\r\n    useEffect(() => {\r\n        setError({})\r\n        \r\n        // if (kb[\"0104\"].menggunakan_kontrasepsi === \"2\" || kb[\"0103\"].sedang_hamil === \"1\") {\r\n        \r\n        //     setDontUseContrasep(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub();\r\n        //     }\r\n        // }\r\n        /* cek kondisi untuk semua form */\r\n        if(kb[\"0103\"].sedang_hamil===\"2\" && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"1\"){\r\n            setDontUseContrasep(true);\r\n        }else{\r\n            if(kb[\"0103\"].sedang_hamil===\"2\"  && kb[\"0104\"].menggunakan_kontrasepsi===\"1\"){\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            \r\n\r\n            }else{\r\n                setDontUseContrasep(true);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    if (!dontUseContrasep) {\r\n        return null\r\n    }\r\n\r\n    const pertanyaan = \"Apa dalam 12 bulan terakhir, IBU atau SUAMI \\\"PERNAH\\\" menggunakan alat/obat/cara KB (Kontrasepsi)?\";\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.pernah_menggunakan_kontrasepsi) {\r\n            newError.pernah_menggunakan_kontrasepsi = \"Wajib diisi\";\r\n        }\r\n\r\n        if (value.pernah_menggunakan_kontrasepsi === \"1\") {\r\n            if (!value.bulan_mulai) {\r\n                newError.bulan_mulai = \"Bulan mulai wajib diisi\";\r\n            }\r\n\r\n            if (!value.tahun_mulai) {\r\n                newError.tahun_mulai = \"Tahun mulai wajib diisi\";\r\n            }\r\n\r\n            if (!value.bulan_berhenti) {\r\n                newError.bulan_berhenti = \"Bulan berhenti wajib diisi\";\r\n            }\r\n\r\n            if (!value.tahun_berhenti) {\r\n                newError.tahun_berhenti = \"Tahun berhenti wajib diisi\";\r\n            }\r\n        }\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n\r\n\r\n            let Jawaban_D1 = value.bulan_mulai || 0;\r\n            let Jawaban_D2 = value.tahun_mulai || 0;\r\n            let Jawab_D3 = value.bulan_berhenti || 0;\r\n            let Jawab_D4 = value.tahun_berhenti || 0;\r\n\r\n\r\n\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 5,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.pernah_menggunakan_kontrasepsi,\r\n                        Jawaban_D1,\r\n                        Jawaban_D2,\r\n                        Jawab_D3,\r\n                        Jawab_D4,\r\n                        pilihankb: 0,\r\n                        Lainnya: \"\"\r\n                    },\r\n\r\n                ]\r\n\r\n            }\r\n\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n\r\n\r\n\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>05</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={3}>\r\n                        <FormControl error={error.pernah_menggunakan_kontrasepsi ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.pernah_menggunakan_kontrasepsi || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"pernah_menggunakan_kontrasepsi\" name=\"pernah_menggunakan_kontrasepsi\">\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"1\"\r\n                                    label=\"Ya\" />\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"2\"\r\n                                    label=\"Tidak\" />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.pernah_menggunakan_kontrasepsi}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    {value.pernah_menggunakan_kontrasepsi === '1' &&\r\n                        <>\r\n                            <Grid item xs={12}>\r\n                                <Typography>Kapan mulai menggunakan Alat/obat/cara kontrasepsi terakhir?</Typography>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n\r\n                                <FormControl\r\n\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    error={error.bulan_mulai ? true : false}>\r\n\r\n                                    <Select\r\n                                        id=\"bulan_mulai\"\r\n                                        value={value.bulan_mulai || ''}\r\n                                        onChange={handleChange}\r\n                                        name=\"bulan_mulai\"\r\n                                        displayEmpty\r\n                                    >\r\n                                        <MenuItem value=\"\">Bulan</MenuItem>\r\n                                        {months.map(month => <MenuItem key={month} value={month}>{month}</MenuItem>)}\r\n                                    </Select>\r\n                                    <FormHelperText>{error.bulan_mulai}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n\r\n                                <FormControl\r\n\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    error={error.tahun_mulai ? true : false}>\r\n\r\n                                    <Select\r\n                                        id=\"tahun_mulai\"\r\n                                        value={value.tahun_mulai || ''}\r\n                                        onChange={handleChange}\r\n                                        name=\"tahun_mulai\"\r\n                                        displayEmpty\r\n                                    >\r\n                                        <MenuItem value=\"\">Tahun</MenuItem>\r\n                                        {years.map(year => <MenuItem key={year} value={year}>{year}</MenuItem>)}\r\n                                    </Select>\r\n                                    <FormHelperText>{error.tahun_mulai}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Typography>Kapan berhenti menggunakan Alat/obat/cara kontrasepsi terakhir?</Typography>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n\r\n                                <FormControl\r\n\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    error={error.bulan_berhenti ? true : false}>\r\n\r\n                                    <Select\r\n                                        id=\"bulan_berhenti\"\r\n                                        value={value.bulan_berhenti || ''}\r\n                                        onChange={handleChange}\r\n                                        name=\"bulan_berhenti\"\r\n                                        displayEmpty\r\n                                    >\r\n                                        <MenuItem value=\"\">Bulan</MenuItem>\r\n                                        {months.map(month => <MenuItem key={month} value={month}>{month}</MenuItem>)}\r\n                                    </Select>\r\n                                    <FormHelperText>{error.bulan_berhenti}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n\r\n                                <FormControl\r\n\r\n                                    variant=\"outlined\"\r\n                                    fullWidth\r\n                                    error={error.tahun_berhenti ? true : false}>\r\n\r\n                                    <Select\r\n                                        id=\"tahun_berhenti\"\r\n                                        value={value.tahun_berhenti || ''}\r\n                                        onChange={handleChange}\r\n                                        name=\"tahun_berhenti\"\r\n                                        displayEmpty\r\n                                    >\r\n                                        <MenuItem value=\"\">Tahun</MenuItem>\r\n                                        {years.map(year => <MenuItem key={year} value={year}>{year}</MenuItem>)}\r\n                                    </Select>\r\n                                    <FormHelperText>{error.tahun_berhenti}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </>\r\n                    }\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm05;","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n//icons\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport useStyles from './styles';\r\n\r\nimport { usePouchDB } from '../../../../components/PouchDB/PouchDBProvider';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { Swipeable } from 'react-swipeable';\r\n\r\nimport { countAge } from '../pk/validation'\r\n\r\n// subforms\r\n\r\nimport SubForm01 from './subforms/01';\r\nimport SubForm02 from './subforms/02';\r\nimport SubForm03 from './subforms/03';\r\nimport SubForm04 from './subforms/04';\r\nimport SubForm05 from './subforms/05';\r\nimport SubForm06 from './subforms/06';\r\nimport SubForm07 from './subforms/07';\r\nimport SubForm08 from './subforms/08';\r\nimport SubForm09 from './subforms/09';\r\n// import SubForm10 from './subforms/10';\r\nconst subforms = {\r\n    \"0101\": {\r\n        component: SubForm01\r\n    }, \"0102\": {\r\n        component: SubForm02\r\n    }, \"0103\": {\r\n        component: SubForm03\r\n    }, \"0104\": {\r\n        component: SubForm04\r\n    }, \"0105\": {\r\n        component: SubForm05\r\n    }, \"0106\": {\r\n        component: SubForm06\r\n    }, \"0107\": {\r\n        component: SubForm07\r\n    }, \"0108\": {\r\n        component: SubForm08\r\n    }, \"0109\": {\r\n        component: SubForm09\r\n        // }, \"0110\": {\r\n        //     component: SubForm10\r\n    }\r\n};\r\n\r\nfunction KB({ wilayah, keluarga, kb, mainSlide, setKB, handleNext, handleBack, setNormalizeKB, mode, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const nextRef = useRef(null);\r\n    const backRef = useRef(null);\r\n\r\n    const { user: { metadata } } = usePouchDB();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n\r\n    const [wifeExists, setWifeExists] = useState(false); //set false \r\n    const [subformIndex, setSubFormIndex] = useState(0);\r\n    const [slide, setSlide] = useState({\r\n        direction: \"left\",\r\n        in: true\r\n    });\r\n    const [isSomethingChange, setSomethingChange] = useState(false);\r\n\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    const [navigationMode, setNavigationMode] = useState('next');\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const findWife = Object.values(keluarga).find(k => {\r\n            if (k.jenis_kelamin === \"2\" && k.sts_kawin === \"2\" && k.sts_hubungan === \"2\") {\r\n                const age = countAge(k.tgl_lahir);\r\n                return age >= 10 && age <= 49;\r\n            }\r\n            return false;\r\n        })\r\n\r\n        let initialKB = {};\r\n        const sfKeys = Object.keys(subforms);\r\n        for (let i = 0; i < sfKeys.length; i++) {\r\n            initialKB[`${sfKeys[i]}`] = {}\r\n        }\r\n\r\n\r\n        if (findWife) {\r\n            setKB(ckb => {\r\n                if (Object.keys(ckb).length > 0) {\r\n                    return { ...initialKB, ...ckb };\r\n                }\r\n                return initialKB\r\n            })\r\n\r\n            setNormalizeKB(ckb => {\r\n                if (Object.keys(ckb).length > 0) {\r\n                    return { ...initialKB, ...ckb };\r\n                }\r\n                return initialKB\r\n            })\r\n\r\n            setWifeExists(true)\r\n            if (mainSlide.navigationMode === \"next\") {\r\n                setNavigationMode('next')\r\n                setSubFormIndex(0);\r\n            } else {\r\n                setNavigationMode('back')\r\n                setSubFormIndex(8);\r\n            }\r\n\r\n        } else {\r\n            setKB(initialKB)\r\n            setNormalizeKB(initialKB)\r\n            if (mainSlide.navigationMode === \"next\") {\r\n                handleNext();\r\n            } else {\r\n                handleBack()\r\n            }\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    if (!wifeExists) {\r\n        return null;\r\n    }\r\n\r\n    const handleNextSub = () => {\r\n        if (subformIndex >= 8) {\r\n            return handleNext()\r\n        }\r\n        setNavigationMode('next')\r\n        setSlide({\r\n            direction: \"right\",\r\n            in: false\r\n        });\r\n        setTimeout(() => {\r\n\r\n            setSubFormIndex(index => index + 1);\r\n            setSlide({\r\n                direction: \"left\",\r\n                in: true\r\n            })\r\n\r\n        }, 300)\r\n\r\n    }\r\n\r\n\r\n    const handleBackSub = () => {\r\n\r\n\r\n        if (subformIndex === 0) {\r\n            return handleBack()\r\n        }\r\n\r\n        setNavigationMode('back')\r\n        setSlide({\r\n            direction: \"left\",\r\n            in: false\r\n        });\r\n        setTimeout(() => {\r\n\r\n            setSubFormIndex(index => index - 1);\r\n            setSlide({\r\n                direction: \"right\",\r\n                in: true\r\n            })\r\n\r\n        }, 300)\r\n    }\r\n\r\n\r\n    const no = Object.keys(subforms)[subformIndex];\r\n\r\n    const setValue = (e) => {\r\n        if (e.target.name == \"kelahiran\" && e.target.value === \"0\") {\r\n            const inputan = [\"kelahiran\",\r\n                \"lahir_hidup_laki_laki\",\r\n                \"lahir_hidup_perempuan\",\r\n                \"masih_hidup_laki_laki\",\r\n                \"masih_hidup_perempuan\"]\r\n            for (let i = 0; i < inputan.length; i++) {\r\n\r\n                setKB((kb) => ({\r\n                    ...kb,\r\n                    [no]: {\r\n                        ...kb[no],\r\n                        [inputan[i]]: \"0\"\r\n                    }\r\n                }))\r\n                setSomethingChange(true)\r\n            }\r\n\r\n        // } else if (e.target.name == \"pernah_menggunakan_kontrasepsi\" && e.target.value === \"2\") {\r\n        //     const inputankb5 = [\"pernah_menggunakan_kontrasepsi\",\r\n        //         \"bulan_mulai\",\r\n        //         \"tahun_mulai\",\r\n        //         \"bulan_berhenti\",\r\n        //         \"tahun_berhenti\"]\r\n        //     for (let i = 0; i < inputankb5.length; i++) {\r\n\r\n        //         setKB((kb) => ({\r\n        //             ...kb,\r\n        //             [no]: {\r\n        //                 ...kb[no],\r\n        //                 [inputankb5[i]]: \"\",\r\n        //                 [inputankb5[\"pernah_menggunakan_kontrasepsi\"]]: \"2\"\r\n        //             }\r\n        //         }))\r\n        //         setSomethingChange(true)\r\n        //     }\r\n        } else if (e.target.name == \"kelahiran\" && e.target.value === \"\") {\r\n            const inputan = [\"kelahiran\",\r\n                \"lahir_hidup_laki_laki\",\r\n                \"lahir_hidup_perempuan\",\r\n                \"masih_hidup_laki_laki\",\r\n                \"masih_hidup_perempuan\"]\r\n            for (let i = 0; i < inputan.length; i++) {\r\n\r\n                setKB((kb) => ({\r\n                    ...kb,\r\n                    [no]: {\r\n                        ...kb[no],\r\n                        [inputan[i]]: \"\"\r\n                    }\r\n                }))\r\n                setSomethingChange(true)\r\n            }\r\n\r\n        } else {\r\n            setKB({\r\n                ...kb,\r\n                [no]: {\r\n                    ...kb[no],\r\n                    [e.target.name]: e.target.value\r\n                }\r\n            })\r\n            setSomethingChange(true)\r\n        }\r\n\r\n    }\r\n\r\n    const saveValue = (normalizeValue) => {\r\n        if (!isSomethingChange) {\r\n            setNormalizeKB(normalizeKB => ({\r\n                ...normalizeKB,\r\n                [no]: {\r\n                    ...normalizeValue,\r\n                    user_name: metadata.name\r\n                }\r\n            }))\r\n            return handleNextSub();\r\n        }\r\n        //simpan ke db local\r\n        setSubmitting(true);\r\n        //const id = `${wilayah.no_kk}${no}`;\r\n        try {\r\n            // const existing = await dataKB.local.get(id)\r\n\r\n            // await dataKB.local.put({\r\n            //     _id: id,\r\n            //     _rev: existing._rev,\r\n            //     ...normalizeValue\r\n            // })\r\n            setNormalizeKB(normalizeKB => ({\r\n                ...normalizeKB,\r\n                [no]: {\r\n                    ...normalizeValue,\r\n                    user_name: metadata.name\r\n                }\r\n            }))\r\n\r\n            setSomethingChange(false);\r\n            setSubmitting(false);\r\n            handleNextSub()\r\n        } catch (e) {\r\n            setSubmitting(false);\r\n            if (e.name === 'not_found') {\r\n                try {\r\n                    // await dataKB.local.put({\r\n                    //     _id: id,\r\n                    //     type: 'anggota',\r\n                    //     ...normalizeValue\r\n                    // })\r\n\r\n                    setSomethingChange(false);\r\n                    handleNextSub()\r\n                } catch (e) {\r\n                    enqueueSnackbar(e.message, { variant: 'error' })\r\n                }\r\n            } else {\r\n                enqueueSnackbar(e.message, { variant: 'error' })\r\n            }\r\n\r\n        }\r\n    }\r\n    //console.log(subformIndex, no)\r\n\r\n    // subform aktif\r\n    const { component: SubForm } = subforms[no];\r\n    const value = kb[no];\r\n    return (<>\r\n        <Swipeable\r\n            trackMouse={true}\r\n            onSwipedRight={(e) => {\r\n\r\n                if (backRef) {\r\n                    backRef.current.click()\r\n                }\r\n            }}\r\n            onSwipedLeft={(e) => {\r\n                if (nextRef) {\r\n\r\n                    nextRef.current.click();\r\n                }\r\n            }}\r\n        >\r\n            <Grid container spacing={3}>\r\n\r\n                <Grid item xs={12} className={classes.textCenter}>\r\n\r\n                    <Typography variant=\"h5\" component=\"h1\">{mode === 'edit' ? `Edit Form Keluarga Berencana` : 'Form Keluarga Berencana'}</Typography>\r\n                    {/* {mode === 'edit' && <Typography>No KK: {no_kk}</Typography>} */}\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Divider />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Slide direction={slide.direction} in={slide.in}>\r\n                        <div className={classes.slideContent}>\r\n                            {value && <SubForm\r\n                                id={no}\r\n                                no_kk={wilayah.no_kk}\r\n                                value={value}\r\n                                setValue={setValue}\r\n                                saveValue={saveValue}\r\n                                kb={kb}\r\n                                handleNextSub={handleNextSub}\r\n                                handleBackSub={handleBackSub}\r\n                                navigationMode={navigationMode}\r\n                            />}\r\n                        </div>\r\n                    </Slide>\r\n\r\n                </Grid>\r\n                <Grid item xs>\r\n                    <Button\r\n                        ref={backRef}\r\n                        // disabled={!isSomethingChange || isSubmitting}\r\n                        onClick={handleBackSub}><ChevronLeft className={classes.iconLeft} /> Sebelumnya </Button>\r\n\r\n                </Grid>\r\n                <Grid item >\r\n                    {isSubmitting && <CircularProgress size={14} />}\r\n                    <Button\r\n                        ref={nextRef}\r\n                        form={no}\r\n                        disabled={isSubmitting}\r\n                        type=\"submit\">Selanjutnya <ChevronRight className={classes.iconRight} /></Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Swipeable>\r\n    </>);\r\n}\r\n\r\n\r\nexport default KB;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport useStyles from './styles';\r\n\r\n\r\nfunction SubForm06({ id, setValue, saveValue, value, kb, handleNextSub, navigationMode, handleBackSub, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    const [dontUseContrasep, setDontUseContrasep] = useState(false);\r\n    useEffect(() => {\r\n        setError({})\r\n\r\n        // if (kb[\"0104\"].menggunakan_kontrasepsi !== \"1\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"2\" || kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\" ) {\r\n        //     setDontUseContrasep(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub()\r\n        //     }\r\n        // }\r\n        /* cek kondisi untuk semua form */\r\n        if (kb[\"0103\"].sedang_hamil === \"2\" && kb[\"0104\"].menggunakan_kontrasepsi === \"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\") {\r\n            setDontUseContrasep(true);\r\n        } else {\r\n            if (kb[\"0103\"].sedang_hamil === \"2\" && kb[\"0104\"].menggunakan_kontrasepsi === \"1\") {\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n\r\n\r\n            } else {\r\n                setDontUseContrasep(true);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    if (!dontUseContrasep) {\r\n        return null\r\n    }\r\n\r\n    // const [dontUseContrasep, setDontUseContrasep] = useState(false);\r\n    // useEffect(() => {\r\n    //     setError({})\r\n\r\n    //     if (kb[\"0106\"].jenis_kontrasepsi !== \"9\") {\r\n    //         setDontUseContrasep(true);\r\n    //     } else {\r\n    //         if (navigationMode === 'back') {\r\n    //             handleBackSub();\r\n    //         } else {\r\n    //             handleNextSub()\r\n    //         }\r\n    //     }\r\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // }, [])\r\n\r\n    // if (!dontUseContrasep) {\r\n    //     return null\r\n    // }\r\n\r\n    const pertanyaan = \"Alasan utama tidak pakai KB atau putus pakai KB\";\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.alasan_tidak_kb) {\r\n            newError.alasan_tidak_kb = \"Wajib diisi\";\r\n        }\r\n\r\n        // if (value.alasan_tidak_kb === \"13\") {\r\n        //     if (!value.alasan_tidak_kb_lainnya) {\r\n        //         newError.alasan_tidak_kb_lainnya = \"Lainnya wajib diisi\";\r\n        //     }\r\n\r\n\r\n        // }\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.alasan_tidak_kb,\r\n            //     jawaban_2: value.alasan_tidak_kb_lainnya\r\n\r\n            // }\r\n            // saveValue(normalizeValue)\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 6,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.alasan_tidak_kb,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: 0,\r\n                        Lainnya: value.alasan_tidak_kb_lainnya ? value.alasan_tidak_kb_lainnya : \"\"\r\n                    },\r\n\r\n                ]\r\n\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>06</span>{pertanyaan} <strong><i>(PILIH HANYA SATU JAWABAN!)</i></strong></Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} >\r\n                        <FormControl error={error.alasan_tidak_kb ? true : false} component=\"fieldset\" fullWidth>\r\n                            <RadioGroup value={value.alasan_tidak_kb || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"alasan_tidak_kb\" name=\"alasan_tidak_kb\"\r\n                                className={classes.radioGroup}\r\n                            >\r\n                                <div className={classes.radioSection}>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ingin hamil/anak\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak tahu tentang KB\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"3\"\r\n                                        label=\"Alasan kesehatan\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"4\"\r\n                                        label=\"Efek samping\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"5\"\r\n                                        label=\"Tempat pelayanan jauh\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"6\"\r\n                                        label=\"Alat/Obat/Cara KB tidak tersedia\" />\r\n\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"7\"\r\n                                        label=\"Biaya mahal\" />\r\n                                </div>\r\n                                <div className={classes.radioSection}>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"8\"\r\n                                        label=\"Tidak ada alat/obat/cara KB yang cocok\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"9\"\r\n                                        label=\"Suami/keluarga menolak\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"10\"\r\n                                        label=\"Alasan agama\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"11\"\r\n                                        label=\"Suami tinggal jauh/jarang berhubungan\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"12\"\r\n                                        label=\"Tidak ada petugas pelayanan KB\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"13\"\r\n                                        label=\"Infertilitas/Menopause\" />\r\n                                    {/* {value.alasan_tidak_kb === \"13\" &&\r\n\r\n                                        <TextField\r\n                                            fullWidth\r\n\r\n                                            placeholder=\"Tuliskan\"\r\n                                            variant=\"outlined\"\r\n                                            id=\"alasan_tidak_kb_lainnya\"\r\n                                            name=\"alasan_tidak_kb_lainnya\"\r\n                                            value={value.alasan_tidak_kb_lainnya || ''}\r\n                                            onChange={handleChange}\r\n                                            error={error.alasan_tidak_kb_lainnya ? true : false}\r\n                                            helperText={error.alasan_tidak_kb_lainnya}\r\n                                            inputProps={{\r\n                                                className: classes.inputMini\r\n                                            }}\r\n\r\n                                        />} */}\r\n                                </div>\r\n                            </RadioGroup>\r\n\r\n                            <FormHelperText>{error.alasan_tidak_kb}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm06;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport useStyles from './styles';\r\n\r\n\r\nfunction SubForm07({ id, setValue, saveValue, value, kb, handleNextSub, navigationMode, handleBackSub, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    const [useContrasep, setUseContrasep] = useState(false);\r\n    useEffect(() => {\r\n        setError({})\r\n        \r\n        // if (kb[\"0104\"].menggunakan_kontrasepsi === \"1\" || kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\" || (kb[\"0103\"].sedang_hamil === \"1\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"2\") ) {\r\n        \r\n        //     setUseContrasep(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub()\r\n        //     }\r\n        // }\r\n\r\n        /* cek kondisi untuk semua form */\r\n        if(kb[\"0103\"].sedang_hamil===\"2\" && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"1\"){\r\n            setUseContrasep(true);\r\n        }else{\r\n            if(kb[\"0103\"].sedang_hamil===\"2\"  && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"2\"){\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            \r\n\r\n            }else{\r\n                setUseContrasep(true);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    if (!useContrasep) {\r\n        return null\r\n    }\r\n\r\n\r\n    // const [useContrasep, setUseContrasep] = useState(false);\r\n    // useEffect(() => {\r\n    //     setError({})\r\n\r\n        // if (kb[\"0104\"].menggunakan_kontrasepsi === \"1\" || kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\") {\r\n        //     setUseContrasep(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub()\r\n        //     }\r\n        // }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // }, [])\r\n\r\n    // if (!useContrasep) {\r\n    //     return null\r\n    // }\r\n\r\n    const pertanyaan = \"Jenis alat/obat/cara KB (Kontrasepsi) yang dipakai saat ini atau terakhir dipakai\";\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.jenis_kontrasepsi) {\r\n            newError.jenis_kontrasepsi = \"Wajib diisi\";\r\n        }\r\n\r\n\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.jenis_kontrasepsi\r\n\r\n            // }\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 7,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.jenis_kontrasepsi,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: 0,\r\n                        Lainnya: \"\"\r\n                    },\r\n\r\n                ]\r\n\r\n            }\r\n\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n\r\n\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>07</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} >\r\n                        <FormControl error={error.jenis_kontrasepsi ? true : false} component=\"fieldset\" fullWidth>\r\n                            <RadioGroup value={value.jenis_kontrasepsi || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jenis_kontrasepsi\" name=\"jenis_kontrasepsi\"\r\n                                className={classes.radioGroup}\r\n                            >\r\n                                <div className={classes.radioSection}>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"MOW/Steril Wanita\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"MOP/Steril Pria\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"3\"\r\n                                        label=\"IUD/Spiral/AKDR\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"4\"\r\n                                        label=\"Implant/Susuk\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"5\"\r\n                                        label=\"Suntik\" />\r\n                                </div>\r\n                                <div className={classes.radioSection}>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"6\"\r\n                                        label=\"Pil\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"7\"\r\n                                        label=\"Kondom\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"8\"\r\n                                        label=\"MAL\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"9\"\r\n                                        label=\"Tradisional\" />\r\n                                </div>\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jenis_kontrasepsi}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm07;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport useStyles from './styles';\r\n\r\n\r\nfunction SubForm08({ id, setValue, saveValue, value, kb, handleNextSub, navigationMode, handleBackSub, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n    const [useModernContrasep, setUseModernContrasep] = useState(false);\r\n    useEffect(() => {\r\n        setError({})\r\n\r\n        // if ((kb[\"0107\"].jenis_kontrasepsi !== \"9\") || (kb[\"0104\"].menggunakan_kontrasepsi === \"1\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\")) {\r\n        // // if (kb[\"0103\"].sedang_hamil === \"1\"  && kb[\"0104\"].menggunakan_kontrasepsi === \"1\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\"  ) {\r\n        //     setUseModernContrasep(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub()\r\n        //     }\r\n        // }\r\n\r\n         /* cek kondisi untuk semua form */\r\n         if(kb[\"0103\"].sedang_hamil===\"2\" && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"1\"){\r\n            if (kb[\"0107\"].jenis_kontrasepsi === \"9\"){\r\n                // skip\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            }else{\r\n                // jalan\r\n                setUseModernContrasep(true);\r\n            }\r\n            \r\n        }else{\r\n            if(kb[\"0103\"].sedang_hamil===\"2\"  && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"2\"){\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            \r\n\r\n            }else{\r\n                if (kb[\"0107\"].jenis_kontrasepsi === \"9\"){\r\n                    // skip\r\n                    if (navigationMode === 'back') {\r\n                        handleBackSub();\r\n                    } else {\r\n                        handleNextSub()\r\n                    }\r\n                }else{\r\n                    // jalan\r\n                    setUseModernContrasep(true);\r\n                }\r\n    \r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    if (!useModernContrasep) {\r\n        return null\r\n    }\r\n\r\n    const pertanyaan = \"Sumber mendapatkan pelayanan alat/obat/cara KB terakhir :\";\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.tempat_pelayanan) {\r\n            newError.tempat_pelayanan = \"Wajib diisi\";\r\n        }\r\n\r\n        if (value.tempat_pelayanan === \"10\") {\r\n            if (!value.tempat_pelayanan_lainnya) {\r\n                newError.tempat_pelayanan_lainnya = \"Lainnya wajib diisi\";\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.tempat_pelayanan,\r\n            //     jawaban_2: value.tempat_pelayanan_lainnya\r\n\r\n            // }\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 8,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: value.tempat_pelayanan,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: 0,\r\n                        Lainnya: value.tempat_pelayanan_lainnya ? value.tempat_pelayanan_lainnya : \"\"\r\n                    },\r\n\r\n                ]\r\n\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>08</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <FormControl error={error.tempat_pelayanan ? true : false} component=\"fieldset\" fullWidth>\r\n                            <RadioGroup value={value.tempat_pelayanan || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"tempat_pelayanan\" name=\"tempat_pelayanan\"\r\n                                className={classes.radioGroup}\r\n                            >\r\n                                <div className={classes.radioSection}>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"RS Pemerintah/TNI/Polri\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"RS Swasta\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"3\"\r\n                                        label=\"Puskesmas/Klinik TNI/Polri\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"4\"\r\n                                        label=\"Klinik Swasta\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"5\"\r\n                                        label=\"Praktek Dokter\" />\r\n                                </div>\r\n                                <div className={classes.radioSection}>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"6\"\r\n                                        label=\"Pustu/Pusling/Bidan Desa\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"7\"\r\n                                        label=\"Praktek Mandiri Bidan\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"8\"\r\n                                        label=\"Mobil Pelayanan KB\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"9\"\r\n                                        label=\"Toko Obat/Apotik\" />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"10\"\r\n                                        label=\"Lainnya\" />\r\n                                    {value.tempat_pelayanan === \"10\" &&\r\n\r\n                                        <TextField\r\n                                            fullWidth\r\n\r\n                                            placeholder=\"Tuliskan\"\r\n                                            variant=\"outlined\"\r\n                                            id=\"tempat_pelayanan_lainnya\"\r\n                                            name=\"tempat_pelayanan_lainnya\"\r\n                                            value={value.tempat_pelayanan_lainnya || ''}\r\n                                            onChange={handleChange}\r\n                                            error={error.tempat_pelayanan_lainnya ? true : false}\r\n                                            helperText={error.tempat_pelayanan_lainnya}\r\n                                            inputProps={{\r\n                                                className: classes.inputMini\r\n                                            }}\r\n\r\n                                        />}\r\n                                </div>\r\n                            </RadioGroup>\r\n\r\n                            <FormHelperText>{error.tempat_pelayanan}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm08;\r\n//","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n// validator\r\nimport isNumeric from 'validator/lib/isNumeric';\r\nimport useStyles from './styles';\r\n\r\nfunction SubForm01({ id, setValue, saveValue, value, kb, handleNextSub, navigationMode, handleBackSub, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n    const [useModernContrasep, setUseModernContrasep] = useState(false);\r\n    useEffect(() => {\r\n        setError({})\r\n\r\n        // if ((kb[\"0107\"].jenis_kontrasepsi !== \"9\") || (kb[\"0104\"].menggunakan_kontrasepsi === \"1\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\")) {\r\n        // // if (kb[\"0103\"].sedang_hamil === \"1\"  && kb[\"0104\"].menggunakan_kontrasepsi === \"1\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi === \"1\"  ) {\r\n        //     setUseModernContrasep(true);\r\n        // } else {\r\n        //     if (navigationMode === 'back') {\r\n        //         handleBackSub();\r\n        //     } else {\r\n        //         handleNextSub()\r\n        //     }\r\n        // }\r\n\r\n        /* cek kondisi untuk semua form */\r\n        if(kb[\"0103\"].sedang_hamil===\"2\" && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"1\"){\r\n            if (kb[\"0107\"].jenis_kontrasepsi === \"9\"){\r\n                // skip\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            }else{\r\n                // jalan\r\n                setUseModernContrasep(true);\r\n            }\r\n            \r\n        }else{\r\n            if(kb[\"0103\"].sedang_hamil===\"2\"  && kb[\"0104\"].menggunakan_kontrasepsi===\"2\" && kb[\"0105\"].pernah_menggunakan_kontrasepsi ===\"2\"){\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            \r\n\r\n            }else{\r\n                if (kb[\"0107\"].jenis_kontrasepsi === \"9\"){\r\n                    // skip\r\n                    if (navigationMode === 'back') {\r\n                        handleBackSub();\r\n                    } else {\r\n                        handleNextSub()\r\n                    }\r\n                }else{\r\n                    // jalan\r\n                    setUseModernContrasep(true);\r\n                }\r\n                \r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    if (!useModernContrasep) {\r\n        return null\r\n    }\r\n\r\n    const pertanyaan = \"Pada saat pertama kali datang ke tempat pelayanan KB untuk mendapatkan alat/obat/cara Kontrasepsi terakhir, apakah Ibu atau Suami mendapatkan informasi tentang:\";\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.info_jenis_kb) {\r\n            newError.info_jenis_kb = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.info_efek_samping_kb) {\r\n            newError.info_efek_samping_kb = \"Wajid diisi\";\r\n        }\r\n\r\n        if (!value.info_jika_mengalami_efek) {\r\n            newError.info_jika_mengalami_efek = \"Wajib diisi\";\r\n        }\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                _id: `${no_kk}${id}`,\r\n                Pertanyaan: pertanyaan,\r\n                Jawaban_H1: 0,\r\n                Jawaban_H2: 0,\r\n                Jawaban_HDate1: \"\",\r\n                Jawaban_HDate2: \"\",\r\n                No_Pertanyaan: 9,\r\n                No_KK: no_kk,\r\n                Periode_Sensus: \"2020\",\r\n                answer: [\r\n                    {\r\n                        _id: `${no_kk}${id}01`,\r\n                        No_Jawaban: 1,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: value.info_jenis_kb,\r\n                        Lainnya: \"\"\r\n                    },\r\n                    {\r\n                        _id: `${no_kk}${id}02`,\r\n                        No_Jawaban: 2,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: value.info_efek_samping_kb,\r\n                        Lainnya: \"\"\r\n                    },\r\n                    {\r\n                        _id: `${no_kk}${id}03`,\r\n                        No_Jawaban: 3,\r\n                        Jawaban_D1: 0,\r\n                        Jawaban_D2: 0,\r\n                        Jawab_D3: 0,\r\n                        Jawab_D4: 0,\r\n                        pilihankb: value.info_jika_mengalami_efek,\r\n                        Lainnya: \"\"\r\n                    }\r\n                ]\r\n\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>09</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <Typography>Jenis-jenis alat/obat/cara KB Kontrasepsi?</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <FormControl error={error.info_jenis_kb ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.info_jenis_kb || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"info_jenis_kb\" name=\"info_jenis_kb\" row>\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"1\"\r\n                                    label=\"Ya\"\r\n                                    labelPlacement=\"end\"\r\n                                />\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"2\"\r\n                                    label=\"Tidak\"\r\n                                    labelPlacement=\"end\"\r\n                                />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.info_jenis_kb}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <Typography>Efek samping alat/obat/cara KB Kontrasepsi yang dipakai?</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <FormControl error={error.info_efek_samping_kb ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.info_efek_samping_kb || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"info_efek_samping_kb\" name=\"info_efek_samping_kb\" row>\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"1\"\r\n                                    label=\"Ya\"\r\n                                    labelPlacement=\"end\"\r\n                                />\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"2\"\r\n                                    label=\"Tidak\"\r\n                                    labelPlacement=\"end\"\r\n                                />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.info_efek_samping_kb}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>Apa yang harus dilakukan apabila mengalami efek samping alat/obat/cara KB Kontrasepsi yang dipakai?</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <FormControl error={error.info_jika_mengalami_efek ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.info_jika_mengalami_efek || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"info_jika_mengalami_efek\" name=\"info_jika_mengalami_efek\" row>\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"1\"\r\n                                    label=\"Ya\"\r\n                                    labelPlacement=\"end\"\r\n                                />\r\n                                <FormControlLabel control={<Radio />}\r\n                                    value=\"2\"\r\n                                    label=\"Tidak\"\r\n                                    labelPlacement=\"end\"\r\n                                />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.info_jika_mengalami_efek}</FormHelperText>\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubForm01;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    },\r\n    slideContent: {\r\n        minHeight: 250\r\n    }\r\n}))\r\n\r\n\r\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    },\r\n\r\n\r\n    card: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        minWidth: 0,\r\n        wordWrap: 'break-word',\r\n        backgroundColor: 'rgba(0,0,0,.03)',\r\n        backgroundClip: 'border-box',\r\n        border: \"1px solid rgba(255,255,255,.125)\",\r\n        borderRadius: '.25rem'\r\n    },\r\n    cardHeader: {\r\n        padding: '12px 10px 5px 20px',\r\n        marginBottom: 0,\r\n        backgroundColor: 'rgba(0,0,0,.01)',\r\n        borderBottom: '1px solid rgba(0,0,0,.125)',\r\n        \"&:first-child\": {\r\n            borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\r\n        }\r\n    },\r\n\r\n    cardBody: {\r\n        flex: '1 1 auto',\r\n        padding: '.7rem 1.0rem',\r\n        backgroundColor: 'rgba(255,255,255,.2)'\r\n    },\r\n\r\n    badge: {\r\n        fontSize: '100%',\r\n        color: '#212529',\r\n        backgroundColor: '#ffc107',\r\n        paddingRight: '.6em',\r\n        paddingLeft: '.6em',\r\n        borderRadius: '10rem',\r\n        display: 'inline-block',\r\n        padding: '.25em .4em',\r\n\r\n        fontWeight: 700,\r\n        lineHeight: 1,\r\n        textAlign: 'center',\r\n        whiteSpace: 'nowrap',\r\n        verticalAlign: 'baseline',\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    inputMini: {\r\n        padding: \"10.5px 14px\"\r\n    },\r\n    inputAdornmentNoWrap: {\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    radioGroup: {\r\n        display: 'flex',\r\n        flexDirection: 'row !important'\r\n    },\r\n    radioSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexWrap: 'wrap',\r\n        flex: 1\r\n    }\r\n\r\n}))\r\n\r\n\r\nexport default useStyles;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport useStyles from './styles';\r\n\r\n\r\nimport validation from '../validation';\r\n\r\n\r\nfunction SubFormRadio({ id, setValue, saveValue, value, form, keluarga, handleBackSub, navigationMode, isSingle, setIsSingle, subformIndex}) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    const [berlaku, setBerlaku] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        //console.log('validation called');\r\n        if (form.dependencies.length <= 0) {\r\n            setBerlaku(true)\r\n        } else {\r\n            const valuesKel = Object.values(keluarga);\r\n            const cekberlaku = form.dependencies.some(dep => {\r\n                return validation[dep](valuesKel)\r\n            });\r\n\r\n            if (!cekberlaku) {\r\n                setValue({ target: { name: 'jawaban', value: '3' } })\r\n            }\r\n            setBerlaku(cekberlaku)\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id, form])\r\n\r\n\r\n    const { pertanyaan } = form;\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\") {\r\n            if (parseInt(e.target.value) < 0)\r\n                return false;\r\n\r\n            // if (e.target.name === \"kondisi\" && ![0, 1].includes(parseInt(e.target.value))) {\r\n            //     return false;\r\n            // }\r\n        }\r\n\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.jawaban) {\r\n            newError.jawaban = \"Wajib diisi\";\r\n        }\r\n\r\n        if (form.lain) {\r\n            if (parseInt(value.jawaban) === form.options.length && !value.jawaban_lainnya) {\r\n\r\n                newError.jawaban_lainnya = \"Wajib diisi\"\r\n            }\r\n        }\r\n\r\n        if (form.kondisi) {\r\n            if (typeof value.kondisi === \"undefined\") {\r\n                newError.kondisi = \"Kondisi wajib diisi\";\r\n            } else if (!['0', '1', 0, 1].includes(value.kondisi)) {\r\n                newError.kondisi = \"Kondisi harus diisi angka 0 atau 1\"\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.jawaban,\r\n            //     jawaban_2: value.jawaban_lainnya\r\n\r\n            // }\r\n\r\n            let normalizeValue = {\r\n                Pertanyaan: pertanyaan,\r\n                Jawab_Pilih: value.jawaban,\r\n                Jawaban_H1: value.kondisi || 0,\r\n                Jawaban_H2: 0,\r\n                No_Pertanyaan: parseInt(form.no),\r\n                Lainnya: value.jawaban_lainnya || ''\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    //console.log('here')\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>{form.no}</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} >\r\n                        <FormControl error={error.jawaban ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawaban || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawaban\" name=\"jawaban\">\r\n                                {form.options.map((option, index) => {\r\n                                    let disabled = false;\r\n\r\n                                    if (option === 'Tidak Berlaku' && berlaku) {\r\n                                        disabled = true;\r\n                                    } else if (option !== 'Tidak Berlaku' && !berlaku) {\r\n                                        disabled = true;\r\n                                    }\r\n\r\n                                    return <FormControlLabel\r\n                                        disabled={disabled}\r\n                                        key={index}\r\n                                        control={<Radio />}\r\n                                        value={`${index + 1}`}\r\n                                        label={option} />\r\n                                })}\r\n\r\n                                {/* {(form.lain && parseInt(value.jawaban) === form.options.length) &&\r\n\r\n                                    <TextField\r\n                                        fullWidth\r\n\r\n                                        placeholder=\"Tuliskan\"\r\n                                        variant=\"outlined\"\r\n                                        id=\"jawaban_lainnya\"\r\n                                        name=\"jawaban_lainnya\"\r\n                                        value={value.jawaban_lainnya || ''}\r\n                                        onChange={handleChange}\r\n                                        error={error.jawaban_lainnya ? true : false}\r\n                                        helperText={error.jawaban_lainnya}\r\n                                        inputProps={{\r\n                                            className: classes.inputMini\r\n                                        }}\r\n\r\n                                    />\r\n                                } */}\r\n\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawaban}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    {/* {(value.jawaban && form.kondisi) &&\r\n                        <>\r\n                            <Grid item xs={12}>\r\n                                <Typography>Tuliskan pada kotak, angka 0 Jika Kondisi Tidak Baik atau angka 1 Jika Kondisi Baik</Typography>\r\n                            </Grid>\r\n                            <Grid item xs={6} md={3}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    id=\"kondisi\"\r\n                                    name=\"kondisi\"\r\n                                    value={value.kondisi || ''}\r\n                                    onChange={handleChange}\r\n\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        className: classes.inputMini,\r\n                                        min: 0,\r\n                                        max: 1\r\n                                    }}\r\n                                    error={error.kondisi ? true : false}\r\n                                    helperText={error.kondisi}\r\n\r\n                                />\r\n                            </Grid>\r\n                        </>\r\n                    } */}\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubFormRadio;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n// validator\r\nimport isNumeric from 'validator/lib/isNumeric';\r\nimport useStyles from './styles';\r\n\r\nfunction SubFormNumber({ id, setValue, saveValue, value, form }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    const { pertanyaan } = form;\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\" && parseInt(e.target.value) < 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.jawaban) {\r\n            newError.jawaban = \"Wajib diisi\";\r\n        } else if (!isNumeric(value.jawaban)) {\r\n            newError.jawaban = \"Jawaban tidak valid\";\r\n        }\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                Pertanyaan: pertanyaan,\r\n                Jawab_Pilih: 0,\r\n                Jawaban_H1: parseInt(value.jawaban),\r\n                Jawaban_H2: 0,\r\n                No_Pertanyaan: parseInt(form.no),\r\n                Lainnya: value.jawaban_lainnya ? value.jawaban_lainnya : ''\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>{form.no}</span>{form.pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} sm={4} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"jawaban\"\r\n                            name=\"jawaban\"\r\n                            value={value.jawaban || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"end\">{form.unit}</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: 0\r\n                            }}\r\n                            error={error.jawaban ? true : false}\r\n                            helperText={error.jawaban}\r\n\r\n                        />\r\n                    </Grid>\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubFormNumber;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n// validator\r\nimport isNumeric from 'validator/lib/isNumeric';\r\nimport useStyles from './styles';\r\nimport { PeopleInHome } from '../validation';\r\n\r\nfunction SubFormNumber({ id, setValue, saveValue, value, form, wilayah, keluarga }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n    //const [totalKeluarga,setTotalKeluarga] = useState(0)\r\n\r\n    // useEffect(() => {\r\n        \r\n    //     Object.entries(keluarga).forEach(([key, value]) => {\r\n    //         let keberadaan = keluarga[key].keberadaan\r\n    //         if(keberadaan === \"1\"){\r\n    //             setTotalKeluarga((state) => state+1)\r\n    //         }\r\n        \r\n    //     });\r\n    //     setError({})\r\n    // }, [])\r\n    //\r\n    \r\n    const jumlahKeluarga = wilayah.jumlah_keluarga;\r\n\r\n    const { pertanyaan } = form;\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\" && parseInt(e.target.value) < 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.jawaban) {\r\n            newError.jawaban = \"Wajib diisi\";\r\n        } else if (!isNumeric(value.jawaban)) {\r\n            newError.jawaban = \"Jawaban tidak valid\";\r\n        }\r\n        if(value.jawaban<jumlahKeluarga){\r\n            newError.jawaban = \"Jawaban kurang dari jumlah anggota keluarga\";\r\n        }\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                Pertanyaan: pertanyaan,\r\n                Jawab_Pilih: 0,\r\n                Jawaban_H1: parseInt(value.jawaban),\r\n                Jawaban_H2: 0,\r\n                No_Pertanyaan: parseInt(form.no),\r\n                Lainnya: value.jawaban_lainnya ? value.jawaban_lainnya : ''\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    \r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>{form.no}</span>{form.pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} sm={4} md={3}>\r\n                        <TextField\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            id=\"jawaban\"\r\n                            name=\"jawaban\"\r\n                            value={value.jawaban || ''}\r\n                            onChange={handleChange}\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment\r\n                                    className={classes.inputAdornmentNoWrap}\r\n                                    position=\"end\">{form.unit}</InputAdornment>,\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{\r\n                                className: classes.inputMini,\r\n                                min: jumlahKeluarga\r\n                            }}\r\n                            error={error.jawaban ? true : false}\r\n                            helperText={error.jawaban}\r\n\r\n                        />\r\n                    </Grid>\r\n\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubFormNumber;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nimport useStyles from './styles';\r\n\r\nimport chunk from 'lodash/chunk';\r\n\r\nfunction SubFormCheckbox({ id, setValue, saveValue, value, form, keluarga, pk, navigationMode, handleNextSub, handleBackSub }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        //console.log('validation called');\r\n        if (form.show_if.length <= 0) {\r\n            setShow(true);\r\n        } else {\r\n\r\n            const cekShow = form.show_if.some(show_if => {\r\n                return pk[show_if.no].jawaban === show_if.value;\r\n            });\r\n\r\n\r\n            setShow(cekShow);\r\n            if (!cekShow) {\r\n                if (navigationMode === 'back') {\r\n                    handleBackSub();\r\n                } else {\r\n                    handleNextSub()\r\n                }\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id, form])\r\n\r\n    if (!show) {\r\n        return null;\r\n    }\r\n\r\n    const { pertanyaan } = form;\r\n    const handleChangeCheckbox = option_no => (e) => {\r\n        const selected = value.jawaban || []\r\n        const selectedIndex = selected.indexOf(option_no);\r\n        let newSelected = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, option_no);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1),\r\n            );\r\n        }\r\n\r\n        setValue({ target: { name: \"jawaban\", value: newSelected } })\r\n\r\n        setError({\r\n            ...error,\r\n            jawaban: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const isChecked = option_no => {\r\n        const selected = value.jawaban || [];\r\n        return selected.indexOf(option_no) !== -1;\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        if (!value.jawaban) {\r\n            newError.jawaban = \"Wajib diisi\";\r\n        } else if (value.jawaban.length <= 0) {\r\n            newError.jawaban = \"Wajib diisi\"\r\n        }\r\n\r\n        if (form.lain) {\r\n            if (isChecked(form.options.length) && !value.jawaban_lainnya) {\r\n\r\n                newError.jawaban_lainnya = \"Wajib diisi\"\r\n            }\r\n        }\r\n\r\n        if (form.kondisi) {\r\n            if (typeof value.kondisi === \"undefined\") {\r\n                newError.kondisi = \"Kondisi wajib diisi\";\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        return newError;\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            // const normalizeValue = {\r\n            //     pertanyaan,\r\n            //     jawaban_1: value.jawaban,\r\n            //     jawaban_2: value.jawaban_lainnya\r\n\r\n            // }\r\n\r\n            let normalizeValue = {\r\n                Pertanyaan: pertanyaan,\r\n                Jawab_Pilih: value.jawaban,\r\n                Jawaban_H1: value.kondisi || 0,\r\n                Jawaban_H2: 0,\r\n                No_Pertanyaan: parseInt(form.no),\r\n                Lainnya: value.jawaban_lainnya || ''\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    //console.log('here')\r\n    const chunk_options_keys = chunk(Object.keys(form.options), form.options_chunk);\r\n\r\n\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>{form.no}</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12} >\r\n                        <FormControl error={error.jawaban ? true : false} component=\"fieldset\">\r\n                            <FormGroup className={classes.radioGroup}>\r\n                                {\r\n                                    chunk_options_keys.map((keys_group, index) => {\r\n\r\n                                        return (<div key={index} className={classes.radioSection}>\r\n                                            {\r\n                                                keys_group.map(key => {\r\n                                                    const intKey = parseInt(key);\r\n                                                    return <FormControlLabel\r\n                                                        key={key}\r\n                                                        control={<Checkbox checked={isChecked(intKey + 1)} onChange={handleChangeCheckbox(intKey + 1)} value={intKey + 1} />}\r\n\r\n                                                        label={form.options[key]} />\r\n                                                })\r\n                                            }\r\n                                            {\r\n                                                (index === (chunk_options_keys.length - 1) && form.lain && value.jawaban && value.jawaban.includes(form.options.length)) &&\r\n                                                <TextField\r\n                                                    fullWidth\r\n\r\n                                                    placeholder=\"Tuliskan\"\r\n                                                    variant=\"outlined\"\r\n                                                    id=\"jawaban_lainnya\"\r\n                                                    name=\"jawaban_lainnya\"\r\n                                                    value={value.jawaban_lainnya || ''}\r\n                                                    onChange={handleChange}\r\n                                                    error={error.jawaban_lainnya ? true : false}\r\n                                                    helperText={error.jawaban_lainnya}\r\n                                                    inputProps={{\r\n                                                        className: classes.inputMini\r\n                                                    }}\r\n\r\n                                                />\r\n\r\n                                            }\r\n                                        </div>)\r\n                                    })\r\n                                }\r\n                            </FormGroup>\r\n                            <FormHelperText>{error.jawaban}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubFormCheckbox;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport useStyles from './styles';\r\n\r\n\r\nimport validation from '../validation';\r\n\r\n\r\nfunction SubFormRadio({ id, setValue, saveValue, value, form, keluarga, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    const [berlaku, setBerlaku] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        //console.log('validation called');\r\n        if (form.dependencies.length <= 0) {\r\n            setBerlaku(true)\r\n        } else {\r\n            const valuesKel = Object.values(keluarga);\r\n            const cekberlaku = form.dependencies.some(dep => {\r\n                return validation[dep](valuesKel)\r\n            });\r\n\r\n            if (!cekberlaku) {\r\n                setValue({ target: { name: 'jawaban', value: '3' } })\r\n            }\r\n            setBerlaku(cekberlaku)\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id, form])\r\n\r\n\r\n    const { pertanyaan, pertanyaanA, pertanyaanB, pertanyaanC, pertanyaanD } = form;\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\") {\r\n            if (parseInt(e.target.value) < 0)\r\n                return false;\r\n\r\n            // if (e.target.name === \"kondisi\" && ![0, 1].includes(parseInt(e.target.value))) {\r\n            //     return false;\r\n            // }\r\n        }\r\n\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        // if (!value.jawaban) {\r\n        //     newError.jawaban = \"Wajib diisi\";\r\n        // }\r\n\r\n        if (!value.jawabanA) {\r\n            newError.jawabanA = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.jawabanB) {\r\n            newError.jawabanB = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.jawabanC) {\r\n            newError.jawabanC = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.jawabanD) {\r\n            newError.jawabanD = \"Wajib diisi\";\r\n        }\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                Pertanyaan: pertanyaan,\r\n                Jawab_Pilih: 0,\r\n                Jawaban_H1: value.kondisi || 0,\r\n                Jawaban_H2: 0,\r\n                No_Pertanyaan: parseInt(form.no),\r\n                Lainnya: value.jawaban_lainnya || '',\r\n                answer: [\r\n                    {\r\n                        No_Jawaban: 1,\r\n                        pilihanpk: value.jawabanA\r\n                    },\r\n                    {\r\n                        No_Jawaban: 2,\r\n                        pilihanpk: value.jawabanB\r\n                    },\r\n                    {\r\n                        No_Jawaban: 3,\r\n                        pilihanpk: value.jawabanC\r\n                    },\r\n                    {\r\n                        No_Jawaban: 4,\r\n                        pilihanpk: value.jawabanD\r\n                    }\r\n                ]\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    //console.log('here')\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>{form.no}</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanA}</Typography>\r\n                        <FormControl error={error.jawabanA ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanA || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanA\" name=\"jawabanA\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanA}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanB}</Typography>\r\n                        <FormControl error={error.jawabanB ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanB || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanB\" name=\"jawabanB\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"3\"\r\n                                        label=\"Tidak Berlaku\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanB}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanC}</Typography>\r\n                        <FormControl error={error.jawabanC ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanC || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanC\" name=\"jawabanC\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanC}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanD}</Typography>\r\n                        <FormControl error={error.jawabanD ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanD || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanD\" name=\"jawabanD\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanD}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubFormRadio;","import React, { useState, useEffect } from 'react';\r\n\r\n// material ui\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport useStyles from './styles';\r\n\r\n\r\nimport validation from '../validation';\r\n\r\n\r\nfunction SubFormRadio({ id, setValue, saveValue, value, form, keluarga, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const [error, setError] = useState({});\r\n\r\n    const [berlaku, setBerlaku] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setError({})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        //console.log('validation called');\r\n        if (form.dependencies.length <= 0) {\r\n            setBerlaku(true)\r\n        } else {\r\n            const valuesKel = Object.values(keluarga);\r\n            const cekberlaku = form.dependencies.some(dep => {\r\n                return validation[dep](valuesKel)\r\n            });\r\n\r\n            if (!cekberlaku) {\r\n                setValue({ target: { name: 'jawaban', value: '3' } })\r\n            }\r\n            setBerlaku(cekberlaku)\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id, form])\r\n\r\n\r\n    const { pertanyaan, pertanyaanA, pertanyaanB, pertanyaanC, pertanyaanD } = form;\r\n    const handleChange = (e) => {\r\n\r\n        if (e.target.type === \"number\") {\r\n            if (parseInt(e.target.value) < 0)\r\n                return false;\r\n\r\n            // if (e.target.name === \"kondisi\" && ![0, 1].includes(parseInt(e.target.value))) {\r\n            //     return false;\r\n            // }\r\n        }\r\n\r\n\r\n        setValue(e)\r\n\r\n        setError({\r\n            ...error,\r\n            [e.target.name]: \"\"\r\n        })\r\n\r\n        // setSomethingChange(true)\r\n    }\r\n\r\n    const validate = () => {\r\n        let newError = {};\r\n\r\n        // if (!value.jawaban) {\r\n        //     newError.jawaban = \"Wajib diisi\";\r\n        // }\r\n\r\n        if (!value.jawabanA) {\r\n            newError.jawabanA = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.jawabanB) {\r\n            newError.jawabanB = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.jawabanC) {\r\n            newError.jawabanC = \"Wajib diisi\";\r\n        }\r\n\r\n        if (!value.jawabanD) {\r\n            newError.jawabanD = \"Wajib diisi\";\r\n        }\r\n\r\n        return newError;\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const findErrors = validate();\r\n\r\n        const errorValues = Object.values(findErrors);\r\n\r\n        if (errorValues.length > 0 && errorValues.some(err => err !== '')) {\r\n            setError(findErrors);\r\n        } else {\r\n\r\n            let normalizeValue = {\r\n                Pertanyaan: pertanyaan,\r\n                Jawab_Pilih: 0,\r\n                Jawaban_H1: value.kondisi || 0,\r\n                Jawaban_H2: 0,\r\n                No_Pertanyaan: parseInt(form.no),\r\n                Lainnya: value.jawaban_lainnya || '',\r\n                answer: [\r\n                    {\r\n                        No_Jawaban: 1,\r\n                        pilihanpk: value.jawabanA\r\n                    },\r\n                    {\r\n                        No_Jawaban: 2,\r\n                        pilihanpk: value.jawabanB\r\n                    },\r\n                    {\r\n                        No_Jawaban: 3,\r\n                        pilihanpk: value.jawabanC\r\n                    },\r\n                    {\r\n                        No_Jawaban: 4,\r\n                        pilihanpk: value.jawabanD\r\n                    }\r\n                ]\r\n            }\r\n            if (value._rev) {\r\n                normalizeValue._rev = value._rev\r\n            }\r\n            saveValue(normalizeValue)\r\n        }\r\n    }\r\n    //console.log('here')\r\n    return (<form id={id} onSubmit={handleSubmit} noValidate>\r\n        <div className={classes.card}>\r\n            <div className={classes.cardHeader}>\r\n                <Typography margin=\"normal\" paragraph>\r\n                    <span className={classes.badge}>{form.no}</span>{pertanyaan}</Typography>\r\n            </div>\r\n            <div className={classes.cardBody}>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanA}</Typography>\r\n                        <FormControl error={error.jawabanA ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanA || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanA\" name=\"jawabanA\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanA}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanB}</Typography>\r\n                        <FormControl error={error.jawabanB ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanB || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanB\" name=\"jawabanB\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanB}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanC}</Typography>\r\n                        <FormControl error={error.jawabanC ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanC || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanC\" name=\"jawabanC\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanC}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography>{pertanyaanD}</Typography>\r\n                        <FormControl error={error.jawabanD ? true : false} component=\"fieldset\">\r\n                            <RadioGroup value={value.jawabanD || ''}\r\n                                onChange={handleChange}\r\n                                aria-label=\"jawabanD\" name=\"jawabanD\" row>\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"1\"\r\n                                        label=\"Ya\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                                    <FormControlLabel control={<Radio />}\r\n                                        value=\"2\"\r\n                                        label=\"Tidak\"\r\n                                        labelPlacement=\"end\"\r\n                                    />\r\n                            </RadioGroup>\r\n                            <FormHelperText>{error.jawabanD}</FormHelperText>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default SubFormRadio;","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n//icons\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport useStyles from './styles';\r\n\r\nimport { usePouchDB } from '../../../../components/PouchDB/PouchDBProvider';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { Swipeable } from 'react-swipeable';\r\n\r\nimport subforms from './questions.json';\r\n\r\n// subforms\r\nimport SubFormRadio from './subforms/radio';\r\nimport SubFormNumber from './subforms/number';\r\nimport SubFormNumber26 from './subforms/number_26';\r\nimport SubformCheckbox from './subforms/checkbox';\r\nimport SubFormRadio2 from './subforms/subformradio';\r\nimport SubFormRadio18 from './subforms/subformradio_18';\r\n\r\n\r\nimport { countAge } from '../pk/validation';\r\n\r\nfunction PK({ wilayah, keluarga, kb, pk, mainSlide, setPK, handleNext, handleBack, setNormalizePK, mode, no_kk }) {\r\n\r\n    const classes = useStyles();\r\n    const nextRef = useRef(null);\r\n    const backRef = useRef(null);\r\n\r\n    const { user: { metadata } } = usePouchDB();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [subformIndex, setSubFormIndex] = useState(0)//set 0;\r\n    const [slide, setSlide] = useState({\r\n        direction: \"left\",\r\n        in: true\r\n    });\r\n    const [isSomethingChange, setSomethingChange] = useState(false);\r\n\r\n    const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n    const [navigationMode, setNavigationMode] = useState('next');\r\n\r\n    // By Me\r\n    const [isSingle, setIsSingle] = useState(wilayah.jumlah_keluarga == \"1\");\r\n    //\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        let initialPK = {};\r\n        const sfKeys = Object.keys(subforms);\r\n        for (let i = 0; i < sfKeys.length; i++) {\r\n            initialPK[`${sfKeys[i]}`] = {}\r\n        }\r\n        setPK(cpk => {\r\n            if (Object.keys(cpk).length > 0) {\r\n                return { ...initialPK, ...cpk };\r\n            }\r\n\r\n            return initialPK\r\n        });\r\n\r\n        setNormalizePK(cpk => {\r\n            if (Object.keys(cpk).length > 0) {\r\n                return { ...initialPK, ...cpk };\r\n            }\r\n\r\n            return initialPK\r\n        })\r\n\r\n        // By Me \r\n        // Kondisi ketika satu rumah hanya terdiri 1 orang\r\n        //if (isSingle) {\r\n        // let tgl_lahir = keluarga['01'].tgl_lahir\r\n        // if (countAge(tgl_lahir) >= 60) {\r\n        //     setSubFormIndex(16)\r\n        // }\r\n        //}\r\n        //\r\n\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n\r\n    const handleNextSub = () => {\r\n        if (subformIndex >= 31 || (subformIndex === 30 && pk[\"0231\"] && pk[\"0231\"].jawaban === \"2\")) {\r\n            return handleNext()\r\n        }\r\n        setNavigationMode('next')\r\n        setSlide({\r\n            direction: \"right\",\r\n            in: false\r\n        });\r\n        setTimeout(() => {\r\n\r\n            // if (isSingle) {\r\n            //     let tgl_lahir = keluarga['01'].tgl_lahir\r\n            //     if (countAge(tgl_lahir) >= 60) {\r\n            //         if (subformIndex === 16) {\r\n            //             setSubFormIndex(index => index + 2);\r\n            //         } else {\r\n            //             setSubFormIndex(index => index + 1);\r\n            //         }\r\n            //     } else {\r\n            //         setSubFormIndex(index => index + 1);\r\n            //     }\r\n            // } else {\r\n            //     setSubFormIndex(index => index + 1);\r\n            // }\r\n\r\n            // Sebatang Kara Mengisi PK No.1\r\n            if (isSingle) {\r\n                if (subformIndex === 1) {\r\n                    setSubFormIndex(index => index + 2);\r\n                } else {\r\n                    setSubFormIndex(index => index + 1);\r\n                }\r\n            } else {\r\n                setSubFormIndex(index => index + 1);\r\n            }\r\n            // Sebatang Kara Mengisi PK No.1\r\n\r\n            setSlide({\r\n                direction: \"left\",\r\n                in: true\r\n            })\r\n\r\n        }, 300)\r\n\r\n    }\r\n\r\n\r\n    const handleBackSub = () => {\r\n\r\n\r\n        if (subformIndex === 0) {\r\n            return handleBack()\r\n        }\r\n\r\n        // By Me\r\n        // if (isSingle) {\r\n        //     let tgl_lahir = keluarga['01'].tgl_lahir\r\n        //     if (countAge(tgl_lahir) >= 60) {\r\n        //         if (subformIndex === 16) {\r\n        //             return handleBack()\r\n        //         }\r\n        //     }\r\n        // }\r\n        //\r\n\r\n        setNavigationMode('back')\r\n        setSlide({\r\n            direction: \"left\",\r\n            in: false\r\n        });\r\n        setTimeout(() => {\r\n\r\n            // if (isSingle) {\r\n            //     let tgl_lahir = keluarga['01'].tgl_lahir\r\n            //     if (countAge(tgl_lahir) >= 60) {\r\n            //         if (subformIndex === 18) {\r\n            //             setSubFormIndex(index => index - 2);\r\n            //         } else {\r\n            //             setSubFormIndex(index => index - 1);\r\n            //         }\r\n            //     } else {\r\n            //         setSubFormIndex(index => index - 1);\r\n            //     }\r\n            // } else {\r\n            //     setSubFormIndex(index => index - 1);\r\n            // }\r\n\r\n            // Sebatang Kara Mengisi PK No.1\r\n            if (isSingle) {\r\n                if (subformIndex === 3) {\r\n                    setSubFormIndex(index => index - 2);\r\n                } else {\r\n                    setSubFormIndex(index => index - 1);\r\n                }\r\n            } else {\r\n                setSubFormIndex(index => index - 1);\r\n            }\r\n            // Sebatang Kara Mengisi PK No.1\r\n\r\n            setSlide({\r\n                direction: \"right\",\r\n                in: true\r\n            })\r\n\r\n        }, 300)\r\n    }\r\n\r\n\r\n    const no = Object.keys(subforms)[subformIndex];\r\n\r\n    const setValue = (e) => {\r\n        setPK({\r\n            ...pk,\r\n            [no]: {\r\n                ...pk[no],\r\n                [e.target.name]: e.target.value\r\n            }\r\n        })\r\n        setSomethingChange(true)\r\n    }\r\n\r\n    const saveValue = async (normalizeValue) => {\r\n        const id = `${wilayah.no_kk}${no}`;\r\n        if (!isSomethingChange) {\r\n            setNormalizePK(normalizePK => ({\r\n                ...normalizePK,\r\n                [no]: {\r\n                    ...normalizeValue,\r\n                    _id: id,\r\n                    No_KK: wilayah.no_kk,\r\n                    Periode_Sensus: \"2020\",\r\n                    user_name: metadata.name\r\n                }\r\n            }));\r\n            return handleNextSub();\r\n        }\r\n        //simpan ke db local\r\n        setSubmitting(true);\r\n\r\n        try {\r\n            // const existing = await dataPK.local.get(id)\r\n\r\n            // await dataPK.local.put({\r\n            //     _id: id,\r\n            //     _rev: existing._rev,\r\n            //     ...normalizeValue\r\n            // })\r\n\r\n            setNormalizePK(normalizePK => ({\r\n                ...normalizePK,\r\n                [no]: {\r\n                    ...normalizeValue,\r\n                    _id: id,\r\n                    No_KK: wilayah.no_kk,\r\n                    Periode_Sensus: \"2020\",\r\n                    user_name: metadata.name\r\n                }\r\n            }));\r\n\r\n            setSomethingChange(false);\r\n            setSubmitting(false);\r\n            handleNextSub()\r\n        } catch (e) {\r\n            setSubmitting(false);\r\n            if (e.name === 'not_found') {\r\n                try {\r\n                    // await dataPK.local.put({\r\n                    //     _id: id,\r\n                    //     type: 'anggota',\r\n                    //     ...normalizeValue\r\n                    // })\r\n\r\n                    setSomethingChange(false);\r\n                    handleNextSub()\r\n                } catch (e) {\r\n                    enqueueSnackbar(e.message, { variant: 'error' })\r\n                }\r\n            } else {\r\n                enqueueSnackbar(e.message, { variant: 'error' })\r\n            }\r\n\r\n        }\r\n    }\r\n    //console.log(subformIndex, no)\r\n\r\n    // subform aktif\r\n    const form = subforms[no];\r\n    const value = pk[no];\r\n\r\n    //console.log(form, value, pk)\r\n    return (<>\r\n        <Swipeable\r\n            trackMouse={true}\r\n            onSwipedRight={(e) => {\r\n\r\n                if (backRef) {\r\n                    backRef.current.click()\r\n                }\r\n            }}\r\n            onSwipedLeft={(e) => {\r\n                if (nextRef) {\r\n\r\n                    nextRef.current.click();\r\n                }\r\n            }}\r\n        >\r\n            <Grid container spacing={3}>\r\n\r\n                <Grid item xs={12} className={classes.textCenter}>\r\n\r\n                    <Typography variant=\"h5\" component=\"h1\">{mode === 'edit' ? `Edit Form Pembangunan Keluarga` : 'Form Pembangunan Keluarga'}</Typography>\r\n                    {/* {mode === 'edit' && <Typography>No KK: {no_kk}</Typography>} */}\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Divider />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Slide direction={slide.direction} in={slide.in}>\r\n                        <div className={classes.slideContent}>\r\n                            {value &&\r\n                                <>\r\n                                    {form.tipe === 'radio' &&\r\n                                        <SubFormRadio\r\n                                            id={no}\r\n                                            value={value}\r\n                                            setValue={setValue}\r\n                                            saveValue={saveValue}\r\n                                            kb={kb}\r\n                                            handleNextSub={handleNextSub}\r\n                                            handleBackSub={handleBackSub}\r\n                                            navigationMode={navigationMode}\r\n                                            subformIndex={subformIndex}\r\n                                            form={form}\r\n                                            keluarga={keluarga}\r\n                                            setIsSingle={setIsSingle}\r\n                                            isSingle={isSingle}\r\n                                            subformIndex={subformIndex}\r\n\r\n                                        />\r\n                                    }\r\n\r\n                                    {form.tipe === 'number' &&\r\n                                        <SubFormNumber\r\n                                            id={no}\r\n                                            value={value}\r\n                                            setValue={setValue}\r\n                                            saveValue={saveValue}\r\n                                            kb={kb}\r\n                                            handleNextSub={handleNextSub}\r\n                                            handleBackSub={handleBackSub}\r\n                                            navigationMode={navigationMode}\r\n                                            subformIndex={subformIndex}\r\n                                            form={form}\r\n                                            keluarga={keluarga}\r\n                                            wilayah={wilayah}\r\n                                        />\r\n                                    }\r\n\r\n                                    {form.tipe === 'number_26' &&\r\n                                        <SubFormNumber26\r\n                                            id={no}\r\n                                            value={value}\r\n                                            setValue={setValue}\r\n                                            saveValue={saveValue}\r\n                                            kb={kb}\r\n                                            handleNextSub={handleNextSub}\r\n                                            handleBackSub={handleBackSub}\r\n                                            navigationMode={navigationMode}\r\n                                            subformIndex={subformIndex}\r\n                                            form={form}\r\n                                            keluarga={keluarga}\r\n                                            wilayah={wilayah}\r\n                                        />\r\n                                    }\r\n\r\n                                    {form.tipe === 'checkbox' &&\r\n                                        <SubformCheckbox\r\n                                            id={no}\r\n                                            value={value}\r\n                                            setValue={setValue}\r\n                                            saveValue={saveValue}\r\n                                            kb={kb}\r\n                                            handleNextSub={handleNextSub}\r\n                                            handleBackSub={handleBackSub}\r\n                                            navigationMode={navigationMode}\r\n                                            subformIndex={subformIndex}\r\n                                            form={form}\r\n                                            keluarga={keluarga}\r\n                                            pk={pk}\r\n\r\n                                        />\r\n                                    }\r\n\r\n                                    {form.tipe === 'subformradio' &&\r\n                                        <SubFormRadio2\r\n                                            id={no}\r\n                                            value={value}\r\n                                            setValue={setValue}\r\n                                            saveValue={saveValue}\r\n                                            kb={kb}\r\n                                            handleNextSub={handleNextSub}\r\n                                            handleBackSub={handleBackSub}\r\n                                            navigationMode={navigationMode}\r\n                                            subformIndex={subformIndex}\r\n                                            form={form}\r\n                                            keluarga={keluarga}\r\n\r\n                                        />\r\n                                    }\r\n\r\n                                    {form.tipe === 'subformradio_18' &&\r\n                                        <SubFormRadio18\r\n                                            id={no}\r\n                                            value={value}\r\n                                            setValue={setValue}\r\n                                            saveValue={saveValue}\r\n                                            kb={kb}\r\n                                            handleNextSub={handleNextSub}\r\n                                            handleBackSub={handleBackSub}\r\n                                            navigationMode={navigationMode}\r\n                                            subformIndex={subformIndex}\r\n                                            form={form}\r\n                                            keluarga={keluarga}\r\n\r\n                                        />\r\n                                    }\r\n\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </Slide>\r\n\r\n                </Grid>\r\n                <Grid item xs>\r\n                    <Button\r\n                        ref={backRef}\r\n                        // disabled={!isSomethingChange || isSubmitting}\r\n                        onClick={handleBackSub}><ChevronLeft className={classes.iconLeft} /> Sebelumnya </Button>\r\n\r\n                </Grid>\r\n                <Grid item >\r\n                    {isSubmitting && <CircularProgress size={14} />}\r\n                    <Button\r\n                        ref={nextRef}\r\n                        form={no}\r\n                        disabled={isSubmitting}\r\n                        type=\"submit\">{(subformIndex >= 31 || (subformIndex === 30 && pk[\"0231\"] && pk[\"0231\"].jawaban === \"2\")) ? 'Selesai' : 'Selanjutnya'} <ChevronRight className={classes.iconRight} /></Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Swipeable>\r\n    </>);\r\n}\r\n\r\n\r\nexport default PK;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    },\r\n    iconRight: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    iconLeft: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n\r\n    form: {\r\n        paddingBottom: theme.spacing(8)\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n    btnWrap: {\r\n        // width: '100%',\r\n        position: 'relative',\r\n        margin: '25px 0 40px',\r\n    },\r\n    buttonProgress: {\r\n        color: theme.palette.secondary.main,\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n}))\r\n\r\n\r\nexport default useStyles;","export const jenis_kelamin = {\r\n    \"1\": \"Laki laki\",\r\n    \"2\": \"Perempuan\"\r\n}\r\n\r\n\r\n\r\nexport const sts_hubungan = {\r\n    \"1\": \"Kepala Keluarga\",\r\n    \"2\": \"Istri/Suami\",\r\n    \"3\": \"Anak\",\r\n    \"4\": \"Lainnya\"\r\n}\r\n\r\n// export const sts_hubanak_ibu = {\r\n//     \"1\": \"Ibu Kandung\",\r\n//     \"2\": \"Ibu Angkat\",\r\n//     \"3\": \"Ibu Tiri\",\r\n//     \"4\": \"Lainnya\"\r\n// }\r\n\r\nexport const sts_akta = {\r\n    \"1\": \"Ya\",\r\n    \"2\": \"Tidak\"\r\n}\r\n\r\n\r\nexport const sts_kawin = {\r\n    \"1\": \"Belum Kawin\",\r\n    \"2\": \"Kawin\",\r\n    \"3\": \"Cerai Hidup\",\r\n    \"4\": \"Cerai Mati\"\r\n}\r\n\r\n\r\n\r\nexport const jns_pendidikan = {\r\n    \"1\": \"Tidak/Belum Sekolah\",\r\n    \"2\": \"Tidak Tamat SD/Sederajat\",\r\n    \"3\": \"Masih SD/Sederajat\",\r\n    \"4\": \"Tamas SD/Sederajat\",\r\n    \"5\": \"Masih SLTP/Sederajat\",\r\n    \"6\": \"Tamat SLTP/Sederajat\",\r\n    \"7\": \"Masih SLTA/Sederajat\",\r\n    \"8\": \"Tamat SLTA/Sederajat\",\r\n    \"9\": \"Masih PT/Akademi\",\r\n    \"10\": \"Tamat PT/Akademi\"\r\n}\r\n\r\n\r\n\r\nexport const jns_asuransi = {\r\n    \"1\": \"BPJS-PBI/Jamkesmas/Jamkesda\",\r\n    \"2\": \"BPJS-Non PBI\",\r\n    \"3\": \"Swasta\",\r\n    \"4\": \"Tidak Memiliki\"\r\n}\r\n\r\n\r\nexport const id_agama = {\r\n    \"1\": \"Islam\",\r\n    \"2\": \"Kristen\",\r\n    \"3\": \"Katolik\",\r\n    \"4\": \"Hindu\",\r\n    \"5\": \"Budha\",\r\n    \"6\": \"Konghucu\",\r\n    \"7\": \"Penghayat Kepercayaan\",\r\n    \"8\": \"Lainnya\"\r\n}\r\n\r\nexport const id_pekerjaan = {\r\n    \"1\": \"Tidak/Belum Bekerja\",\r\n    \"2\": \"Petani\",\r\n    \"3\": \"Nelayan\",\r\n    \"4\": \"Pedagang\",\r\n    \"5\": \"Pejabat Negara\",\r\n    \"6\": \"PNS/TNI/POLRI\",\r\n    \"7\": \"Pegawai Swasta\",\r\n    \"8\": \"Wiraswasta\",\r\n    \"9\": \"Pensiunan\",\r\n    \"10\": \"Pekerja Lepas\"\r\n}\r\n\r\nexport const keberadaan = {\r\n    \"1\": \"Di Dalam Rumah\",\r\n    \"2\": \"Di Luar Rumah\",\r\n    \"3\": \"Di Luar Negeri\"\r\n}\r\n\r\n\r\nexport default {\r\n    jenis_kelamin,\r\n    sts_hubungan,\r\n    // sts_hubanak_ibu,\r\n    sts_akta,\r\n    sts_kawin,\r\n    jns_pendidikan,\r\n    jns_asuransi,\r\n    id_agama,\r\n    id_pekerjaan,\r\n    keberadaan\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\n\r\nimport options from './options';\r\n\r\nexport const renderDataKK = (metadata, wilayah) => {\r\n\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12} md={6}>\r\n                <Typography>Provinsi: {metadata.wil_provinsi.nama_provinsi}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n                <Typography>Kabupaten/Kota: {metadata.wil_kabupaten.nama_kabupaten}</Typography>\r\n\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n                <Typography>Kecamatan: {metadata.wil_kecamatan.nama_kecamatan}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n                <Typography>Desa/Kel: {metadata.wil_kelurahan.nama_kelurahan}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Divider />\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n                <Typography>RW/Dusun: {wilayah.id_rw_bkkbn}</Typography>\r\n\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n                <Typography>RT: {wilayah.id_rt_bkkbn}</Typography>\r\n\r\n\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n                <Typography>No. Rumah: {wilayah.no_rmh}</Typography>\r\n\r\n\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n                <Typography>No. Urut Keluarga: {wilayah.no_urutkel}</Typography>\r\n\r\n\r\n            </Grid>\r\n                <Grid item xs={12} md={4}>\r\n                    <Typography>No. Telepon/Hp: {wilayah.no_telepon}</Typography>\r\n\r\n                </Grid>\r\n            <Grid item xs={12} md={4}>\r\n                <Typography>Jumlah Anggota Keluarga: {wilayah.jumlah_keluarga}</Typography>\r\n\r\n            </Grid>\r\n            <Grid item xs={12} >\r\n                <Typography>Alamat : {wilayah.alamat}</Typography>\r\n\r\n            </Grid>\r\n\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport const renderDataNIK = item => {\r\n\r\n    return (<Grid container spacing={1}>\r\n        <Grid item xs={12}>\r\n            <Divider />\r\n        </Grid>\r\n        <Grid item xs={12} >\r\n            <Typography variant=\"subtitle1\" >Anggota Keluarga {item.no_urutnik}</Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Divider />\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <Typography> Nama: {item.nama_anggotakel} </Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <Typography> NIK: {item.nik} </Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n\r\n            <Typography> Jenis Kelamin: {options.jenis_kelamin[item.jenis_kelamin]} </Typography>\r\n\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4}>\r\n\r\n            <Typography> Tanggal Lahir: {item.tgl_lahir} </Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n            <Typography> Status Perkawinan: {options.sts_kawin[item.sts_kawin]} </Typography>\r\n\r\n\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n            <Typography> Usia Kawin Pertama: {item.usia_kawin} </Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n            <Typography> Memiliki Akta Lahir: {options.sts_akta[item.sts_akta]} </Typography>\r\n\r\n\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n\r\n            <Typography> Hubungan Dengan Kepala Keluarga: {options.sts_hubungan[item.sts_hubungan]} </Typography>\r\n\r\n\r\n\r\n        </Grid>\r\n        {/* <Grid item xs={12} md={4}>\r\n\r\n            <Typography> Hubungan Anak Dengan Ibu: {options.sts_hubanak_ibu[item.sts_hubanak_ibu]} </Typography>\r\n\r\n\r\n        </Grid> */}\r\n        <Grid item xs={12} md={4}>\r\n\r\n            <Typography> Kode Ibu Kandung: {item.kd_ibukandung} </Typography>\r\n\r\n\r\n        </Grid> \r\n        <Grid item xs={12} sm={6} md={4}>\r\n            <Typography> Agama: {options.id_agama[item.id_agama]} </Typography>\r\n\r\n\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n            <Typography> Pekerjaan: {options.id_pekerjaan[item.id_pekerjaan]} </Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n            <Typography> Pendidikan: {options.jns_pendidikan[item.jns_pendidikan]} </Typography>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n            <Typography> Kepesertaan JKN/Asurasnsi: {options.jns_asuransi[item.jns_asuransi]} </Typography>\r\n\r\n\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4}>\r\n            <Typography> Keberadaa anggota keluarga: {options.keberadaan[item.keberadaan]} </Typography>\r\n\r\n\r\n        </Grid>\r\n    </Grid>)\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport UserIcon from '@material-ui/icons/Person';\r\nimport useStyles from './styles/finish';\r\nimport { usePouchDB } from '../../../components/PouchDB/PouchDBProvider';\r\nimport { useSnackbar } from 'notistack';\r\nimport { countAge } from './pk/validation';\r\nimport lodashGet from 'lodash/get';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport { renderDataKK, renderDataNIK } from './preview';\r\n\r\n\r\nfunction Finish({ wilayah, keluarga, normalizePK, normalizeKB, resetForm, mode, no_kk }) {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { user: { metadata }, dataKK, dataPK, dataKB, dataBkkbn } = usePouchDB();\r\n    const [locationUser, setLocationUser] = useState([]);\r\n    const [expanded, setExpanded] = useState('panel1a');\r\n    const [isSubmitting, setSubmitting] = useState({\r\n        local: false,\r\n        remote: false\r\n    });\r\n    const [isSaved, setSaved] = useState({\r\n        local: false,\r\n        remote: false\r\n    })\r\n    const handleChange = panel => (event, isExpanded) => {\r\n        setExpanded(isExpanded ? panel : false);\r\n    };\r\n    const getLocationUser = () => {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            setLocationUser([{\r\n                'latitude': position.coords.latitude\r\n            }, {\r\n                'longitude': position.coords.longitude\r\n            }]);\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        getLocationUser()\r\n    })\r\n\r\n    const tanggal = new Date();\r\n    const timestamp = tanggal.getTime();\r\n\r\n    const insertNotif = (id) => {\r\n        let userInsert = metadata.name;\r\n        let userDataInsert = 7;\r\n\r\n        fetch('https://demo-bkkbn-notif.herokuapp.com/api/v1/pushnotification', {\r\n            method: 'POST',\r\n            headers: { 'Content-type': 'application/json' },\r\n            body: JSON.stringify({\r\n                _id: id,\r\n                username: userInsert,\r\n                statusData: userDataInsert,\r\n            })\r\n        })\r\n            .then(respone => {\r\n                respone.json()\r\n            })\r\n            .then(data => {\r\n            })\r\n            .catch(e => console.error(e))\r\n    }\r\n\r\n    const updateNotif = (id) => {\r\n        let userUpdate = metadata.name;\r\n        let userDataUpdate = 8;\r\n        fetch('https://demo-bkkbn-notif.herokuapp.com/api/v1/pushnotification', {\r\n            method: 'POST',\r\n            headers: { 'Content-type': 'application/json' },\r\n            body: JSON.stringify({\r\n                _id: id,\r\n                username: userUpdate,\r\n                statusData: userDataUpdate,\r\n            })\r\n        })\r\n            .then(respone => {\r\n                respone.json()\r\n            })\r\n            .then(data => {\r\n            })\r\n            .catch(e => console.error(e))\r\n    }\r\n\r\n    const saveTo = target => async (e) => {\r\n\r\n        // put data utama to KK\r\n        const dataKKUtama = {\r\n            // _id: wilayah.no_kk,\r\n            _id: `${Date.now().toString()}${metadata.name}`,\r\n\r\n            user_name: metadata.name,\r\n            id_prov: parseInt(metadata.wil_provinsi.id_provinsi),\r\n            id_prov_depdagri: parseInt(metadata.wil_provinsi.id_provinsi_depdagri),\r\n            id_kab: parseInt(metadata.wil_kabupaten.id_kabupaten),\r\n            id_kab_depdagri: parseInt(metadata.wil_kabupaten.id_kabupaten_depdagri),\r\n            id_kec: parseInt(metadata.wil_kecamatan.id_kecamatan),\r\n            id_kec_depdagri: parseInt(metadata.wil_kecamatan.id_kecamatan_depdagri),\r\n            id_kel: parseInt(metadata.wil_kelurahan.id_kelurahan),\r\n            id_kel_depdagri: parseInt(metadata.wil_kelurahan.id_kelurahan_depdagri),\r\n            ...wilayah,\r\n            id_rw: wilayah.id_rw,\r\n            id_rt: wilayah.id_rt,\r\n            id_rw_bkkbn: wilayah.id_rw_bkkbn,\r\n            id_rt_bkkbn: wilayah.id_rt_bkkbn,\r\n            location: { locationUser },\r\n        };\r\n        const data_nik = Object.keys(keluarga).map(_id => {\r\n\r\n            return {\r\n                ...keluarga[_id],\r\n                sts_hubungan: parseInt(keluarga[_id].sts_hubungan),\r\n                sts_kawin: parseInt(keluarga[_id].sts_kawin),\r\n                jns_pendidikan: parseInt(keluarga[_id].jns_pendidikan),\r\n                jns_asuransi: parseInt(keluarga[_id].jns_asuransi),\r\n                id_agama: parseInt(keluarga[_id].id_agama),\r\n                id_pekerjaan: parseInt(keluarga[_id].id_pekerjaan),\r\n                usia_kawin: parseInt(lodashGet(keluarga[_id], 'usia_kawin', 0)),\r\n                // sts_hubanak_ibu: parseInt(lodashGet(keluarga[_id], 'sts_hubanak_ibu', 0)),\r\n                kd_ibukandung: parseInt(lodashGet(keluarga[_id], 'kd_ibukandung', 0)),\r\n                umur: countAge(keluarga[_id].tgl_lahir),\r\n                keberadaan: parseInt(lodashGet(keluarga[_id], 'keberadaan', 0)),\r\n            }\r\n        })\r\n        //simpan ke db local\r\n        setSubmitting(curr => ({ ...curr, [target]: true }));\r\n        try {\r\n            // const dataKKAll = {\r\n            //     ...dataKKUtama,\r\n            //     periode_sensus: 2020,\r\n            //     status_sensus: \"\",\r\n            //     data_nik,\r\n            // }\r\n\r\n            // const dataKBAll = Object.values(normalizeKB);\r\n            // const dataPKAll = Object.values(normalizePK);\r\n\r\n            // await dataKK[target].put(dataKKAll);\r\n            // if (dataKBAll.length > 0) {\r\n            //     await dataKB[target].bulkDocs(dataKBAll);\r\n            // }\r\n\r\n            // if (dataPKAll.length > 0) {\r\n            //     await dataPK[target].bulkDocs(dataPKAll);\r\n            // }\r\n\r\n            const data_kb = Object.values(normalizeKB);\r\n            const data_pk = Object.values(normalizePK);\r\n\r\n            //05Des2019\r\n\r\n            const dataBkkbnAll = {\r\n                ...dataKKUtama,\r\n                periode_sensus: 2020,\r\n                status_sensus: \"\",\r\n                data_nik, data_kb, data_pk,\r\n\r\n            }\r\n\r\n            await dataBkkbn[target].put(dataBkkbnAll);\r\n\r\n            let message = mode === 'edit' ? `Data berhasil diperbarui` : `Data berhasil disimpan ke ${target} DB`\r\n            enqueueSnackbar(message, { variant: \"success\" })\r\n            // enqueueSnackbar(`Mereplikasi data ${target} ke remote DB`, { variant: \"info\" })\r\n            // await dataKK.local.replicate.to(dataKK.remote, {\r\n            //     query_params: { no_kk: wilayah.no_kk },\r\n            //     filter: function (doc, params) {\r\n\r\n            //         return doc.no_kk === params.query.no_kk\r\n            //     }\r\n            // })\r\n            // if (dataKBAll.length > 0) {\r\n\r\n            //     await dataKB.local.replicate.to(dataKB.remote, {\r\n            //         query_params: { no_kk: wilayah.no_kk },\r\n            //         filter: function (doc, params) {\r\n\r\n            //             return doc.No_KK === params.query.no_kk\r\n            //         }\r\n            //     })\r\n            // }\r\n            // if (dataPKAll.length > 0) {\r\n            //     await dataPK.local.replicate.to(dataPK.remote, {\r\n            //         query_params: { no_kk: wilayah.no_kk },\r\n            //         filter: function (doc, params) {\r\n\r\n            //             return doc.No_KK === params.query.no_kk\r\n            //         }\r\n            //     })\r\n            // }\r\n\r\n            // enqueueSnackbar(`Berhasil mereplikasi data ${target} ke remote DB`, { variant: \"success\" })\r\n\r\n            // PouchDB.replicate(dataKK.local, dataKK.remote,{});\r\n\r\n            const id = wilayah._id;\r\n\r\n            setSubmitting(curr => ({ ...curr, [target]: false }));\r\n            setSaved(curr => ({ ...curr, [target]: true }));\r\n            if (mode === 'edit') {\r\n                updateNotif(id);\r\n            } else {\r\n                insertNotif(id);\r\n            }\r\n\r\n\r\n        } catch (e) {\r\n\r\n            setSubmitting(curr => ({ ...curr, [target]: false }));\r\n            enqueueSnackbar(e.message, { variant: 'error' })\r\n            if (e.message.includes(\"The database connection is closing\")) {\r\n                window.location.href = \"/login\"\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return <Grid container spacing={2}>\r\n        <Grid item xs={12} className={classes.textCenter}>\r\n            <Typography variant=\"h5\" component=\"h1\">{mode === 'edit' ? `Preview Edit Data` : 'Preview Data'}</Typography>\r\n            {/* {mode === 'edit' && <Typography>No KK: {no_kk}</Typography>} */}\r\n\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Divider />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <ExpansionPanel expanded={expanded === 'panel1a'} onChange={handleChange('panel1a')}>\r\n                <ExpansionPanelSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <Typography className={classes.heading}>Data KK</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                    {renderDataKK(metadata, wilayah)}\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n            <ExpansionPanel expanded={expanded === 'panel1b'} onChange={handleChange('panel1b')}>\r\n                <ExpansionPanelSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel2a-content\"\r\n                    id=\"panel2a-header\"\r\n                >\r\n                    <Typography className={classes.heading}>Data Anggota Keluarga</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                    <Grid container spacing={2}>\r\n                        {Object.values(keluarga).map(kel => <Grid key={kel.no_urutnik} item xs={12}>\r\n                            {renderDataNIK(kel)}\r\n                        </Grid>)}\r\n\r\n                    </Grid>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n            <Divider />\r\n        </Grid>\r\n\r\n        <Grid item >\r\n\r\n            <div className={classes.btnWrap}>\r\n                <Button\r\n\r\n                    disabled={isSubmitting.local || isSaved.local}\r\n                    size=\"large\" variant=\"contained\" color=\"primary\" onClick={saveTo('local')}> <SaveIcon className={classes.iconLeft} /> {mode === 'edit' ? 'Perbarui' : 'Simpan'} Data</Button>\r\n                {isSubmitting.local && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n            </div>\r\n        </Grid>\r\n\r\n        <Grid item>\r\n\r\n            <div className={classes.btnWrap}>\r\n                <Button\r\n\r\n                    onClick={resetForm}\r\n                    disabled={isSubmitting.local || !isSaved.local}\r\n                    size=\"large\" variant=\"contained\"  ><UserIcon className={classes.iconLeft} />Isi Data Baru</Button>\r\n            </div>\r\n        </Grid>\r\n\r\n    </Grid>\r\n}\r\n\r\n\r\nexport default Finish;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    container: {\r\n        // marginTop: theme.spacing(8),\r\n        paddingTop: theme.spacing(2),\r\n        //  textAlign: 'center'\r\n        paddingLeft: theme.spacing(1),\r\n        paddingRight: theme.spacing(1)\r\n    },\r\n\r\n}))\r\n\r\nexport default useStyles;","import React, { useState, useEffect } from 'react';\r\n\r\n//forms component\r\nimport Wilayah from './wilayah';\r\nimport Keluarga from './keluarga';\r\nimport KB from './kb';\r\nimport PK from './pk';\r\nimport Finish from './finish';\r\n\r\n// material-ui components\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport useStyles from './styles/index';\r\n\r\nexport default function Form() {\r\n\r\n    const classes = useStyles();\r\n    const [forms, setForms] = useState([{ type: 'wilayah' }]);\r\n    const [formIndex, setFormIndex] = useState(0);\r\n    const [done, setDone] = useState(false);\r\n    const [slide, setSlide] = useState({\r\n        direction: \"left\",\r\n        in: true,\r\n        navigationMode: \"next\"\r\n    });\r\n\r\n    const [wilayah, setWilayah] = useState({\r\n\r\n    })\r\n\r\n    const [keluarga, setKeluarga] = useState({\r\n\r\n    })\r\n\r\n    const [kb, setKB] = useState({\r\n\r\n    })\r\n\r\n    const [normalizeKB, setNormalizeKB] = useState({});\r\n\r\n    const [pk, setPK] = useState({\r\n\r\n    })\r\n\r\n    const [normalizePK, setNormalizePK] = useState({});\r\n\r\n    useEffect(() => {\r\n        if ( wilayah.jumlah_keluarga) {\r\n            const jumlah_keluarga = parseInt(wilayah.jumlah_keluarga);\r\n\r\n            setKeluarga(keluarga => {\r\n                let newkeluarga = {}\r\n                for (let i = 1; i <= jumlah_keluarga; i++) {\r\n                    const id_anggota_kel = ('0' + i).slice(-2);\r\n                    const currKeluarga = keluarga[id_anggota_kel] || {}\r\n                    newkeluarga[id_anggota_kel] = {\r\n                        no_urutnik: i,\r\n                        ...currKeluarga\r\n                    }\r\n                }\r\n                setForms([\r\n                    { type: 'wilayah' },\r\n                    ...Object.keys(newkeluarga).map(key => ({ type: 'keluarga', id: key })),\r\n                    { type: 'kb' },\r\n                    { type: 'pk' }\r\n                ])\r\n                return newkeluarga;\r\n            })\r\n\r\n        }\r\n    }, [wilayah.jumlah_keluarga])\r\n    \r\n    const resetForm = () => {\r\n        setSlide({\r\n            direction: \"right\",\r\n            in: false,\r\n            navigationMode: \"next\"\r\n        });\r\n        setTimeout(() => {\r\n            setForms([{ type: 'wilayah' }]);\r\n            setFormIndex(0);\r\n            setSlide({\r\n                direction: \"left\",\r\n                in: true,\r\n                navigationMode: \"next\"\r\n            })\r\n            setWilayah({})\r\n            setKeluarga({})\r\n            setKB({})\r\n            setNormalizeKB({})\r\n            setPK({})\r\n            setNormalizePK({})\r\n\r\n            setDone(false);\r\n        }, 300)\r\n    }\r\n    const handleNext = () => {\r\n\r\n        setSlide({\r\n            direction: \"right\",\r\n            in: false,\r\n            navigationMode: \"next\"\r\n        });\r\n        setTimeout(() => {\r\n\r\n            if (formIndex >= (forms.length - 1)) {\r\n                setDone(true);\r\n            } else {\r\n                setFormIndex(index => index + 1);\r\n            }\r\n            setSlide({\r\n                direction: \"left\",\r\n                in: true,\r\n                navigationMode: \"next\"\r\n            })\r\n\r\n        }, 300)\r\n\r\n    }\r\n\r\n\r\n    const handleBack = () => {\r\n        setSlide({\r\n            direction: \"left\",\r\n            in: false,\r\n            navigationMode: \"back\"\r\n        });\r\n        setTimeout(() => {\r\n\r\n            setFormIndex(index => index - 1);\r\n            setSlide({\r\n                direction: \"right\",\r\n                in: true,\r\n                navigationMode: \"back\"\r\n            })\r\n\r\n        }, 300)\r\n    }\r\n\r\n    if (done) {\r\n        return <><Slide direction={slide.direction} in={slide.in}>\r\n            <div>\r\n                <Finish\r\n                    wilayah={wilayah}\r\n                    keluarga={keluarga}\r\n                    normalizePK={normalizePK}\r\n                    normalizeKB={normalizeKB}\r\n                    resetForm={resetForm}\r\n                // pk={pk}\r\n                // kb={kb}\r\n                />\r\n            </div>\r\n        </Slide>\r\n        </>\r\n    }\r\n\r\n    const f = forms[formIndex];\r\n\r\n    //console.log(slide, formIndex, wilayah, keluarga, kb, pk)\r\n    // console.log(normalizeKB);\r\n    // console.log(normalizePK)\r\n    return <Container maxWidth=\"md\" className={classes.container}>\r\n        <Slide direction={slide.direction} in={slide.in}>\r\n            <div>\r\n                {f.type === 'wilayah' &&\r\n\r\n                    <Wilayah\r\n\r\n                        wilayah={wilayah}\r\n                        setWilayah={setWilayah}\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n\r\n                    />\r\n\r\n                }\r\n\r\n                {\r\n                    f.type === 'keluarga' &&\r\n\r\n                    <Keluarga\r\n                        id={f.id}\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n                        handleBack={handleBack}\r\n                        keluarga={keluarga}\r\n                        setKeluarga={setKeluarga}\r\n                        formIndex={formIndex}\r\n                        wilayah={wilayah}\r\n                    />\r\n\r\n                }\r\n                {\r\n                    f.type === 'kb' &&\r\n                    <KB\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n                        handleBack={handleBack}\r\n                        mainSlide={slide}\r\n                        keluarga={keluarga}\r\n                        wilayah={wilayah}\r\n                        kb={kb}\r\n                        setKB={setKB}\r\n                        setNormalizeKB={setNormalizeKB}\r\n                    />\r\n\r\n                }\r\n\r\n                {\r\n                    f.type === 'pk' &&\r\n                    <PK\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n                        handleBack={handleBack}\r\n                        mainSlide={slide}\r\n                        keluarga={keluarga}\r\n                        wilayah={wilayah}\r\n                        kb={kb}\r\n                        pk={pk}\r\n                        setPK={setPK}\r\n                        setNormalizePK={setNormalizePK}\r\n                    />\r\n                }\r\n            </div>\r\n        </Slide>\r\n\r\n        {/* formNodes.length > 0 && <Carousel\r\n            autoplay={false}\r\n            enableKeyboardControls={false}\r\n            withoutControls\r\n            swiping={false}\r\n            dragging={false}\r\n            slideIndex={formIndex}\r\n            heightMode=\"current\"\r\n\r\n        >\r\n            {formNodes}\r\n\r\n            <Wilayah\r\n            wilayah={wilayah}\r\n            setWilayah={setWilayah}\r\n            setFormIndex={setFormIndex}\r\n        />\r\n        {\r\n            Object.keys(keluarga).map((key) => {\r\n\r\n                return <Keluarga\r\n                    key={key}\r\n                    id={key}\r\n                    setFormIndex={setFormIndex}\r\n                    keluarga={keluarga}\r\n                    setKeluarga={setKeluarga}\r\n                />\r\n            })\r\n        }  </Carousel>} */}\r\n    </Container>\r\n}\r\n//","export default {\r\n\r\n    \"0101\": (normalize) => {\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n        const answer2 = 'answer' in normalize ? normalize.answer[1] : {};\r\n        return {\r\n            kelahiran: 'Jawaban_H1' in normalize ? normalize.Jawaban_H1 : {},\r\n            lahir_hidup_laki_laki: 'Jawaban_D1' in answer1 ? answer1.Jawaban_D1.toString() : {},\r\n            lahir_hidup_perempuan: 'Jawaban_D2' in answer1 ? answer1.Jawaban_D2.toString() : {},\r\n            masih_hidup_laki_laki: 'Jawaban_D1' in answer2 ? answer2.Jawaban_D1.toString() : {},\r\n            masih_hidup_perempuan: 'Jawaban_D2' in answer2 ? answer2.Jawaban_D2.toString() : {}\r\n\r\n        }\r\n    },\r\n    \"0102\": (normalize) => {\r\n        return {\r\n            jumlah_anak: normalize.Jawaban_H1\r\n        }\r\n    },\r\n\r\n    \"0103\": (normalize) => {\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n        const sedang_hamil = answer1.No_Jawaban;\r\n        let beauty = {\r\n            sedang_hamil\r\n        };\r\n        if (sedang_hamil === \"1\") {\r\n            beauty.sedang_hamil_ingin = answer1.pilihankb;\r\n            beauty.usia_kehamilan = answer1.Jawaban_D1\r\n        } else if (sedang_hamil === \"2\") {\r\n            beauty.ingin_anak = answer1.pilihankb;\r\n        }\r\n\r\n        return beauty;\r\n    },\r\n    \"0104\": (normalize) => {\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n\r\n        return {\r\n            menggunakan_kontrasepsi: answer1.No_Jawaban,\r\n            bulan_pakai: answer1.Jawaban_D1 ? answer1.Jawaban_D1 : '',\r\n            tahun_pakai: answer1.Jawaban_D2 ? answer1.Jawaban_D2 : '',\r\n        }\r\n    },\r\n    \"0105\": (normalize) => {\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n\r\n        return {\r\n            pernah_menggunakan_kontrasepsi: answer1.No_Jawaban,\r\n            bulan_mulai: answer1.Jawaban_D1 ? answer1.Jawaban_D1 : '',\r\n            tahun_mulai: answer1.Jawaban_D2 ? answer1.Jawaban_D2 : '',\r\n            bulan_berhenti: answer1.Jawab_D3 ? answer1.Jawab_D3 : '',\r\n            tahun_berhenti: answer1.Jawab_D4 ? answer1.Jawab_D4 : ''\r\n        }\r\n    },\r\n    \"0106\": (normalize) => {\r\n\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n        return {\r\n            alasan_tidak_kb: answer1.No_Jawaban,\r\n            alasan_tidak_kb_lainnya: answer1.Lainnya\r\n        }\r\n\r\n\r\n    },\r\n    \"0107\": (normalize) => {\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n\r\n        return {\r\n            jenis_kontrasepsi: answer1.No_Jawaban\r\n        }\r\n    },\r\n    // \"0107a\": (normalize) => {\r\n\r\n\r\n    //     return {\r\n    //         bulan_mulai_menggunakan_modern: normalize.Jawaban_H1,\r\n    //         tahun_mulai_menggunakan_modern: normalize.Jawaban_H2\r\n    //     }\r\n    // },\r\n    \"0108\": (normalize) => {\r\n\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n\r\n        return {\r\n            tempat_pelayanan: answer1.No_Jawaban,\r\n            tempat_pelayanan_lainnya: answer1.Lainnya\r\n        }\r\n\r\n\r\n    },\r\n    \"0109\": (normalize) => {\r\n\r\n        const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n        const answer2 = 'answer' in normalize ? normalize.answer[1] : {};\r\n        const answer3 = 'answer' in normalize ? normalize.answer[2] : {};\r\n\r\n        return {\r\n            info_jenis_kb: answer1.pilihankb,\r\n            info_efek_samping_kb: answer2.pilihankb,\r\n            info_jika_mengalami_efek: answer3.pilihankb\r\n        }\r\n    }\r\n}","\r\nimport subforms from './questions.json';\r\n\r\nexport default (qid, normalize) => {\r\n\r\n    const answer1 = 'answer' in normalize ? normalize.answer[0] : {};\r\n    const answer2 = 'answer' in normalize ? normalize.answer[1] : {};\r\n    const answer3 = 'answer' in normalize ? normalize.answer[2] : {};\r\n    const answer4 = 'answer' in normalize ? normalize.answer[3] : {};\r\n\r\n\r\n    if (subforms[qid].tipe === 'radio') {\r\n\r\n        return {\r\n            jawaban: normalize.Jawab_Pilih,\r\n            kondisi: normalize.Jawaban_H1,\r\n            jawaban_lainnya: normalize.Lainnya\r\n        }\r\n    } else if (subforms[qid].tipe === 'number') {\r\n\r\n        return {\r\n            jawaban: 'Jawaban_H1' in normalize ? normalize.Jawaban_H1.toString() : '',\r\n            jawaban_lainnya: normalize.Lainnya\r\n        }\r\n    } else if (subforms[qid].tipe === 'number_26') {\r\n\r\n        return {\r\n            jawaban: 'Jawaban_H1' in normalize ? normalize.Jawaban_H1.toString() : '',\r\n            jawaban_lainnya: normalize.Lainnya\r\n        }\r\n    }else if (subforms[qid].tipe === 'checkbox') {\r\n\r\n        return {\r\n            jawaban: normalize.Jawab_Pilih,\r\n            kondisi: normalize.Jawaban_H1,\r\n            jawaban_lainnya: normalize.Lainnya\r\n        }\r\n\r\n    } else if (subforms[qid].tipe === 'subformradio') {\r\n\r\n        // const answer1 = normalize.answer[0];\r\n        // const answer2 = normalize.answer[1];\r\n        // const answer3 = normalize.answer[2];\r\n        // const answer4 = normalize.answer[3];\r\n\r\n        return {\r\n            jawabanA: answer1.pilihanpk,\r\n            jawabanB: answer2.pilihanpk,\r\n            jawabanC: answer3.pilihanpk,\r\n            jawabanD: answer4.pilihanpk\r\n        }\r\n    }  else if (subforms[qid].tipe === 'subformradio_18') {\r\n\r\n        // const answer1 = normalize.answer[0];\r\n        // const answer2 = normalize.answer[1];\r\n        // const answer3 = normalize.answer[2];\r\n        // const answer4 = normalize.answer[3];\r\n\r\n        return {\r\n            jawabanA: answer1.pilihanpk,\r\n            jawabanB: answer2.pilihanpk,\r\n            jawabanC: answer3.pilihanpk,\r\n            jawabanD: answer4.pilihanpk\r\n        }\r\n    }\r\n\r\n    return {}\r\n\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\n//forms component\r\nimport Wilayah from './wilayah';\r\nimport Keluarga from './keluarga';\r\nimport KB from './kb';\r\nimport PK from './pk';\r\nimport Finish from './finish';\r\n\r\n// material-ui components\r\nimport Slide from '@material-ui/core/Slide';\r\n// import Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport useStyles from './styles/index';\r\n\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { usePouchDB } from '../../../components/PouchDB/PouchDBProvider';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport AppPageLoading from '../../../components/AppPageLoading';\r\n\r\nimport lodashGet from 'lodash/get';\r\n\r\nimport beautyKB from './kb/beauty';\r\nimport beautyPK from './pk/beauty';\r\nimport beauty from './kb/beauty';\r\n\r\nexport default function EditForm() {\r\n    // console.log('here i am')\r\n    const classes = useStyles();\r\n    const params = useParams();\r\n    const history = useHistory();\r\n    // console.log(params)\r\n    const { dataKK, dataKB, dataPK, dataBkkbn } = usePouchDB();\r\n    const [isFetching, setFetching] = useState(false);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [forms, setForms] = useState([{ type: 'wilayah' }]);\r\n    const [formIndex, setFormIndex] = useState(0);\r\n    const [done, setDone] = useState(false);\r\n    const [slide, setSlide] = useState({\r\n        direction: \"left\",\r\n        in: true,\r\n        navigationMode: \"next\"\r\n    });\r\n\r\n    const [wilayah, setWilayah] = useState({\r\n\r\n    })\r\n\r\n    const [keluarga, setKeluarga] = useState({\r\n\r\n    })\r\n\r\n    const [kb, setKB] = useState({\r\n\r\n    })\r\n\r\n    const [normalizeKB, setNormalizeKB] = useState({});\r\n\r\n    const [pk, setPK] = useState({\r\n\r\n    })\r\n\r\n    const [normalizePK, setNormalizePK] = useState({});\r\n\r\n    const fillForm = async (didCancel) => {\r\n        setFetching(true);\r\n\r\n        try {\r\n            const kkDoc = await dataBkkbn.local.get(params._id);\r\n            // const kbQuery = await dataBkkbn.local.find({\r\n            //     selector: {\r\n            //         No_KK: { $eq: params.no_kk }\r\n            //     }\r\n            // })\r\n            // const pkQuery = await dataBkkbn.local.find({\r\n            //     selector: {\r\n            //         No_KK: { $eq: params.no_kk }\r\n            //     }\r\n            // })\r\n\r\n\r\n            if (!didCancel) {\r\n\r\n                if (kkDoc) {\r\n\r\n                    const { data_nik, ...data_bkkbn } = kkDoc;\r\n\r\n                    setWilayah(data_bkkbn);\r\n                    let newkeluarga = {}\r\n                    for (let i = 0; i < data_nik.length; i++) {\r\n\r\n                        const id_anggota_kel = ('0' + data_nik[i].no_urutnik).slice(-2);\r\n                        const currKeluarga = data_nik[i] || {}\r\n                        newkeluarga[id_anggota_kel] = {\r\n\r\n                            ...currKeluarga,\r\n                            sts_hubungan: currKeluarga.sts_hubungan.toString(),\r\n                            sts_kawin: currKeluarga.sts_kawin.toString(),\r\n                            jns_pendidikan: currKeluarga.jns_pendidikan.toString(),\r\n                            jns_asuransi: currKeluarga.jns_asuransi.toString(),\r\n                            id_agama: currKeluarga.id_agama.toString(),\r\n                            id_pekerjaan: currKeluarga.id_pekerjaan.toString(),\r\n                            usia_kawin: currKeluarga.usia_kawin ? lodashGet(currKeluarga, 'usia_kawin', '').toString() : '',\r\n                            // sts_hubanak_ibu: currKeluarga.sts_hubanak_ibu ? lodashGet(currKeluarga, 'sts_hubanak_ibu', '').toString() : '',\r\n                            kd_ibukandung: currKeluarga.kd_ibukandung ? lodashGet(currKeluarga, 'kd_ibukandung', '').toString() : '0',\r\n                            keberadaan: currKeluarga.keberadaan ? lodashGet(currKeluarga, 'keberadaan', '').toString() : '',\r\n                        }\r\n\r\n\r\n                    }\r\n                    setKeluarga(newkeluarga);\r\n                    console.log(newkeluarga);\r\n\r\n                }\r\n\r\n                if (kkDoc) {\r\n\r\n                    const { data_kb, ...data_bkkbn } = kkDoc;\r\n\r\n                    setKB(data_bkkbn);\r\n                    let newkb = {};\r\n                    for (let i = 0; i < data_kb.length; i++) {\r\n                        let qid = ''\r\n\r\n                        if (Object.keys(data_kb[i]).length === 0) {\r\n                            let newIndex = i + 1\r\n                            qid = `010${newIndex}`\r\n                        } else {\r\n                            let no_tes = parseInt(data_kb[i]._id.length) - 4\r\n                            qid = (`${data_kb[i]._id}`).slice(no_tes);\r\n                        }\r\n\r\n                        //const qid = '0101'\r\n\r\n                        const beauty = beautyKB[qid](data_kb[i]);\r\n                        //const beauty = data_kb[i] || {}\r\n                        newkb[qid] = {\r\n                            _rev: kkDoc._rev,\r\n                            ...beauty\r\n                        }\r\n                    }\r\n\r\n                    setKB(newkb);\r\n                    console.log(newkb)\r\n                }\r\n\r\n\r\n\r\n                if (kkDoc) {\r\n\r\n                    const { data_pk, ...data_bkkbn } = kkDoc;\r\n\r\n                    setPK(data_bkkbn);\r\n                    let newpk = {};\r\n                    for (let i = 0; i < data_pk.length; i++) {\r\n                        let qid = ''\r\n\r\n                        if (Object.keys(data_pk[i]).length === 0) {\r\n                            let newIndex = i + 1\r\n                            if (newIndex > 9) {\r\n                            qid = `02${newIndex}`\r\n                        } else {\r\n                                qid = `020${newIndex}`\r\n                            }\r\n                        } else {\r\n                            let no_tes = parseInt(data_pk[i]._id.length) - 4\r\n                            qid = (`${data_pk[i]._id}`).slice(no_tes);\r\n                        }\r\n\r\n\r\n                        const beauty = beautyPK(qid, data_pk[i]);\r\n\r\n                        newpk[qid] = {\r\n                            _rev: kkDoc._rev,\r\n                            ...beauty\r\n                        }\r\n                    }\r\n\r\n                    setPK(newpk);\r\n                    console.log(newpk)\r\n                }\r\n\r\n                setFetching(false);\r\n            }\r\n\r\n        } catch (e) {\r\n            if (!didCancel) {\r\n                enqueueSnackbar(\"Gagal memuat data: \" + e.message, { variant: \"error\" })\r\n                history.push('/')\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (params._id) {\r\n            let didCancel = false;\r\n\r\n            fillForm(didCancel);\r\n\r\n\r\n            return () => {\r\n                didCancel = true;\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }, [params._id]);\r\n\r\n    useEffect(() => {\r\n        if (wilayah.jumlah_keluarga) {\r\n            const jumlah_keluarga = parseInt(wilayah.jumlah_keluarga);\r\n\r\n            setKeluarga(keluarga => {\r\n                let newkeluarga = {}\r\n                for (let i = 1; i <= jumlah_keluarga; i++) {\r\n                    const id_anggota_kel = ('0' + i).slice(-2);\r\n                    const currKeluarga = keluarga[id_anggota_kel] || {}\r\n                    newkeluarga[id_anggota_kel] = {\r\n                        no_urutnik: i,\r\n                        ...currKeluarga\r\n                    }\r\n                }\r\n                setForms([\r\n                    { type: 'wilayah' },\r\n                    ...Object.keys(newkeluarga).map(key => ({ type: 'keluarga', id: key })),\r\n                    { type: 'kb' },\r\n                    { type: 'pk' }\r\n                ])\r\n                return newkeluarga;\r\n            })\r\n\r\n        }\r\n    }, [wilayah.jumlah_keluarga])\r\n\r\n    if (isFetching) {\r\n\r\n        return <AppPageLoading />\r\n    }\r\n\r\n    const resetForm = () => {\r\n        history.push('/form')\r\n        // setSlide({\r\n        //     direction: \"right\",\r\n        //     in: false,\r\n        //     navigationMode: \"next\"\r\n        // });\r\n        // setTimeout(() => {\r\n        //     setForms([{ type: 'wilayah' }]);\r\n        //     setFormIndex(0);\r\n        //     setSlide({\r\n        //         direction: \"left\",\r\n        //         in: true,\r\n        //         navigationMode: \"next\"\r\n        //     })\r\n        //     setWilayah({})\r\n        //     setKeluarga({})\r\n        //     setKB({})\r\n        //     setNormalizeKB({})\r\n        //     setPK({})\r\n        //     setNormalizePK({})\r\n\r\n        //     setDone(false);\r\n        // }, 300)\r\n    }\r\n    const handleNext = () => {\r\n\r\n        setSlide({\r\n            direction: \"right\",\r\n            in: false,\r\n            navigationMode: \"next\"\r\n        });\r\n        setTimeout(() => {\r\n\r\n            if (formIndex >= (forms.length - 1)) {\r\n                setDone(true);\r\n            } else {\r\n                setFormIndex(index => index + 1);\r\n            }\r\n            setSlide({\r\n                direction: \"left\",\r\n                in: true,\r\n                navigationMode: \"next\"\r\n            })\r\n\r\n        }, 300)\r\n\r\n    }\r\n\r\n\r\n    const handleBack = () => {\r\n        setSlide({\r\n            direction: \"left\",\r\n            in: false,\r\n            navigationMode: \"back\"\r\n        });\r\n        setTimeout(() => {\r\n\r\n            setFormIndex(index => index - 1);\r\n            setSlide({\r\n                direction: \"right\",\r\n                in: true,\r\n                navigationMode: \"back\"\r\n            })\r\n\r\n        }, 300)\r\n    }\r\n\r\n    if (done) {\r\n        return <><Slide direction={slide.direction} in={slide.in}>\r\n            <div>\r\n                <Finish\r\n                    wilayah={wilayah}\r\n                    keluarga={keluarga}\r\n                    normalizePK={normalizePK}\r\n                    normalizeKB={normalizeKB}\r\n                    resetForm={resetForm}\r\n                    mode=\"edit\"\r\n                    no_kk={params.no_kk}\r\n                // pk={pk}\r\n                // kb={kb}\r\n                />\r\n            </div>\r\n        </Slide>\r\n        </>\r\n    }\r\n\r\n    const f = forms[formIndex];\r\n\r\n    // console.log(wilayah, keluarga, kb, pk)\r\n    // console.log(normalizeKB);\r\n    // console.log(normalizePK)\r\n    return <Container maxWidth=\"md\" className={classes.container}>\r\n        <Slide direction={slide.direction} in={slide.in}>\r\n            <div>\r\n                {f.type === 'wilayah' &&\r\n\r\n                    <Wilayah\r\n                        mode=\"edit\"\r\n                        wilayah={wilayah}\r\n                        setWilayah={setWilayah}\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n\r\n                    />\r\n\r\n                }\r\n\r\n                {\r\n                    f.type === 'keluarga' &&\r\n\r\n                    <Keluarga\r\n                        id={f.id}\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n                        handleBack={handleBack}\r\n                        keluarga={keluarga}\r\n                        setKeluarga={setKeluarga}\r\n                        formIndex={formIndex}\r\n                        mode=\"edit\"\r\n                        no_kk={params.no_kk}\r\n                        wilayah={wilayah}\r\n                    />\r\n\r\n                }\r\n                {\r\n                    f.type === 'kb' &&\r\n                    <KB\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n                        handleBack={handleBack}\r\n                        mainSlide={slide}\r\n                        keluarga={keluarga}\r\n                        wilayah={wilayah}\r\n                        kb={kb}\r\n                        setKB={setKB}\r\n                        setNormalizeKB={setNormalizeKB}\r\n                        mode=\"edit\"\r\n                        no_kk={params.no_kk}\r\n                    />\r\n\r\n                }\r\n\r\n                {\r\n                    f.type === 'pk' &&\r\n                    <PK\r\n                        setFormIndex={setFormIndex}\r\n                        handleNext={handleNext}\r\n                        handleBack={handleBack}\r\n                        mainSlide={slide}\r\n                        keluarga={keluarga}\r\n                        wilayah={wilayah}\r\n                        kb={kb}\r\n                        pk={pk}\r\n                        setPK={setPK}\r\n                        setNormalizePK={setNormalizePK}\r\n                        mode=\"edit\"\r\n                        no_kk={params.no_kk}\r\n                    />\r\n                }\r\n            </div>\r\n        </Slide>\r\n\r\n    </Container>\r\n}\r\n//","import { makeStyles } from '@material-ui/core/styles';\r\nimport green from '@material-ui/core/colors/green';\r\nimport red from '@material-ui/core/colors/red';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport blueGrey from '@material-ui/core/colors/blueGrey';\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    container: {\r\n        // marginTop: theme.spacing(8),\r\n        padding: theme.spacing(2),\r\n        //  textAlign: 'center'\r\n    },\r\n    textCenter: {\r\n        textAlign: 'center'\r\n    }\r\n\r\n}))\r\n\r\nexport default useStyles;","import React, { useEffect, useState } from 'react';\r\n\r\n// material-ui\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport useStyles from './styles';\r\n\r\nfunction DefOP() {\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n\r\n    return (\r\n        <Container maxWidth=\"md\" className={classes.container}>\r\n\r\n            <Grid container spacing={3}>\r\n\r\n                <Grid item xs={12} className={classes.textCenter}>\r\n                    <Typography variant=\"h5\" component=\"h1\">Definisi Operasional</Typography>\r\n\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Divider />\r\n                </Grid>\r\n            </Grid>\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default DefOP;","import React from 'react';\nimport Version from '../../package.json';\n\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            BKKBN{' '}\n            {new Date().getFullYear()}\n            {'.'} <br/>\n            Versi {Version.version}\n        </Typography>\n    );\n\n}","import React from 'react';\r\n\r\n//material ui components\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Container from '@material-ui/core/Container';\r\nimport Button from '@material-ui/core/Button';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n// material ui icons\r\nimport SignOutIcon from '@material-ui/icons/ExitToApp';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport UserIcon from '@material-ui/icons/Person';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n//styles\r\nimport useStyles from './styles';\r\n\r\n//react router \r\nimport { Switch, Route, Link } from 'react-router-dom';\r\n\r\n// komponen halaman private\r\nimport Home from './home';\r\nimport List from './list';\r\nimport Form from './forms/index';\r\nimport EditForm from './forms/edit';\r\nimport DefOP from './definisi-op/index'\r\nimport { usePouchDB } from '../../components/PouchDB/PouchDBProvider';\r\nimport { useDataSync } from '../../components/PouchDB/DataSyncProvider';\r\nimport Copyright from '../../components/Copyright';\r\n//images\r\nimport logo from '../../images/logo.png';\r\nimport { Divider } from '@material-ui/core';\r\nimport qs from 'query-string';\r\n\r\n// offline detector\r\nimport { Detector } from \"react-detect-offline\";\r\nimport Connected from '@material-ui/icons/Wifi';\r\nimport Disconnected from '@material-ui/icons/WifiOff';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function Private({ history, match, location }) {\r\n    const classes = useStyles();\r\n    const queryString = qs.parse(location.search)\r\n    const { logoutAndClearLocal, user } = usePouchDB();\r\n    const { isSyncing } = useDataSync();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [anchorElSearch, setAnchorElSearch] = React.useState(null);\r\n    const handleClickSearch = event => {\r\n        setAnchorElSearch(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseSearch = () => {\r\n        setAnchorElSearch(null)\r\n    }\r\n\r\n    const handleClickMenu = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseMenu = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleSignOut = async (e) => {\r\n        try {\r\n            await logoutAndClearLocal()\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    const [openNotification, setOpenNotification] = React.useState(null);\r\n\r\n    const handleClickNotification = event => {\r\n        if (openNotification && openNotification.contains(event.target)) {\r\n            setOpenNotification(null);\r\n        } else {\r\n            setOpenNotification(event.currentTarget);\r\n        }\r\n        isSyncing.statusNotif.count = 0;\r\n\r\n    };\r\n\r\n    const handleCloseNotification = () => {\r\n        setOpenNotification(null);\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        handleCloseNotification();\r\n        history.push(\"/list\")\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            <AppBar position=\"absolute\" className={classes.appBar}>\r\n                <Toolbar className={classes.toolbar}>\r\n                    <Hidden xsDown>\r\n                        <div className={classes.title}>\r\n                            <Link to=\"/\">\r\n                                <img src={logo} alt=\"logo\" className={classes.logo} />\r\n                            </Link>\r\n                        </div>\r\n\r\n                        <div className={classes.search}>\r\n                            <div className={classes.searchIcon}>\r\n                                <SearchIcon />\r\n                            </div>\r\n                            <InputBase\r\n                                placeholder=\"Search…\"\r\n                                classes={{\r\n                                    root: classes.inputRoot,\r\n                                    input: classes.inputInput,\r\n                                }}\r\n                                inputProps={{ 'aria-label': 'search' }}\r\n                                value={queryString.query || ''}\r\n                                onChange={(e) => {\r\n\r\n                                    history.push({ pathname: '/list', search: `?query=${e.target.value}` })\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </Hidden>\r\n                    <Hidden smUp>\r\n                        <div className={classes.searchMobile}>\r\n                            <IconButton onClick={handleClickSearch} aria-label=\"show 4 new mails\">\r\n                                <SearchIcon />\r\n                            </IconButton>\r\n                            <Popover\r\n                                anchorOrigin={{\r\n                                    vertical: 'bottom',\r\n                                    horizontal: 'left',\r\n                                }}\r\n                                transformOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'left',\r\n                                }}\r\n                                anchorEl={anchorElSearch}\r\n                                open={Boolean(anchorElSearch)}\r\n                                onClose={handleCloseSearch}\r\n                            >\r\n                                <InputBase\r\n                                    autoFocus\r\n                                    placeholder=\"Search…\"\r\n                                    classes={{\r\n                                        root: classes.inputRoot,\r\n                                        input: classes.inputInputMobile,\r\n                                    }}\r\n                                    inputProps={{ 'aria-label': 'search' }}\r\n                                    value={queryString.query || ''}\r\n                                    onChange={(e) => {\r\n\r\n                                        history.push({ pathname: '/list', search: `?query=${e.target.value}` })\r\n                                    }}\r\n                                />\r\n                            </Popover>\r\n                        </div>\r\n                    </Hidden>\r\n\r\n                    <div className={classes.space}></div>\r\n                    {isSyncing.syncBkkbn ? <Tooltip title=\"Syncing...\" aria-label=\"syncing\"><CircularProgress size={24} /></Tooltip > : <Detector\r\n                        render={({ online }) => {\r\n                            return online ? <Connected className={classes.iconColor} /> : <Disconnected className={classes.iconColor} />;\r\n                        }}\r\n                    />}\r\n                    <IconButton aria-label=\"show 4 new mails\" className={classes.iconColor}>\r\n                        <Badge badgeContent={0} color=\"secondary\">\r\n                            <MailIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n\r\n                    <IconButton aria-label=\"show 17 new notifications\" className={classes.iconColor} onClick={handleClickNotification}>\r\n                        <Badge badgeContent={isSyncing.statusNotif.count} color=\"secondary\">\r\n                            <NotificationsIcon />\r\n                        </Badge>\r\n                        <Hidden xsDown implementation=\"css\">\r\n                            <p onClick={handleCloseNotification} className={classes.linkText}></p>\r\n                        </Hidden>\r\n                    </IconButton>\r\n\r\n                    <Menu\r\n                        id=\"menu-notif\"\r\n                        open={Boolean(openNotification)}\r\n                        anchorEl={openNotification}\r\n\r\n                        keepMounted\r\n\r\n                        anchorOrigin={{\r\n                            vertical: 'bottom',\r\n                            horizontal: 'center',\r\n                        }}\r\n                        transformOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'center',\r\n                        }}\r\n                        onClose={handleCloseNotification}\r\n                        getContentAnchorEl={null}\r\n                    >\r\n                        {isSyncing.statusNotif.message.length <= 0 && <MenuItem>Belum ada notifikasi</MenuItem>}\r\n                        {isSyncing.statusNotif.message.length > 0 && isSyncing.statusNotif.message.map((item, index) => (\r\n                            <MenuItem\r\n                                key={item}\r\n                                onClick={handleClick}\r\n                                className={classes.notifItem}\r\n                            >\r\n                                {item.content}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Menu>\r\n\r\n\r\n\r\n                    <IconButton\r\n                        aria-label=\"account of current user\"\r\n                        aria-controls=\"menu-appbar\"\r\n                        aria-haspopup=\"true\"\r\n                        onClick={handleClickMenu}\r\n                        color=\"inherit\"\r\n                    >\r\n                        <Avatar className={classes.orangeAvatar}>{user.metadata.firstName.charAt(0) + user.metadata.lastName.charAt(0)}</Avatar>\r\n                    </IconButton>\r\n                    <Menu\r\n                        id=\"menu-appbar\"\r\n                        anchorEl={anchorEl}\r\n                        anchorOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        keepMounted\r\n                        transformOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        open={Boolean(anchorEl)}\r\n                        onClose={handleCloseMenu}\r\n                    >\r\n                        <MenuItem onClick={() => {\r\n                            history.push('/')\r\n                            handleCloseMenu()\r\n                        }}>\r\n                            <ListItemIcon><HomeIcon fontSize=\"small\" /></ListItemIcon>\r\n                            <ListItemText primary=\"Home\" /></MenuItem>\r\n                        <MenuItem onClick={() => {\r\n                            history.push('/form')\r\n                            handleCloseMenu()\r\n                        }}><ListItemIcon><UserIcon fontSize=\"small\" /></ListItemIcon>\r\n                            <ListItemText primary=\"Isi Form Pendataan Keluarga\" /></MenuItem>\r\n                        <MenuItem onClick={() => {\r\n                            history.push('/list')\r\n                            handleCloseMenu()\r\n                        }}><ListItemIcon><PeopleIcon fontSize=\"small\" /></ListItemIcon>\r\n                            <ListItemText primary=\"Daftar Keluarga\" /></MenuItem>\r\n                        <Divider />\r\n                        <MenuItem onClick={handleSignOut}><ListItemIcon><SignOutIcon fontSize=\"small\" /></ListItemIcon>\r\n                            <ListItemText primary=\"Logout\" /></MenuItem>\r\n                    </Menu>\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n\r\n            <main className={classes.content}>\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"md\" className={classes.container}>\r\n\r\n                    <Switch>\r\n                        <Route exact path=\"/form\" component={Form} />\r\n                        <Route path=\"/form/edit/:_id\" component={EditForm} />\r\n                        <Route path=\"/list\" component={List} />\r\n                        <Route path=\"/definisi-operasional\" component={DefOP} />\r\n                        <Route component={Home} />\r\n                    </Switch>\r\n\r\n                </Container>\r\n                <footer className={classes.footer}>\r\n                    <Container maxWidth=\"sm\">\r\n\r\n                        <Copyright />\r\n                    </Container>\r\n                </footer>\r\n            </main>\r\n\r\n        </div >\r\n    );\r\n}\r\n\r\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n// pouchdb hooks\nimport { usePouchDB } from './PouchDB/PouchDBProvider';\n\nimport DataSyncProvider from './PouchDB/DataSyncProvider';\n\n// import\nimport AppLoading from './AppLoading';\nfunction PrivateRoute({ component: Component, ...restProps }) {\n    const { user } = usePouchDB();\n    ////console.log(auth)\n\n    if (user.loading) {\n        return <AppLoading />\n    }\n\n    return <Route\n        {...restProps}\n        render={props => {\n            return user.isLoggedIn ?\n                <DataSyncProvider><Component  {...props} /></DataSyncProvider>\n                :\n                <Redirect to={{\n                    pathname: \"/login\",\n                    state: {\n                        //from: props.location\n                    }\n                }} />\n        }}\n    />\n}\n\nexport default PrivateRoute;","import { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/lightBlue';\n\nconst theme = createMuiTheme({\n\n    palette: {\n        primary: blue//{ main: \"#2699FB\" }\n    }\n\n})\n\nexport default theme;","import React from 'react';\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\n// page components\nimport NotFound from './pages/404';\nimport Login from './pages/login';\nimport Private from './pages/private';\n\n\n// app components\nimport PrivateRoute from './components/PrivateRoute';\nimport PouchDBProvider from './components/PouchDB/PouchDBProvider';\nimport ScrollToTop from './components/ScrollToTop';\n// material-ui components\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport ThemeProvider from '@material-ui/styles/ThemeProvider';\nimport theme from './config/theme';\nimport { SnackbarProvider } from \"notistack\";\n\n// // date picker\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nimport DateFnsUtils from '@date-io/date-fns';\n\n// the root component\n// import { Provider } from \"react-redux\";\n// import store from \"./store\";\n\nfunction App() {\n\n  return (\n    <>\n      <PouchDBProvider>\n        <CssBaseline />\n        <ThemeProvider theme={theme}>\n          <SnackbarProvider maxSnack={3} autoHideDuration={3000}>\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n              {/* <Provider store={store}> */}\n                <Router>\n                  <ScrollToTop />\n                  <Switch>\n                    <PrivateRoute path=\"/\" exact component={Private} />\n                    <PrivateRoute path=\"/form\" component={Private} />\n                    <PrivateRoute path=\"/list\" component={Private} />\n                    <PrivateRoute path=\"/definisi-operasional\" component={Private} />\n                    <Route path=\"/login\" component={Login} />\n                    <Route component={NotFound} />\n                  </Switch>\n                </Router>\n              {/* </Provider> */}\n            </MuiPickersUtilsProvider>\n          </SnackbarProvider>\n        </ThemeProvider>\n      </PouchDBProvider>\n\n    </>\n  );\n}\n\nexport default App;\n","\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n  ),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.',\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import { SW_INIT, SW_UPDATE } from './types';\r\n\r\nfunction rootReducer(state = {}, action) {\r\n    switch (action.type) {\r\n        case SW_INIT:\r\n            return {\r\n                ...state,\r\n                serviceWorkerInitialized: !state.serviceWorkerInitialized,\r\n            };\r\n        case SW_UPDATE:\r\n            return {\r\n                ...state,\r\n                serviceWorkerUpdated: !state.serviceWorkerUpdated,\r\n                serviceWorkerRegistration: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default rootReducer;","\r\nimport { createStore } from 'redux';\r\n\r\nimport rootReducer from './reducerUpdate';\r\n\r\nfunction configureStore() {\r\n    return createStore(rootReducer, {\r\n        serviceWorkerInitialized: false,\r\n        serviceWorkerUpdated: false,\r\n        serviceWorkerRegistration: null,\r\n    });\r\n}\r\n\r\nexport default configureStore;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { initializeFirebase } from './push-notification';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './storeUpdate';\r\nimport { SW_INIT, SW_UPDATE } from './types';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register({\r\n    onSuccess: () => store.dispatch({ type: SW_INIT }),\r\n    onUpdate: registration =>\r\n        store.dispatch({ type: SW_UPDATE, payload: registration }),\r\n});\r\ninitializeFirebase();","module.exports = __webpack_public_path__ + \"static/media/logo.f4dbd66d.png\";"],"sourceRoot":""}